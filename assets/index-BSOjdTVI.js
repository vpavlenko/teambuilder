(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var df={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function r0(){if(Vp)return Ol;Vp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Ol.Fragment=e,Ol.jsx=i,Ol.jsxs=i,Ol}var Np;function a0(){return Np||(Np=1,df.exports=r0()),df.exports}var st=a0(),mf={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function s0(){if(Op)return Tt;Op=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.iterator;function P(V){return V===null||typeof V!="object"?null:(V=I&&V[I]||V["@@iterator"],typeof V=="function"?V:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,W={};function Z(V,Y,ut){this.props=V,this.context=Y,this.refs=W,this.updater=ut||H}Z.prototype.isReactComponent={},Z.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},Z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function At(){}At.prototype=Z.prototype;function ht(V,Y,ut){this.props=V,this.context=Y,this.refs=W,this.updater=ut||H}var _t=ht.prototype=new At;_t.constructor=ht,X(_t,Z.prototype),_t.isPureReactComponent=!0;var Ht=Array.isArray,vt={H:null,A:null,T:null,S:null},Ot=Object.prototype.hasOwnProperty;function U(V,Y,ut,tt,et,St){return ut=St.ref,{$$typeof:s,type:V,key:Y,ref:ut!==void 0?ut:null,props:St}}function D(V,Y){return U(V.type,Y,void 0,void 0,void 0,V.props)}function T(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function S(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ut){return Y[ut]})}var C=/\/+/g;function O(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?S(""+V.key):Y.toString(36)}function b(){}function Qt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(b,b):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Jt(V,Y,ut,tt,et){var St=typeof V;(St==="undefined"||St==="boolean")&&(V=null);var Et=!1;if(V===null)Et=!0;else switch(St){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(V.$$typeof){case s:case e:Et=!0;break;case w:return Et=V._init,Jt(Et(V._payload),Y,ut,tt,et)}}if(Et)return et=et(V),Et=tt===""?"."+O(V,0):tt,Ht(et)?(ut="",Et!=null&&(ut=Et.replace(C,"$&/")+"/"),Jt(et,Y,ut,"",function(ie){return ie})):et!=null&&(T(et)&&(et=D(et,ut+(et.key==null||V&&V.key===et.key?"":(""+et.key).replace(C,"$&/")+"/")+Et)),Y.push(et)),1;Et=0;var he=tt===""?".":tt+":";if(Ht(V))for(var Lt=0;Lt<V.length;Lt++)tt=V[Lt],St=he+O(tt,Lt),Et+=Jt(tt,Y,ut,St,et);else if(Lt=P(V),typeof Lt=="function")for(V=Lt.call(V),Lt=0;!(tt=V.next()).done;)tt=tt.value,St=he+O(tt,Lt++),Et+=Jt(tt,Y,ut,St,et);else if(St==="object"){if(typeof V.then=="function")return Jt(Qt(V),Y,ut,tt,et);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Et}function J(V,Y,ut){if(V==null)return V;var tt=[],et=0;return Jt(V,tt,"","",function(St){return Y.call(ut,St,et++)}),tt}function at(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(ut){(V._status===0||V._status===-1)&&(V._status=1,V._result=ut)},function(ut){(V._status===0||V._status===-1)&&(V._status=2,V._result=ut)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var rt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Dt(){}return Tt.Children={map:J,forEach:function(V,Y,ut){J(V,function(){Y.apply(this,arguments)},ut)},count:function(V){var Y=0;return J(V,function(){Y++}),Y},toArray:function(V){return J(V,function(Y){return Y})||[]},only:function(V){if(!T(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Tt.Component=Z,Tt.Fragment=i,Tt.Profiler=u,Tt.PureComponent=ht,Tt.StrictMode=a,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,Tt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Tt.cache=function(V){return function(){return V.apply(null,arguments)}},Tt.cloneElement=function(V,Y,ut){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var tt=X({},V.props),et=V.key,St=void 0;if(Y!=null)for(Et in Y.ref!==void 0&&(St=void 0),Y.key!==void 0&&(et=""+Y.key),Y)!Ot.call(Y,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&Y.ref===void 0||(tt[Et]=Y[Et]);var Et=arguments.length-2;if(Et===1)tt.children=ut;else if(1<Et){for(var he=Array(Et),Lt=0;Lt<Et;Lt++)he[Lt]=arguments[Lt+2];tt.children=he}return U(V.type,et,void 0,void 0,St,tt)},Tt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},Tt.createElement=function(V,Y,ut){var tt,et={},St=null;if(Y!=null)for(tt in Y.key!==void 0&&(St=""+Y.key),Y)Ot.call(Y,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(et[tt]=Y[tt]);var Et=arguments.length-2;if(Et===1)et.children=ut;else if(1<Et){for(var he=Array(Et),Lt=0;Lt<Et;Lt++)he[Lt]=arguments[Lt+2];et.children=he}if(V&&V.defaultProps)for(tt in Et=V.defaultProps,Et)et[tt]===void 0&&(et[tt]=Et[tt]);return U(V,St,void 0,void 0,null,et)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(V){return{$$typeof:p,render:V}},Tt.isValidElement=T,Tt.lazy=function(V){return{$$typeof:w,_payload:{_status:-1,_result:V},_init:at}},Tt.memo=function(V,Y){return{$$typeof:v,type:V,compare:Y===void 0?null:Y}},Tt.startTransition=function(V){var Y=vt.T,ut={};vt.T=ut;try{var tt=V(),et=vt.S;et!==null&&et(ut,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Dt,rt)}catch(St){rt(St)}finally{vt.T=Y}},Tt.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},Tt.use=function(V){return vt.H.use(V)},Tt.useActionState=function(V,Y,ut){return vt.H.useActionState(V,Y,ut)},Tt.useCallback=function(V,Y){return vt.H.useCallback(V,Y)},Tt.useContext=function(V){return vt.H.useContext(V)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(V,Y){return vt.H.useDeferredValue(V,Y)},Tt.useEffect=function(V,Y){return vt.H.useEffect(V,Y)},Tt.useId=function(){return vt.H.useId()},Tt.useImperativeHandle=function(V,Y,ut){return vt.H.useImperativeHandle(V,Y,ut)},Tt.useInsertionEffect=function(V,Y){return vt.H.useInsertionEffect(V,Y)},Tt.useLayoutEffect=function(V,Y){return vt.H.useLayoutEffect(V,Y)},Tt.useMemo=function(V,Y){return vt.H.useMemo(V,Y)},Tt.useOptimistic=function(V,Y){return vt.H.useOptimistic(V,Y)},Tt.useReducer=function(V,Y,ut){return vt.H.useReducer(V,Y,ut)},Tt.useRef=function(V){return vt.H.useRef(V)},Tt.useState=function(V){return vt.H.useState(V)},Tt.useSyncExternalStore=function(V,Y,ut){return vt.H.useSyncExternalStore(V,Y,ut)},Tt.useTransition=function(){return vt.H.useTransition()},Tt.version="19.0.0",Tt}var Mp;function Xf(){return Mp||(Mp=1,mf.exports=s0()),mf.exports}var hn=Xf(),gf={exports:{}},Ml={},pf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function l0(){return Ip||(Ip=1,function(s){function e(J,at){var rt=J.length;J.push(at);t:for(;0<rt;){var Dt=rt-1>>>1,V=J[Dt];if(0<u(V,at))J[Dt]=at,J[rt]=V,rt=Dt;else break t}}function i(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var at=J[0],rt=J.pop();if(rt!==at){J[0]=rt;t:for(var Dt=0,V=J.length,Y=V>>>1;Dt<Y;){var ut=2*(Dt+1)-1,tt=J[ut],et=ut+1,St=J[et];if(0>u(tt,rt))et<V&&0>u(St,tt)?(J[Dt]=St,J[et]=rt,Dt=et):(J[Dt]=tt,J[ut]=rt,Dt=ut);else if(et<V&&0>u(St,rt))J[Dt]=St,J[et]=rt,Dt=et;else break t}}return at}function u(J,at){var rt=J.sortIndex-at.sortIndex;return rt!==0?rt:J.id-at.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],v=[],w=1,I=null,P=3,H=!1,X=!1,W=!1,Z=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function _t(J){for(var at=i(v);at!==null;){if(at.callback===null)a(v);else if(at.startTime<=J)a(v),at.sortIndex=at.expirationTime,e(_,at);else break;at=i(v)}}function Ht(J){if(W=!1,_t(J),!X)if(i(_)!==null)X=!0,Qt();else{var at=i(v);at!==null&&Jt(Ht,at.startTime-J)}}var vt=!1,Ot=-1,U=5,D=-1;function T(){return!(s.unstable_now()-D<U)}function S(){if(vt){var J=s.unstable_now();D=J;var at=!0;try{t:{X=!1,W&&(W=!1,At(Ot),Ot=-1),H=!0;var rt=P;try{e:{for(_t(J),I=i(_);I!==null&&!(I.expirationTime>J&&T());){var Dt=I.callback;if(typeof Dt=="function"){I.callback=null,P=I.priorityLevel;var V=Dt(I.expirationTime<=J);if(J=s.unstable_now(),typeof V=="function"){I.callback=V,_t(J),at=!0;break e}I===i(_)&&a(_),_t(J)}else a(_);I=i(_)}if(I!==null)at=!0;else{var Y=i(v);Y!==null&&Jt(Ht,Y.startTime-J),at=!1}}break t}finally{I=null,P=rt,H=!1}at=void 0}}finally{at?C():vt=!1}}}var C;if(typeof ht=="function")C=function(){ht(S)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,b=O.port2;O.port1.onmessage=S,C=function(){b.postMessage(null)}}else C=function(){Z(S,0)};function Qt(){vt||(vt=!0,C())}function Jt(J,at){Ot=Z(function(){J(s.unstable_now())},at)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_continueExecution=function(){X||H||(X=!0,Qt())},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return P},s.unstable_getFirstCallbackNode=function(){return i(_)},s.unstable_next=function(J){switch(P){case 1:case 2:case 3:var at=3;break;default:at=P}var rt=P;P=at;try{return J()}finally{P=rt}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(J,at){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var rt=P;P=J;try{return at()}finally{P=rt}},s.unstable_scheduleCallback=function(J,at,rt){var Dt=s.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?Dt+rt:Dt):rt=Dt,J){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=rt+V,J={id:w++,callback:at,priorityLevel:J,startTime:rt,expirationTime:V,sortIndex:-1},rt>Dt?(J.sortIndex=rt,e(v,J),i(_)===null&&J===i(v)&&(W?(At(Ot),Ot=-1):W=!0,Jt(Ht,rt-Dt))):(J.sortIndex=V,e(_,J),X||H||(X=!0,Qt())),J},s.unstable_shouldYield=T,s.unstable_wrapCallback=function(J){var at=P;return function(){var rt=P;P=at;try{return J.apply(this,arguments)}finally{P=rt}}}}(yf)),yf}var Up;function u0(){return Up||(Up=1,pf.exports=l0()),pf.exports}var _f={exports:{}},qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function o0(){if(xp)return qe;xp=1;var s=Xf();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)v+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,w){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:I==null?null:""+I,children:_,containerInfo:v,implementation:w}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,qe.createPortal=function(_,v){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,w)},qe.flushSync=function(_){var v=d.T,w=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=w,a.d.f()}},qe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},qe.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},qe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var w=v.as,I=p(w,v.crossOrigin),P=typeof v.integrity=="string"?v.integrity:void 0,H=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;w==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:I,integrity:P,fetchPriority:H}):w==="script"&&a.d.X(_,{crossOrigin:I,integrity:P,fetchPriority:H,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},qe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var w=p(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},qe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var w=v.as,I=p(w,v.crossOrigin);a.d.L(_,w,{crossOrigin:I,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},qe.preloadModule=function(_,v){if(typeof _=="string")if(v){var w=p(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},qe.requestFormReset=function(_){a.d.r(_)},qe.unstable_batchedUpdates=function(_,v){return _(v)},qe.useFormState=function(_,v,w){return d.H.useFormState(_,v,w)},qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},qe.version="19.0.0",qe}var zp;function c0(){if(zp)return _f.exports;zp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),_f.exports=o0(),_f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function h0(){if(Lp)return Ml;Lp=1;var s=u0(),e=Xf(),i=c0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),H=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),At=Symbol.for("react.memo"),ht=Symbol.for("react.lazy"),_t=Symbol.for("react.offscreen"),Ht=Symbol.for("react.memo_cache_sentinel"),vt=Symbol.iterator;function Ot(t){return t===null||typeof t!="object"?null:(t=vt&&t[vt]||t["@@iterator"],typeof t=="function"?t:null)}var U=Symbol.for("react.client.reference");function D(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===U?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case p:return"Portal";case w:return"Profiler";case v:return"StrictMode";case W:return"Suspense";case Z:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case H:return(t.displayName||"Context")+".Provider";case P:return(t._context.displayName||"Context")+".Consumer";case X:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case At:return n=t.displayName||null,n!==null?n:D(t.type)||"Memo";case ht:n=t._payload,t=t._init;try{return D(t(n))}catch{}}return null}var T=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,S=Object.assign,C,O;function b(t){if(C===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);C=n&&n[1]||"",O=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+C+t+O}var Qt=!1;function Jt(t,n){if(!t||Qt)return"";Qt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(k){var B=k}Reflect.construct(t,[],F)}else{try{F.call()}catch(k){B=k}t.call(F.prototype)}}else{try{throw Error()}catch(k){B=k}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),M=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===M.length)for(l=R.length-1,c=M.length-1;1<=l&&0<=c&&R[l]!==M[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==M[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==M[c]){var q=`
`+R[l].replace(" at new "," at ");return t.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",t.displayName)),q}while(1<=l&&0<=c);break}}}finally{Qt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?b(r):""}function J(t){switch(t.tag){case 26:case 27:case 5:return b(t.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 15:return t=Jt(t.type,!1),t;case 11:return t=Jt(t.type.render,!1),t;case 1:return t=Jt(t.type,!0),t;default:return""}}function at(t){try{var n="";do n+=J(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function rt(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function Dt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function V(t){if(rt(t)!==t)throw Error(a(188))}function Y(t){var n=t.alternate;if(!n){if(n=rt(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return V(c),t;if(f===l)return V(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function ut(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ut(t),n!==null)return n;t=t.sibling}return null}var tt=Array.isArray,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,St={pending:!1,data:null,method:null,action:null},Et=[],he=-1;function Lt(t){return{current:t}}function ie(t){0>he||(t.current=Et[he],Et[he]=null,he--)}function Gt(t,n){he++,Et[he]=t.current,t.current=n}var Fe=Lt(null),ai=Lt(null),mn=Lt(null),xi=Lt(null);function zi(t,n){switch(Gt(mn,n),Gt(ai,t),Gt(Fe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?rp(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=rp(t),n=ap(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(Fe),Gt(Fe,n)}function si(){ie(Fe),ie(ai),ie(mn)}function ws(t){t.memoizedState!==null&&Gt(xi,t);var n=Fe.current,r=ap(n,t.type);n!==r&&(Gt(ai,t),Gt(Fe,r))}function _a(t){ai.current===t&&(ie(Fe),ie(ai)),xi.current===t&&(ie(xi),wl._currentValue=St)}var va=Object.prototype.hasOwnProperty,Ir=s.unstable_scheduleCallback,Ea=s.unstable_cancelCallback,mc=s.unstable_shouldYield,Ds=s.unstable_requestPaint,Je=s.unstable_now,Wl=s.unstable_getCurrentPriorityLevel,pe=s.unstable_ImmediatePriority,Re=s.unstable_UserBlockingPriority,li=s.unstable_NormalPriority,tu=s.unstable_LowPriority,Cs=s.unstable_IdlePriority,gc=s.log,Ur=s.unstable_setDisableYieldValue,Li=null,je=null;function Vs(t){if(je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Li,t,void 0,(t.current.flags&128)===128)}catch{}}function Ln(t){if(typeof gc=="function"&&Ur(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Li,t)}catch{}}var Ke=Math.clz32?Math.clz32:nu,Ns=Math.log,eu=Math.LN2;function nu(t){return t>>>=0,t===0?32:31-(Ns(t)/eu|0)|0}var Pn=128,Pi=4194304;function On(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=On(r):(f&=E,f!==0?l=On(f):t||(y=E&~y,y!==0&&(l=On(y))))):(E=r&~c,E!==0?l=On(E):f!==0?l=On(f):t||(y=r&~y,y!==0&&(l=On(y)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function Bi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ta(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Os(){var t=Pn;return Pn<<=1,(Pn&4194176)===0&&(Pn=128),t}function ji(){var t=Pi;return Pi<<=1,(Pi&62914560)===0&&(Pi=4194304),t}function Aa(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ue(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function iu(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,M=t.hiddenUpdates;for(r=y&~r;0<r;){var q=31-Ke(r),F=1<<q;E[q]=0,R[q]=-1;var B=M[q];if(B!==null)for(M[q]=null,q=0;q<B.length;q++){var k=B[q];k!==null&&(k.lane&=-536870913)}r&=~F}l!==0&&ki(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function ki(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function qi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ke(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function ru(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function au(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Sp(t.type))}function Hi(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var Bn=Math.random().toString(36).slice(2),we="__reactFiber$"+Bn,ye="__reactProps$"+Bn,ui="__reactContainer$"+Bn,xr="__reactEvents$"+Bn,Sa="__reactListeners$"+Bn,jn="__reactHandles$"+Bn,Ms="__reactResources$"+Bn,Gi="__reactMarker$"+Bn;function zr(t){delete t[we],delete t[ye],delete t[xr],delete t[Sa],delete t[jn]}function Mn(t){var n=t[we];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ui]||r[we]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=up(t);t!==null;){if(r=t[we])return r;t=up(t)}return n}t=r,r=t.parentNode}return null}function oi(t){if(t=t[we]||t[ui]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Qi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Fi(t){var n=t[Ms];return n||(n=t[Ms]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Wt(t){t[Gi]=!0}var Is=new Set,ba={};function rn(t,n){We(t,n),We(t+"Capture",n)}function We(t,n){for(ba[t]=n,t=0;t<n.length;t++)Is.add(n[t])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Us={},xs={};function su(t){return va.call(xs,t)?!0:va.call(Us,t)?!1:pc.test(t)?xs[t]=!0:(Us[t]=!0,!1)}function Ki(t,n,r){if(su(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Yi(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function pn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lu(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function yc(t){var n=lu(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Lr(t){t._valueTracker||(t._valueTracker=yc(t))}function zs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=lu(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ra(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ci=/[\n"\\]/g;function re(t){return t.replace(ci,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Xi(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ye(n)):t.value!==""+Ye(n)&&(t.value=""+Ye(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?wa(t,y,Ye(n)):r!=null?wa(t,y,Ye(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ye(E):t.removeAttribute("name")}function Pr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ye(r):"",n=n!=null?""+Ye(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function wa(t,n,r){n==="number"&&Ra(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Pt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ye(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Br(t,n,r){if(n!=null&&(n=""+Ye(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ye(r):""}function Zi(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(tt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ye(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var _c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ls(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||_c.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function uu(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Ls(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Ls(t,f,n[f])}function Ps(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ec=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kn(t){return Ec.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var _n=null;function Da(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,fi=null;function di(t){var n=oi(t);if(n&&(t=n.stateNode)){var r=t[ye]||null;t:switch(t=n.stateNode,n.type){case"input":if(Xi(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+re(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ye]||null;if(!c)throw Error(a(90));Xi(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&zs(l)}break t;case"textarea":Br(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Pt(t,!!r.multiple,n,!1)}}}var Bs=!1;function ou(t,n,r){if(Bs)return t(n,r);Bs=!0;try{var l=t(n);return l}finally{if(Bs=!1,(hi!==null||fi!==null)&&(to(),hi&&(n=hi,t=fi,fi=hi=null,di(n),t)))for(n=0;n<t.length;n++)di(t[n])}}function jr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ye]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var vn=!1;if(an)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{vn=!1}var qn=null,$i=null,mi=null;function js(){if(mi)return mi;var t,n=$i,r=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function ks(){return!1}function De(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:ks,this.isPropagationStopped=ks,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=De(kt),qr=S({},kt,{view:0,detail:0}),cu=De(qr),Va,Na,Qn,Hr=S({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Va=t.screenX-Qn.screenX,Na=t.screenY-Qn.screenY):Na=Va=0,Qn=t),Va)},movementY:function(t){return"movementY"in t?t.movementY:Na}}),En=De(Hr),hu=S({},Hr,{dataTransfer:0}),Tc=De(hu),Gr=S({},qr,{relatedTarget:0}),Oa=De(Gr),qs=S({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ma=De(qs),fu=S({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ia=De(fu),Ac=S({},kt,{data:0}),Hs=De(Ac),Qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=mu[t])?!!n[t]:!1}function Fr(){return Gs}var gu=S({},qr,{key:function(t){if(t.key){var n=Qr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ua=De(gu),pu=S({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qs=De(pu),gi=S({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),yu=De(gi),_u=S({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=De(_u),Eu=S({},Hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=De(Eu),Xe=S({},kt,{newState:0,oldState:0}),Tu=De(Xe),Au=[9,13,27,32],Fn=an&&"CompositionEvent"in window,o=null;an&&"documentMode"in document&&(o=document.documentMode);var m=an&&"TextEvent"in window&&!o,g=an&&(!Fn||o&&8<o&&11>=o),A=" ",z=!1;function j(t,n){switch(t){case"keyup":return Au.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mt=!1;function _e(t,n){switch(t){case"compositionend":return $(n);case"keypress":return n.which!==32?null:(z=!0,A);case"textInput":return t=n.data,t===A&&z?null:t;default:return null}}function It(t,n){if(Mt)return t==="compositionend"||!Fn&&j(t,n)?(t=js(),mi=$i=qn=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function pi(t,n,r,l){hi?fi?fi.push(l):fi=[l]:hi=l,n=ao(n,"onChange"),0<n.length&&(r=new Ca("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ie=null,Kn=null;function Fs(t){Wg(t,0)}function Su(t){var n=Qi(t);if(zs(n))return t}function Cd(t,n){if(t==="change")return n}var Vd=!1;if(an){var Sc;if(an){var bc="oninput"in document;if(!bc){var Nd=document.createElement("div");Nd.setAttribute("oninput","return;"),bc=typeof Nd.oninput=="function"}Sc=bc}else Sc=!1;Vd=Sc&&(!document.documentMode||9<document.documentMode)}function Od(){Ie&&(Ie.detachEvent("onpropertychange",Md),Kn=Ie=null)}function Md(t){if(t.propertyName==="value"&&Su(Kn)){var n=[];pi(n,Kn,t,Da(t)),ou(Fs,n)}}function Uv(t,n,r){t==="focusin"?(Od(),Ie=n,Kn=r,Ie.attachEvent("onpropertychange",Md)):t==="focusout"&&Od()}function xv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(Kn)}function zv(t,n){if(t==="click")return Su(n)}function Lv(t,n){if(t==="input"||t==="change")return Su(n)}function Pv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:Pv;function Ks(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!va.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function Id(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ud(t,n){var r=Id(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Id(r)}}function xd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?xd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function zd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ra(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ra(t.document)}return n}function Rc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Bv(t,n){var r=zd(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&xd(n.ownerDocument.documentElement,n)){if(l!==null&&Rc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=Ud(n,f);var y=Ud(n,l);c&&y&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var jv=an&&"documentMode"in document&&11>=document.documentMode,za=null,wc=null,Ys=null,Dc=!1;function Ld(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dc||za==null||za!==Ra(l)||(l=za,"selectionStart"in l&&Rc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ys&&Ks(Ys,l)||(Ys=l,l=ao(wc,"onSelect"),0<l.length&&(n=new Ca("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=za)))}function Kr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var La={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},Cc={},Pd={};an&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Yr(t){if(Cc[t])return Cc[t];if(!La[t])return t;var n=La[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Pd)return Cc[t]=n[r];return t}var Bd=Yr("animationend"),jd=Yr("animationiteration"),kd=Yr("animationstart"),kv=Yr("transitionrun"),qv=Yr("transitionstart"),Hv=Yr("transitioncancel"),qd=Yr("transitionend"),Hd=new Map,Gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function In(t,n){Hd.set(t,n),rn(n,[t])}var Tn=[],Pa=0,Vc=0;function bu(){for(var t=Pa,n=Vc=Pa=0;n<t;){var r=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Qd(r,c,f)}}function Ru(t,n,r,l){Tn[Pa++]=t,Tn[Pa++]=n,Tn[Pa++]=r,Tn[Pa++]=l,Vc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Nc(t,n,r,l){return Ru(t,n,r,l),wu(t)}function Ji(t,n){return Ru(t,null,null,n),wu(t)}function Qd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Ke(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function wu(t){if(50<vl)throw vl=0,zh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ba={},Fd=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var r=Fd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:at(n)},Fd.set(t,n),n)}return{value:t,source:n,stack:at(n)}}var ja=[],ka=0,Du=null,Cu=0,Sn=[],bn=0,Xr=null,yi=1,_i="";function Zr(t,n){ja[ka++]=Cu,ja[ka++]=Du,Du=t,Cu=n}function Kd(t,n,r){Sn[bn++]=yi,Sn[bn++]=_i,Sn[bn++]=Xr,Xr=t;var l=yi;t=_i;var c=32-Ke(l)-1;l&=~(1<<c),r+=1;var f=32-Ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,yi=1<<32-Ke(n)+c|r<<c|l,_i=f+t}else yi=1<<f|r<<c|l,_i=t}function Oc(t){t.return!==null&&(Zr(t,1),Kd(t,1,0))}function Mc(t){for(;t===Du;)Du=ja[--ka],ja[ka]=null,Cu=ja[--ka],ja[ka]=null;for(;t===Xr;)Xr=Sn[--bn],Sn[bn]=null,_i=Sn[--bn],Sn[bn]=null,yi=Sn[--bn],Sn[bn]=null}var Ze=null,Ue=null,Bt=!1,Un=null,Yn=!1,Ic=Error(a(519));function $r(t){var n=Error(a(418,""));throw $s(An(n,t)),Ic}function Yd(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[we]=t,n[ye]=l,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(r=0;r<Tl.length;r++)Vt(Tl[r],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Pr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Lr(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Zi(n,l.value,l.defaultValue,l.children),Lr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||ip(n.textContent,r)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=so),n=!0):n=!1,n||$r(t)}function Xd(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 3:case 27:Yn=!0;return;case 5:case 13:Yn=!1;return;default:Ze=Ze.return}}function Xs(t){if(t!==Ze)return!1;if(!Bt)return Xd(t),Bt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Wh(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Ue&&$r(t),Xd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ue=zn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ue=null}}else Ue=Ze?zn(t.stateNode.nextSibling):null;return!0}function Zs(){Ue=Ze=null,Bt=!1}function $s(t){Un===null?Un=[t]:Un.push(t)}var Js=Error(a(460)),Zd=Error(a(474)),Uc={then:function(){}};function $d(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vu(){}function Jd(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Vu,Vu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Js?Error(a(483)):t;default:if(typeof n.status=="string")n.then(Vu,Vu);else{if(t=Xt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Js?Error(a(483)):t}throw Ws=n,Js}}var Ws=null;function Wd(){if(Ws===null)throw Error(a(459));var t=Ws;return Ws=null,t}var qa=null,tl=0;function Nu(t){var n=tl;return tl+=1,qa===null&&(qa=[]),Jd(qa,t,n)}function el(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ou(t,n){throw n.$$typeof===h?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function tm(t){var n=t._init;return n(t._payload)}function em(t){function n(x,N){if(t){var L=x.deletions;L===null?(x.deletions=[N],x.flags|=16):L.push(N)}}function r(x,N){if(!t)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function c(x,N){return x=cr(x,N),x.index=0,x.sibling=null,x}function f(x,N,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<N?(x.flags|=33554434,N):L):(x.flags|=33554434,N)):(x.flags|=1048576,N)}function y(x){return t&&x.alternate===null&&(x.flags|=33554434),x}function E(x,N,L,G){return N===null||N.tag!==6?(N=Ch(L,x.mode,G),N.return=x,N):(N=c(N,L),N.return=x,N)}function R(x,N,L,G){var it=L.type;return it===_?q(x,N,L.props.children,G,L.key):N!==null&&(N.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===ht&&tm(it)===N.type)?(N=c(N,L.props),el(N,L),N.return=x,N):(N=Xu(L.type,L.key,L.props,null,x.mode,G),el(N,L),N.return=x,N)}function M(x,N,L,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Vh(L,x.mode,G),N.return=x,N):(N=c(N,L.children||[]),N.return=x,N)}function q(x,N,L,G,it){return N===null||N.tag!==7?(N=la(L,x.mode,G,it),N.return=x,N):(N=c(N,L),N.return=x,N)}function F(x,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ch(""+N,x.mode,L),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case d:return L=Xu(N.type,N.key,N.props,null,x.mode,L),el(L,N),L.return=x,L;case p:return N=Vh(N,x.mode,L),N.return=x,N;case ht:var G=N._init;return N=G(N._payload),F(x,N,L)}if(tt(N)||Ot(N))return N=la(N,x.mode,L,null),N.return=x,N;if(typeof N.then=="function")return F(x,Nu(N),L);if(N.$$typeof===H)return F(x,Fu(x,N),L);Ou(x,N)}return null}function B(x,N,L,G){var it=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return it!==null?null:E(x,N,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d:return L.key===it?R(x,N,L,G):null;case p:return L.key===it?M(x,N,L,G):null;case ht:return it=L._init,L=it(L._payload),B(x,N,L,G)}if(tt(L)||Ot(L))return it!==null?null:q(x,N,L,G,null);if(typeof L.then=="function")return B(x,N,Nu(L),G);if(L.$$typeof===H)return B(x,N,Fu(x,L),G);Ou(x,L)}return null}function k(x,N,L,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(L)||null,E(N,x,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return x=x.get(G.key===null?L:G.key)||null,R(N,x,G,it);case p:return x=x.get(G.key===null?L:G.key)||null,M(N,x,G,it);case ht:var Rt=G._init;return G=Rt(G._payload),k(x,N,L,G,it)}if(tt(G)||Ot(G))return x=x.get(L)||null,q(N,x,G,it,null);if(typeof G.then=="function")return k(x,N,L,Nu(G),it);if(G.$$typeof===H)return k(x,N,L,Fu(N,G),it);Ou(N,G)}return null}function lt(x,N,L,G){for(var it=null,Rt=null,ot=N,dt=N=0,Oe=null;ot!==null&&dt<L.length;dt++){ot.index>dt?(Oe=ot,ot=null):Oe=ot.sibling;var jt=B(x,ot,L[dt],G);if(jt===null){ot===null&&(ot=Oe);break}t&&ot&&jt.alternate===null&&n(x,ot),N=f(jt,N,dt),Rt===null?it=jt:Rt.sibling=jt,Rt=jt,ot=Oe}if(dt===L.length)return r(x,ot),Bt&&Zr(x,dt),it;if(ot===null){for(;dt<L.length;dt++)ot=F(x,L[dt],G),ot!==null&&(N=f(ot,N,dt),Rt===null?it=ot:Rt.sibling=ot,Rt=ot);return Bt&&Zr(x,dt),it}for(ot=l(ot);dt<L.length;dt++)Oe=k(ot,x,dt,L[dt],G),Oe!==null&&(t&&Oe.alternate!==null&&ot.delete(Oe.key===null?dt:Oe.key),N=f(Oe,N,dt),Rt===null?it=Oe:Rt.sibling=Oe,Rt=Oe);return t&&ot.forEach(function(yr){return n(x,yr)}),Bt&&Zr(x,dt),it}function pt(x,N,L,G){if(L==null)throw Error(a(151));for(var it=null,Rt=null,ot=N,dt=N=0,Oe=null,jt=L.next();ot!==null&&!jt.done;dt++,jt=L.next()){ot.index>dt?(Oe=ot,ot=null):Oe=ot.sibling;var yr=B(x,ot,jt.value,G);if(yr===null){ot===null&&(ot=Oe);break}t&&ot&&yr.alternate===null&&n(x,ot),N=f(yr,N,dt),Rt===null?it=yr:Rt.sibling=yr,Rt=yr,ot=Oe}if(jt.done)return r(x,ot),Bt&&Zr(x,dt),it;if(ot===null){for(;!jt.done;dt++,jt=L.next())jt=F(x,jt.value,G),jt!==null&&(N=f(jt,N,dt),Rt===null?it=jt:Rt.sibling=jt,Rt=jt);return Bt&&Zr(x,dt),it}for(ot=l(ot);!jt.done;dt++,jt=L.next())jt=k(ot,x,dt,jt.value,G),jt!==null&&(t&&jt.alternate!==null&&ot.delete(jt.key===null?dt:jt.key),N=f(jt,N,dt),Rt===null?it=jt:Rt.sibling=jt,Rt=jt);return t&&ot.forEach(function(i0){return n(x,i0)}),Bt&&Zr(x,dt),it}function le(x,N,L,G){if(typeof L=="object"&&L!==null&&L.type===_&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case d:t:{for(var it=L.key;N!==null;){if(N.key===it){if(it=L.type,it===_){if(N.tag===7){r(x,N.sibling),G=c(N,L.props.children),G.return=x,x=G;break t}}else if(N.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===ht&&tm(it)===N.type){r(x,N.sibling),G=c(N,L.props),el(G,L),G.return=x,x=G;break t}r(x,N);break}else n(x,N);N=N.sibling}L.type===_?(G=la(L.props.children,x.mode,G,L.key),G.return=x,x=G):(G=Xu(L.type,L.key,L.props,null,x.mode,G),el(G,L),G.return=x,x=G)}return y(x);case p:t:{for(it=L.key;N!==null;){if(N.key===it)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){r(x,N.sibling),G=c(N,L.children||[]),G.return=x,x=G;break t}else{r(x,N);break}else n(x,N);N=N.sibling}G=Vh(L,x.mode,G),G.return=x,x=G}return y(x);case ht:return it=L._init,L=it(L._payload),le(x,N,L,G)}if(tt(L))return lt(x,N,L,G);if(Ot(L)){if(it=Ot(L),typeof it!="function")throw Error(a(150));return L=it.call(L),pt(x,N,L,G)}if(typeof L.then=="function")return le(x,N,Nu(L),G);if(L.$$typeof===H)return le(x,N,Fu(x,L),G);Ou(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(r(x,N.sibling),G=c(N,L),G.return=x,x=G):(r(x,N),G=Ch(L,x.mode,G),G.return=x,x=G),y(x)):r(x,N)}return function(x,N,L,G){try{tl=0;var it=le(x,N,L,G);return qa=null,it}catch(ot){if(ot===Js)throw ot;var Rt=Cn(29,ot,null,x.mode);return Rt.lanes=G,Rt.return=x,Rt}finally{}}}var Jr=em(!0),nm=em(!1),Ha=Lt(null),Mu=Lt(0);function im(t,n){t=Vi,Gt(Mu,t),Gt(Ha,n),Vi=t|n.baseLanes}function xc(){Gt(Mu,Vi),Gt(Ha,Ha.current)}function zc(){Vi=Mu.current,ie(Ha),ie(Mu)}var Rn=Lt(null),Xn=null;function Wi(t){var n=t.alternate;Gt(Ee,Ee.current&1),Gt(Rn,t),Xn===null&&(n===null||Ha.current!==null||n.memoizedState!==null)&&(Xn=t)}function rm(t){if(t.tag===22){if(Gt(Ee,Ee.current),Gt(Rn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else tr()}function tr(){Gt(Ee,Ee.current),Gt(Rn,Rn.current)}function vi(t){ie(Rn),Xn===t&&(Xn=null),ie(Ee)}var Ee=Lt(0);function Iu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Gv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Qv=s.unstable_scheduleCallback,Fv=s.unstable_NormalPriority,Te={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lc(){return{controller:new Gv,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&Qv(Fv,function(){t.controller.abort()})}var il=null,Pc=0,Ga=0,Qa=null;function Kv(t,n){if(il===null){var r=il=[];Pc=0,Ga=Gh(),Qa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Pc++,n.then(am,am),n}function am(){if(--Pc===0&&il!==null){Qa!==null&&(Qa.status="fulfilled");var t=il;il=null,Ga=0,Qa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Yv(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var sm=T.S;T.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Kv(t,n),sm!==null&&sm(t,n)};var Wr=Lt(null);function Bc(){var t=Wr.current;return t!==null?t:Xt.pooledCache}function Uu(t,n){n===null?Gt(Wr,Wr.current):Gt(Wr,n.pool)}function lm(){var t=Bc();return t===null?null:{parent:Te._currentValue,pool:t}}var er=0,bt=null,Ft=null,fe=null,xu=!1,Fa=!1,ta=!1,zu=0,rl=0,Ka=null,Xv=0;function oe(){throw Error(a(321))}function jc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!sn(t[r],n[r]))return!1;return!0}function kc(t,n,r,l,c,f){return er=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,T.H=t===null||t.memoizedState===null?ea:nr,ta=!1,f=r(l,c),ta=!1,Fa&&(f=om(n,r,l,c)),um(t),f}function um(t){T.H=Zn;var n=Ft!==null&&Ft.next!==null;if(er=0,fe=Ft=bt=null,xu=!1,rl=0,Ka=null,n)throw Error(a(300));t===null||Ve||(t=t.dependencies,t!==null&&Qu(t)&&(Ve=!0))}function om(t,n,r,l){bt=t;var c=0;do{if(Fa&&(Ka=null),rl=0,Fa=!1,25<=c)throw Error(a(301));if(c+=1,fe=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}T.H=na,f=n(r,l)}while(Fa);return f}function Zv(){var t=T.H,n=t.useState()[0];return n=typeof n.then=="function"?al(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(bt.flags|=1024),n}function qc(){var t=zu!==0;return zu=0,t}function Hc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Gc(t){if(xu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}xu=!1}er=0,fe=Ft=bt=null,Fa=!1,rl=zu=0,Ka=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?bt.memoizedState=fe=t:fe=fe.next=t,fe}function de(){if(Ft===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=fe===null?bt.memoizedState:fe.next;if(n!==null)fe=n,Ft=t;else{if(t===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},fe===null?bt.memoizedState=fe=t:fe=fe.next=t}return fe}var Lu;Lu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function al(t){var n=rl;return rl+=1,Ka===null&&(Ka=[]),t=Jd(Ka,t,n),n=bt,(fe===null?n.memoizedState:fe.next)===null&&(n=n.alternate,T.H=n===null||n.memoizedState===null?ea:nr),t}function Pu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===H)return ke(t)}throw Error(a(438,String(t)))}function Qc(t){var n=null,r=bt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Lu(),bt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=Ht;return n.index++,r}function Ei(t,n){return typeof n=="function"?n(t):n}function Bu(t){var n=de();return Fc(n,Ft,t)}function Fc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,R=null,M=n,q=!1;do{var F=M.lane&-536870913;if(F!==M.lane?(Ut&F)===F:(er&F)===F){var B=M.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),F===Ga&&(q=!0);else if((er&B)===B){M=M.next,B===Ga&&(q=!0);continue}else F={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},R===null?(E=R=F,y=f):R=R.next=F,bt.lanes|=B,hr|=B;F=M.action,ta&&r(f,F),f=M.hasEagerState?M.eagerState:r(f,F)}else B={lane:F,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},R===null?(E=R=B,y=f):R=R.next=B,bt.lanes|=F,hr|=F;M=M.next}while(M!==null&&M!==n);if(R===null?y=f:R.next=E,!sn(f,t.memoizedState)&&(Ve=!0,q&&(r=Qa,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Kc(t){var n=de(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);sn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function cm(t,n,r){var l=bt,c=de(),f=Bt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!sn((Ft||c).memoizedState,r);if(y&&(c.memoizedState=r,Ve=!0),c=c.queue,Zc(dm.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||fe!==null&&fe.memoizedState.tag&1){if(l.flags|=2048,Ya(9,fm.bind(null,l,c,r,n),{destroy:void 0},null),Xt===null)throw Error(a(349));f||(er&60)!==0||hm(l,n,r)}return r}function hm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=bt.updateQueue,n===null?(n=Lu(),bt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function fm(t,n,r,l){n.value=r,n.getSnapshot=l,mm(n)&&gm(t)}function dm(t,n,r){return r(function(){mm(n)&&gm(t)})}function mm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!sn(t,r)}catch{return!0}}function gm(t){var n=Ji(t,2);n!==null&&$e(n,t,2)}function Yc(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),ta){Ln(!0);try{r()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function pm(t,n,r,l){return t.baseState=r,Fc(t,Ft,typeof l=="function"?l:Ei)}function $v(t,n,r,l,c){if(qu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};T.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,ym(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ym(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=T.T,y={};T.T=y;try{var E=r(c,l),R=T.S;R!==null&&R(y,E),_m(t,n,E)}catch(M){Xc(t,n,M)}finally{T.T=f}}else try{f=r(c,l),_m(t,n,f)}catch(M){Xc(t,n,M)}}function _m(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){vm(t,n,l)},function(l){return Xc(t,n,l)}):vm(t,n,r)}function vm(t,n,r){n.status="fulfilled",n.value=r,Em(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,ym(t,r)))}function Xc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Em(n),n=n.next;while(n!==l)}t.action=null}function Em(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Tm(t,n){return n}function Am(t,n){if(Bt){var r=Xt.formState;if(r!==null){t:{var l=bt;if(Bt){if(Ue){e:{for(var c=Ue,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=zn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ue=zn(c.nextSibling),l=c.data==="F!";break t}}$r(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tm,lastRenderedState:n},r.queue=l,r=jm.bind(null,bt,l),l.dispatch=r,l=Yc(!1),f=eh.bind(null,bt,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=$v.bind(null,bt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Sm(t){var n=de();return bm(n,Ft,t)}function bm(t,n,r){n=Fc(t,n,Tm)[0],t=Bu(Ei)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?al(n):n;var l=de(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(bt.flags|=2048,Ya(9,Jv.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function Jv(t,n){t.action=n}function Rm(t){var n=de(),r=Ft;if(r!==null)return bm(n,r,t);de(),n=n.memoizedState,r=de();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ya(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=bt.updateQueue,n===null&&(n=Lu(),bt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function wm(){return de().memoizedState}function ju(t,n,r,l){var c=tn();bt.flags|=t,c.memoizedState=Ya(1|n,r,{destroy:void 0},l===void 0?null:l)}function ku(t,n,r,l){var c=de();l=l===void 0?null:l;var f=c.memoizedState.inst;Ft!==null&&l!==null&&jc(l,Ft.memoizedState.deps)?c.memoizedState=Ya(n,r,f,l):(bt.flags|=t,c.memoizedState=Ya(1|n,r,f,l))}function Dm(t,n){ju(8390656,8,t,n)}function Zc(t,n){ku(2048,8,t,n)}function Cm(t,n){return ku(4,2,t,n)}function Vm(t,n){return ku(4,4,t,n)}function Nm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Om(t,n,r){r=r!=null?r.concat([t]):null,ku(4,4,Nm.bind(null,n,t),r)}function $c(){}function Mm(t,n){var r=de();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&jc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Im(t,n){var r=de();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&jc(n,l[1]))return l[0];if(l=t(),ta){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[l,n],l}function Jc(t,n,r){return r===void 0||(er&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=xg(),bt.lanes|=t,hr|=t,r)}function Um(t,n,r,l){return sn(r,n)?r:Ha.current!==null?(t=Jc(t,r,l),sn(t,n)||(Ve=!0),t):(er&42)===0?(Ve=!0,t.memoizedState=r):(t=xg(),bt.lanes|=t,hr|=t,n)}function xm(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=T.T,E={};T.T=E,eh(t,!1,n,r);try{var R=c(),M=T.S;if(M!==null&&M(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var q=Yv(R,l);sl(t,n,q,cn(t))}else sl(t,n,l,cn(t))}catch(F){sl(t,n,{then:function(){},status:"rejected",reason:F},cn())}finally{et.p=f,T.T=y}}function Wv(){}function Wc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=zm(t).queue;xm(t,c,n,St,r===null?Wv:function(){return Lm(t),r(l)})}function zm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:St,baseState:St,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:St},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Lm(t){var n=zm(t).next.queue;sl(t,n,{},cn())}function th(){return ke(wl)}function Pm(){return de().memoizedState}function Bm(){return de().memoizedState}function tE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=ar(r);var l=sr(n,t,r);l!==null&&($e(l,n,r),ol(l,n,r)),n={cache:Lc()},t.payload=n;return}n=n.return}}function eE(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},qu(t)?km(n,r):(r=Nc(t,n,r,l),r!==null&&($e(r,t,l),qm(r,n,l)))}function jm(t,n,r){var l=cn();sl(t,n,r,l)}function sl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(qu(t))km(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,sn(E,y))return Ru(t,n,c,0),Xt===null&&bu(),!1}catch{}finally{}if(r=Nc(t,n,c,l),r!==null)return $e(r,t,l),qm(r,n,l),!0}return!1}function eh(t,n,r,l){if(l={lane:2,revertLane:Gh(),action:l,hasEagerState:!1,eagerState:null,next:null},qu(t)){if(n)throw Error(a(479))}else n=Nc(t,r,l,2),n!==null&&$e(n,t,2)}function qu(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function km(t,n){Fa=xu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function qm(t,n,r){if((r&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qi(t,r)}}var Zn={readContext:ke,use:Pu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe};Zn.useCacheRefresh=oe,Zn.useMemoCache=oe,Zn.useHostTransitionStatus=oe,Zn.useFormState=oe,Zn.useActionState=oe,Zn.useOptimistic=oe;var ea={readContext:ke,use:Pu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:Dm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ju(4194308,4,Nm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ju(4194308,4,t,n)},useInsertionEffect:function(t,n){ju(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(ta){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var c=r(n);if(ta){Ln(!0);try{r(n)}finally{Ln(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=eE.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Yc(t);var n=t.queue,r=jm.bind(null,bt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:$c,useDeferredValue:function(t,n){var r=tn();return Jc(r,t,n)},useTransition:function(){var t=Yc(!1);return t=xm.bind(null,bt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=bt,c=tn();if(Bt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Xt===null)throw Error(a(349));(Ut&60)!==0||hm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Dm(dm.bind(null,l,f,t),[t]),l.flags|=2048,Ya(9,fm.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=tn(),n=Xt.identifierPrefix;if(Bt){var r=_i,l=yi;r=(l&~(1<<32-Ke(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=zu++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Xv++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return tn().memoizedState=tE.bind(null,bt)}};ea.useMemoCache=Qc,ea.useHostTransitionStatus=th,ea.useFormState=Am,ea.useActionState=Am,ea.useOptimistic=function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=eh.bind(null,bt,!0,r),r.dispatch=n,[t,n]};var nr={readContext:ke,use:Pu,useCallback:Mm,useContext:ke,useEffect:Zc,useImperativeHandle:Om,useInsertionEffect:Cm,useLayoutEffect:Vm,useMemo:Im,useReducer:Bu,useRef:wm,useState:function(){return Bu(Ei)},useDebugValue:$c,useDeferredValue:function(t,n){var r=de();return Um(r,Ft.memoizedState,t,n)},useTransition:function(){var t=Bu(Ei)[0],n=de().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:cm,useId:Pm};nr.useCacheRefresh=Bm,nr.useMemoCache=Qc,nr.useHostTransitionStatus=th,nr.useFormState=Sm,nr.useActionState=Sm,nr.useOptimistic=function(t,n){var r=de();return pm(r,Ft,t,n)};var na={readContext:ke,use:Pu,useCallback:Mm,useContext:ke,useEffect:Zc,useImperativeHandle:Om,useInsertionEffect:Cm,useLayoutEffect:Vm,useMemo:Im,useReducer:Kc,useRef:wm,useState:function(){return Kc(Ei)},useDebugValue:$c,useDeferredValue:function(t,n){var r=de();return Ft===null?Jc(r,t,n):Um(r,Ft.memoizedState,t,n)},useTransition:function(){var t=Kc(Ei)[0],n=de().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:cm,useId:Pm};na.useCacheRefresh=Bm,na.useMemoCache=Qc,na.useHostTransitionStatus=th,na.useFormState=Rm,na.useActionState=Rm,na.useOptimistic=function(t,n){var r=de();return Ft!==null?pm(r,Ft,t,n):(r.baseState=t,[t,r.queue.dispatch])};function nh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ih={isMounted:function(t){return(t=t._reactInternals)?rt(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=ar(l);c.payload=n,r!=null&&(c.callback=r),n=sr(t,c,l),n!==null&&($e(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=ar(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=sr(t,c,l),n!==null&&($e(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=ar(r);l.tag=2,n!=null&&(l.callback=n),n=sr(t,l,r),n!==null&&($e(n,t,r),ol(n,t,r))}};function Hm(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ks(r,l)||!Ks(c,f):!0}function Gm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&ih.enqueueReplaceState(n,n.state,null)}function ia(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Qm(t){Hu(t)}function Fm(t){console.error(t)}function Km(t){Hu(t)}function Gu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ym(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function rh(t,n,r){return r=ar(r),r.tag=3,r.payload={element:null},r.callback=function(){Gu(t,n)},r}function Xm(t){return t=ar(t),t.tag=3,t}function Zm(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Ym(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Ym(n,r,l),typeof c!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function nE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ul(n,r,c,!0),r=Rn.current,r!==null){switch(r.tag){case 13:return Xn===null?Bh():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Uc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),kh(t,l,c)),!1;case 22:return r.flags|=65536,l===Uc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),kh(t,l,c)),!1}throw Error(a(435,r.tag))}return kh(t,l,c),Bh(),!1}if(Bt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Ic&&(t=Error(a(422),{cause:l}),$s(An(t,r)))):(l!==Ic&&(n=Error(a(423),{cause:l}),$s(An(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=An(l,r),c=rh(t.stateNode,l,c),vh(t,c),se!==4&&(se=2)),!1;var f=Error(a(520),{cause:l});if(f=An(f,r),yl===null?yl=[f]:yl.push(f),se!==4&&(se=2),n===null)return!0;l=An(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=rh(r.stateNode,l,t),vh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(fr===null||!fr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Xm(c),Zm(c,t,r,l),vh(r,c),!1}r=r.return}while(r!==null);return!1}var $m=Error(a(461)),Ve=!1;function xe(t,n,r,l){n.child=t===null?nm(n,null,r,l):Jr(n,t.child,r,l)}function Jm(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return aa(n),l=kc(t,n,r,y,f,c),E=qc(),t!==null&&!Ve?(Hc(t,n,c),Ti(t,n,c)):(Bt&&E&&Oc(n),n.flags|=1,xe(t,n,l,c),n.child)}function Wm(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Dh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,tg(t,n,f,l,c)):(t=Xu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!dh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ks,r(y,l)&&t.ref===n.ref)return Ti(t,n,c)}return n.flags|=1,t=cr(f,l),t.ref=n.ref,t.return=n,n.child=t}function tg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Ks(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,dh(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Ti(t,n,c)}return ah(t,n,r,l,c)}function eg(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(ll(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=y!==null?y.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return ng(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,y!==null?y.cachePool:null),y!==null?im(n,y):xc(),rm(n);else return n.lanes=n.childLanes=536870912,ng(t,n,y!==null?y.baseLanes|r:r,r)}else y!==null?(Uu(n,y.cachePool),im(n,y),tr(),n.memoizedState=null):(t!==null&&Uu(n,null),xc(),tr());return xe(t,n,c,r),n.child}function ng(t,n,r,l){var c=Bc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Uu(n,null),xc(),rm(n),t!==null&&ul(t,n,l,!0),null}function ll(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function ah(t,n,r,l,c){return aa(n),r=kc(t,n,r,l,void 0,c),l=qc(),t!==null&&!Ve?(Hc(t,n,c),Ti(t,n,c)):(Bt&&l&&Oc(n),n.flags|=1,xe(t,n,r,c),n.child)}function ig(t,n,r,l,c,f){return aa(n),n.updateQueue=null,r=om(n,l,r,c),um(t),l=qc(),t!==null&&!Ve?(Hc(t,n,f),Ti(t,n,f)):(Bt&&l&&Oc(n),n.flags|=1,xe(t,n,r,f),n.child)}function rg(t,n,r,l,c){if(aa(n),n.stateNode===null){var f=Ba,y=r.contextType;typeof y=="object"&&y!==null&&(f=ke(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ih,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},yh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?ke(y):Ba,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(nh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&ih.enqueueReplaceState(f,f.state,null),hl(n,l,f,c),cl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=ia(r,E);f.props=R;var M=f.context,q=r.contextType;y=Ba,typeof q=="object"&&q!==null&&(y=ke(q));var F=r.getDerivedStateFromProps;q=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||M!==y)&&Gm(n,f,l,y),rr=!1;var B=n.memoizedState;f.state=B,hl(n,l,f,c),cl(),M=n.memoizedState,E||B!==M||rr?(typeof F=="function"&&(nh(n,r,F,l),M=n.memoizedState),(R=rr||Hm(n,r,R,l,B,M,y))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=M),f.props=l,f.state=M,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,_h(t,n),y=n.memoizedProps,q=ia(r,y),f.props=q,F=n.pendingProps,B=f.context,M=r.contextType,R=Ba,typeof M=="object"&&M!==null&&(R=ke(M)),E=r.getDerivedStateFromProps,(M=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||B!==R)&&Gm(n,f,l,R),rr=!1,B=n.memoizedState,f.state=B,hl(n,l,f,c),cl();var k=n.memoizedState;y!==F||B!==k||rr||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof E=="function"&&(nh(n,r,E,l),k=n.memoizedState),(q=rr||Hm(n,r,q,l,B,k,R)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?(M||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=R,l=q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ll(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Jr(n,t.child,null,c),n.child=Jr(n,null,r,c)):xe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ti(t,n,c),t}function ag(t,n,r,l){return Zs(),n.flags|=256,xe(t,n,r,l),n.child}var sh={dehydrated:null,treeContext:null,retryLane:0};function lh(t){return{baseLanes:t,cachePool:lm()}}function uh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Vn),t}function sg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Wi(n):tr(),Bt){var E=Ue,R;if(R=E){t:{for(R=E,E=Yn;R.nodeType!==8;){if(!E){E=null;break t}if(R=zn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:Xr!==null?{id:yi,overflow:_i}:null,retryLane:536870912},R=Cn(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,Ze=n,Ue=null,R=!0):R=!1}R||$r(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;vi(n)}return E=l.children,l=l.fallback,c?(tr(),c=n.mode,E=ch({mode:"hidden",children:E},c),l=la(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=lh(r),c.childLanes=uh(t,y,r),n.memoizedState=sh,l):(Wi(n),oh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Wi(n),n.flags&=-257,n=hh(t,n,r)):n.memoizedState!==null?(tr(),n.child=t.child,n.flags|=128,n=null):(tr(),c=l.fallback,E=n.mode,l=ch({mode:"visible",children:l.children},E),c=la(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Jr(n,t.child,null,r),l=n.child,l.memoizedState=lh(r),l.childLanes=uh(t,y,r),n.memoizedState=sh,n=c);else if(Wi(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var M=y.dgst;y=M,l=Error(a(419)),l.stack="",l.digest=y,$s({value:l,source:null,stack:null}),n=hh(t,n,r)}else if(Ve||ul(t,n,r,!1),y=(r&t.childLanes)!==0,Ve||y){if(y=Xt,y!==null){if(l=r&-r,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==R.retryLane)throw R.retryLane=l,Ji(t,l),$e(y,t,l),$m}E.data==="$?"||Bh(),n=hh(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=yE.bind(null,t),E._reactRetry=n,n=null):(t=R.treeContext,Ue=zn(E.nextSibling),Ze=n,Bt=!0,Un=null,Yn=!1,t!==null&&(Sn[bn++]=yi,Sn[bn++]=_i,Sn[bn++]=Xr,yi=t.id,_i=t.overflow,Xr=n),n=oh(n,l.children),n.flags|=4096);return n}return c?(tr(),c=l.fallback,E=n.mode,R=t.child,M=R.sibling,l=cr(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&31457280,M!==null?c=cr(M,c):(c=la(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=lh(r):(R=E.cachePool,R!==null?(M=Te._currentValue,R=R.parent!==M?{parent:M,pool:M}:R):R=lm(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=uh(t,y,r),n.memoizedState=sh,l):(Wi(n),r=t.child,t=r.sibling,r=cr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function oh(t,n){return n=ch({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ch(t,n){return Mg(t,n,0,null)}function hh(t,n,r){return Jr(n,t.child,null,r),t=oh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function lg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),gh(t.return,n,r)}function fh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function ug(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,r),l=Ee.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lg(t,r,n);else if(t.tag===19)lg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Gt(Ee,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Iu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),fh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Iu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}fh(n,!0,r,null,f);break;case"together":fh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ti(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),hr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ul(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=cr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=cr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function dh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function iE(t,n,r){switch(n.tag){case 3:zi(n,n.stateNode.containerInfo),ir(n,Te,t.memoizedState.cache),Zs();break;case 27:case 5:ws(n);break;case 4:zi(n,n.stateNode.containerInfo);break;case 10:ir(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Wi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?sg(t,n,r):(Wi(n),t=Ti(t,n,r),t!==null?t.sibling:null);Wi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ul(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return ug(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Gt(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,eg(t,n,r);case 24:ir(n,Te,t.memoizedState.cache)}return Ti(t,n,r)}function og(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!dh(t,r)&&(n.flags&128)===0)return Ve=!1,iE(t,n,r);Ve=(t.flags&131072)!==0}else Ve=!1,Bt&&(n.flags&1048576)!==0&&Kd(n,Cu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Dh(l)?(t=ia(l,t),n.tag=1,n=rg(null,n,l,t,r)):(n.tag=0,n=ah(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===X){n.tag=11,n=Jm(null,n,l,t,r);break t}else if(c===At){n.tag=14,n=Wm(null,n,l,t,r);break t}}throw n=D(l)||l,Error(a(306,n,""))}}return n;case 0:return ah(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ia(l,n.pendingProps),rg(t,n,l,c,r);case 3:t:{if(zi(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,_h(t,n),hl(n,f,null,r);var y=n.memoizedState;if(f=y.cache,ir(n,Te,f),f!==c.cache&&ph(n,[Te],r,!0),cl(),f=y.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=ag(t,n,f,r);break t}else if(f!==l){l=An(Error(a(424)),n),$s(l),n=ag(t,n,f,r);break t}else for(Ue=zn(n.stateNode.containerInfo.firstChild),Ze=n,Bt=!0,Un=null,Yn=!0,r=nm(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zs(),f===l){n=Ti(t,n,r);break t}xe(t,n,f,r)}n=n.child}return n;case 26:return ll(t,n),t===null?(r=fp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=lo(mn.current).createElement(r),l[we]=n,l[ye]=t,ze(l,r,t),Wt(l),n.stateNode=l):n.memoizedState=fp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ws(n),t===null&&Bt&&(l=n.stateNode=op(n.type,n.pendingProps,mn.current),Ze=n,Yn=!0,Ue=zn(l.firstChild)),l=n.pendingProps.children,t!==null||Bt?xe(t,n,l,r):n.child=Jr(n,null,l,r),ll(t,n),n.child;case 5:return t===null&&Bt&&((c=l=Ue)&&(l=IE(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Ze=n,Ue=zn(l.firstChild),Yn=!1,c=!0):c=!1),c||$r(n)),ws(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Wh(c,f)?l=null:y!==null&&Wh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=kc(t,n,Zv,null,null,r),wl._currentValue=c),ll(t,n),xe(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=Ue)&&(r=UE(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,Ze=n,Ue=null,t=!0):t=!1),t||$r(n)),null;case 13:return sg(t,n,r);case 4:return zi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Jr(n,null,l,r):xe(t,n,l,r),n.child;case 11:return Jm(t,n,n.type,n.pendingProps,r);case 7:return xe(t,n,n.pendingProps,r),n.child;case 8:return xe(t,n,n.pendingProps.children,r),n.child;case 12:return xe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ir(n,n.type,l.value),xe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,aa(n),c=ke(c),l=l(c),n.flags|=1,xe(t,n,l,r),n.child;case 14:return Wm(t,n,n.type,n.pendingProps,r);case 15:return tg(t,n,n.type,n.pendingProps,r);case 19:return ug(t,n,r);case 22:return eg(t,n,r);case 24:return aa(n),l=ke(Te),t===null?(c=Bc(),c===null&&(c=Xt,f=Lc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},yh(n),ir(n,Te,c)):((t.lanes&r)!==0&&(_h(t,n),hl(n,null,null,r),cl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ir(n,Te,l)):(l=f.cache,ir(n,Te,l),l!==c.cache&&ph(n,[Te],r,!0))),xe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var mh=Lt(null),ra=null,Ai=null;function ir(t,n,r){Gt(mh,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=mh.current,ie(mh)}function gh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function ph(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),gh(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),gh(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ul(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;sn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===xi.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}c=c.return}t!==null&&ph(n,t,r,l),n.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function aa(t){ra=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return cg(ra,t)}function Fu(t,n){return ra===null&&aa(t),cg(t,n)}function cg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(a(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var rr=!1;function yh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _h(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ar(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function sr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ee&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=wu(t),Qd(t,null,r),n}return Ru(t,l,n,r),wu(t)}function ol(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qi(t,r)}}function vh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Eh=!1;function cl(){if(Eh){var t=Qa;if(t!==null)throw t}}function hl(t,n,r,l){Eh=!1;var c=t.updateQueue;rr=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,M=R.next;R.next=null,y===null?f=M:y.next=M,y=R;var q=t.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==y&&(E===null?q.firstBaseUpdate=M:E.next=M,q.lastBaseUpdate=R))}if(f!==null){var F=c.baseState;y=0,q=M=R=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Ut&B)===B:(l&B)===B){B!==0&&B===Ga&&(Eh=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=t,pt=E;B=n;var le=r;switch(pt.tag){case 1:if(lt=pt.payload,typeof lt=="function"){F=lt.call(le,F,B);break t}F=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=pt.payload,B=typeof lt=="function"?lt.call(le,F,B):lt,B==null)break t;F=S({},F,B);break t;case 2:rr=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(M=q=k,R=F):q=q.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);q===null&&(R=F),c.baseState=R,c.firstBaseUpdate=M,c.lastBaseUpdate=q,f===null&&(c.shared.lanes=0),hr|=y,t.lanes=y,t.memoizedState=F}}function hg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function fg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)hg(r[t],n)}function fl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Yt(n,n.return,E)}}function lr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var R=r;try{E()}catch(M){Yt(c,R,M)}}}l=l.next}while(l!==f)}}catch(M){Yt(n,n.return,M)}}function dg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{fg(n,r)}catch(l){Yt(t,t.return,l)}}}function mg(t,n,r){r.props=ia(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Yt(t,n,l)}}function sa(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Yt(t,n,f)}}function ln(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Yt(t,n,c)}else r.current=null}function gg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Yt(t,t.return,c)}}function pg(t,n,r){try{var l=t.stateNode;CE(l,t.type,r,n),l[ye]=n}catch(c){Yt(t,t.return,c)}}function yg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Th(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||yg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ah(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=so));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Ah(t,n,r),t=t.sibling;t!==null;)Ah(t,n,r),t=t.sibling}function Ku(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Ku(t,n,r),t=t.sibling;t!==null;)Ku(t,n,r),t=t.sibling}var bi=!1,ae=!1,Sh=!1,_g=typeof WeakSet=="function"?WeakSet:Set,Ne=null,vg=!1;function rE(t,n){if(t=t.containerInfo,$h=mo,t=zd(t),Rc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,R=-1,M=0,q=0,F=t,B=null;e:for(;;){for(var k;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(R=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(k=F.firstChild)!==null;)B=F,F=k;for(;;){if(F===t)break e;if(B===r&&++M===c&&(E=y),B===f&&++q===l&&(R=y),(k=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=k}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jh={focusedElem:t,selectionRange:r},mo=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var lt=ia(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(lt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Yt(r,r.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)nf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}return lt=vg,vg=!1,lt}function Eg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:wi(t,r),l&4&&fl(5,r);break;case 1:if(wi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Yt(r,r.return,E)}else{var c=ia(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(r,r.return,E)}}l&64&&dg(r),l&512&&sa(r,r.return);break;case 3:if(wi(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{fg(l,t)}catch(E){Yt(r,r.return,E)}}break;case 26:wi(t,r),l&512&&sa(r,r.return);break;case 27:case 5:wi(t,r),n===null&&l&4&&gg(r),l&512&&sa(r,r.return);break;case 12:wi(t,r);break;case 13:wi(t,r),l&4&&Sg(t,r);break;case 22:if(c=r.memoizedState!==null||bi,!c){n=n!==null&&n.memoizedState!==null||ae;var f=bi,y=ae;bi=c,(ae=n)&&!y?ur(t,r,(r.subtreeFlags&8772)!==0):wi(t,r),bi=f,ae=y}l&512&&(r.memoizedProps.mode==="manual"?sa(r,r.return):ln(r,r.return));break;default:wi(t,r)}}function Tg(t){var n=t.alternate;n!==null&&(t.alternate=null,Tg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&zr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var me=null,un=!1;function Ri(t,n,r){for(r=r.child;r!==null;)Ag(t,n,r),r=r.sibling}function Ag(t,n,r){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Li,r)}catch{}switch(r.tag){case 26:ae||ln(r,n),Ri(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ae||ln(r,n);var l=me,c=un;for(me=r.stateNode,Ri(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);zr(r),me=l,un=c;break;case 5:ae||ln(r,n);case 6:c=me;var f=un;if(me=null,Ri(t,n,r),me=c,un=f,me!==null)if(un)try{t=me,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Yt(r,n,y)}else try{me.removeChild(r.stateNode)}catch(y){Yt(r,n,y)}break;case 18:me!==null&&(un?(n=me,r=r.stateNode,n.nodeType===8?ef(n.parentNode,r):n.nodeType===1&&ef(n,r),Nl(n)):ef(me,r.stateNode));break;case 4:l=me,c=un,me=r.stateNode.containerInfo,un=!0,Ri(t,n,r),me=l,un=c;break;case 0:case 11:case 14:case 15:ae||lr(2,r,n),ae||lr(4,r,n),Ri(t,n,r);break;case 1:ae||(ln(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&mg(r,n,l)),Ri(t,n,r);break;case 21:Ri(t,n,r);break;case 22:ae||ln(r,n),ae=(l=ae)||r.memoizedState!==null,Ri(t,n,r),ae=l;break;default:Ri(t,n,r)}}function Sg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Nl(t)}catch(r){Yt(n,n.return,r)}}function aE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new _g),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new _g),n;default:throw Error(a(435,t.tag))}}function bh(t,n){var r=aE(t);n.forEach(function(l){var c=_E.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function wn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:me=E.stateNode,un=!1;break t;case 3:me=E.stateNode.containerInfo,un=!0;break t;case 4:me=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(me===null)throw Error(a(160));Ag(f,y,c),me=null,un=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)bg(n,t),n=n.sibling}var xn=null;function bg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(n,t),Dn(t),l&4&&(lr(3,t,t.return),fl(3,t),lr(5,t,t.return));break;case 1:wn(n,t),Dn(t),l&512&&(ae||r===null||ln(r,r.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=xn;if(wn(n,t),Dn(t),l&512&&(ae||r===null||ln(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Gi]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[we]=t,Wt(f),l=f;break t;case"link":var y=gp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(y=gp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[we]=t,Wt(f),l=f}t.stateNode=l}else pp(c,t.type,t.stateNode);else t.stateNode=mp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?pp(c,t.type,t.stateNode):mp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&pg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var R=c.firstChild;R;){var M=R.nextSibling,q=R.nodeName;R[Gi]||q==="HEAD"||q==="BODY"||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&R.rel.toLowerCase()==="stylesheet"||c.removeChild(R),R=M}for(var F=t.type,B=c.attributes;B.length;)c.removeAttributeNode(B[0]);ze(c,F,f),c[we]=t,c[ye]=f}catch(lt){Yt(t,t.return,lt)}}case 5:if(wn(n,t),Dn(t),l&512&&(ae||r===null||ln(r,r.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(lt){Yt(t,t.return,lt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,pg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Sh=!0);break;case 6:if(wn(n,t),Dn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(lt){Yt(t,t.return,lt)}}break;case 3:if(co=null,c=xn,xn=uo(n.containerInfo),wn(n,t),xn=c,Dn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Nl(n.containerInfo)}catch(lt){Yt(t,t.return,lt)}Sh&&(Sh=!1,Rg(t));break;case 4:l=xn,xn=uo(t.stateNode.containerInfo),wn(n,t),Dn(t),xn=l;break;case 12:wn(n,t),Dn(t);break;case 13:wn(n,t),Dn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ih=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bh(t,l)));break;case 22:if(l&512&&(ae||r===null||ln(r,r.return)),R=t.memoizedState!==null,M=r!==null&&r.memoizedState!==null,q=bi,F=ae,bi=q||R,ae=F||M,wn(n,t),ae=F,bi=q,Dn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=R?n._visibility&-2:n._visibility|1,R&&(n=bi||ae,r===null||M||n||Xa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){M=r=n;try{if(c=M.stateNode,R)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=M.stateNode,E=M.memoizedProps.style;var k=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(lt){Yt(M,M.return,lt)}}}else if(n.tag===6){if(r===null){M=n;try{M.stateNode.nodeValue=R?"":M.memoizedProps}catch(lt){Yt(M,M.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,bh(t,r))));break;case 19:wn(n,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bh(t,l)));break;case 21:break;default:wn(n,t),Dn(t)}}function Dn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(yg(r)){var l=r;break t}r=r.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,f=Th(t);Ku(t,f,c);break;case 5:var y=l.stateNode;l.flags&32&&(yn(y,""),l.flags&=-33);var E=Th(t);Ku(t,E,y);break;case 3:case 4:var R=l.stateNode.containerInfo,M=Th(t);Ah(t,M,R);break;default:throw Error(a(161))}}}catch(q){Yt(t,t.return,q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Rg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Rg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Eg(t,n.alternate,n),n=n.sibling}function Xa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:lr(4,n,n.return),Xa(n);break;case 1:ln(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&mg(n,n.return,r),Xa(n);break;case 26:case 27:case 5:ln(n,n.return),Xa(n);break;case 22:ln(n,n.return),n.memoizedState===null&&Xa(n);break;default:Xa(n)}t=t.sibling}}function ur(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ur(c,f,r),fl(4,f);break;case 1:if(ur(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(M){Yt(l,l.return,M)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)hg(R[c],E)}catch(M){Yt(l,l.return,M)}}r&&y&64&&dg(f),sa(f,f.return);break;case 26:case 27:case 5:ur(c,f,r),r&&l===null&&y&4&&gg(f),sa(f,f.return);break;case 12:ur(c,f,r);break;case 13:ur(c,f,r),r&&y&4&&Sg(c,f);break;case 22:f.memoizedState===null&&ur(c,f,r),sa(f,f.return);break;default:ur(c,f,r)}n=n.sibling}}function Rh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&nl(r))}function wh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t))}function or(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wg(t,n,r,l),n=n.sibling}function wg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:or(t,n,r,l),c&2048&&fl(9,n);break;case 3:or(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t)));break;case 12:if(c&2048){or(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Yt(n,n.return,R)}}else or(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?or(t,n,r,l):dl(t,n):f._visibility&4?or(t,n,r,l):(f._visibility|=4,Za(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Rh(n.alternate,n);break;case 24:or(t,n,r,l),c&2048&&wh(n.alternate,n);break;default:or(t,n,r,l)}}function Za(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,R=l,M=y.flags;switch(y.tag){case 0:case 11:case 15:Za(f,y,E,R,c),fl(8,y);break;case 23:break;case 22:var q=y.stateNode;y.memoizedState!==null?q._visibility&4?Za(f,y,E,R,c):dl(f,y):(q._visibility|=4,Za(f,y,E,R,c)),c&&M&2048&&Rh(y.alternate,y);break;case 24:Za(f,y,E,R,c),c&&M&2048&&wh(y.alternate,y);break;default:Za(f,y,E,R,c)}n=n.sibling}}function dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:dl(r,l),c&2048&&Rh(l.alternate,l);break;case 24:dl(r,l),c&2048&&wh(l.alternate,l);break;default:dl(r,l)}n=n.sibling}}var ml=8192;function $a(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)Dg(t),t=t.sibling}function Dg(t){switch(t.tag){case 26:$a(t),t.flags&ml&&t.memoizedState!==null&&KE(xn,t.memoizedState,t.memoizedProps);break;case 5:$a(t);break;case 3:case 4:var n=xn;xn=uo(t.stateNode.containerInfo),$a(t),xn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ml,ml=16777216,$a(t),ml=n):$a(t));break;default:$a(t)}}function Cg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function gl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,Ng(l,t)}Cg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vg(t),t=t.sibling}function Vg(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&lr(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Yu(t)):gl(t);break;default:gl(t)}}function Yu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,Ng(l,t)}Cg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:lr(8,n,n.return),Yu(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Yu(n));break;default:Yu(n)}t=t.sibling}}function Ng(t,n){for(;Ne!==null;){var r=Ne;switch(r.tag){case 0:case 11:case 15:lr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ne=l;else t:for(r=t;Ne!==null;){l=Ne;var c=l.sibling,f=l.return;if(Tg(l),l===r){Ne=null;break t}if(c!==null){c.return=f,Ne=c;break t}Ne=f}}}function sE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,n,r,l){return new sE(t,n,r,l)}function Dh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cr(t,n){var r=t.alternate;return r===null?(r=Cn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Og(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Xu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Dh(t)&&(y=1);else if(typeof t=="string")y=QE(t,r,Fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return la(r.children,c,f,n);case v:y=8,c|=24;break;case w:return t=Cn(12,r,n,c|2),t.elementType=w,t.lanes=f,t;case W:return t=Cn(13,r,n,c),t.elementType=W,t.lanes=f,t;case Z:return t=Cn(19,r,n,c),t.elementType=Z,t.lanes=f,t;case _t:return Mg(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I:case H:y=10;break t;case P:y=9;break t;case X:y=11;break t;case At:y=14;break t;case ht:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Cn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function la(t,n,r,l){return t=Cn(7,t,l,n),t.lanes=r,t}function Mg(t,n,r,l){t=Cn(22,t,l,n),t.elementType=_t,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(a(456));if((c._pendingVisibility&2)===0){var y=Ji(f,2);y!==null&&(c._pendingVisibility|=2,$e(y,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(a(456));if((c._pendingVisibility&2)!==0){var y=Ji(f,2);y!==null&&(c._pendingVisibility&=-3,$e(y,f,2))}}};return t.stateNode=c,t}function Ch(t,n,r){return t=Cn(6,t,null,n),t.lanes=r,t}function Vh(t,n,r){return n=Cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Di(t){t.flags|=4}function Ig(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yp(n)){if(n=Rn.current,n!==null&&((Ut&4194176)===Ut?Xn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Xn))throw Ws=Uc,Zd;t.flags|=8192}}function Zu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ji():536870912,t.lanes|=n,Wa|=n)}function pl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function lE(t,n,r){var l=n.pendingProps;switch(Mc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Te),si(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xs(n)?Di(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Un!==null&&(Lh(Un),Un=null))),te(n),null;case 26:return r=n.memoizedState,t===null?(Di(n),r!==null?(te(n),Ig(n,r)):(te(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Di(n),te(n),Ig(n,r)):(te(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),te(n),n.flags&=-16777217),null;case 27:_a(n),r=mn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return te(n),null}t=Fe.current,Xs(n)?Yd(n):(t=op(c,l,r),n.stateNode=t,Di(n))}return te(n),null;case 5:if(_a(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return te(n),null}if(t=Fe.current,Xs(n))Yd(n);else{switch(c=lo(mn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[we]=n,t[ye]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return te(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=mn.current,Xs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[we]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||ip(t.nodeValue,r)),t||$r(n)}else t=lo(t).createTextNode(l),t[we]=n,n.stateNode=t}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Xs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[we]=n}else Zs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else Un!==null&&(Lh(Un),Un=null),c=!0;if(!c)return n.flags&256?(vi(n),n):(vi(n),null)}if(vi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Zu(n,n.updateQueue),te(n),null;case 4:return si(),t===null&&Yh(n.stateNode.containerInfo),te(n),null;case 10:return Si(n.type),te(n),null;case 19:if(ie(Ee),c=n.memoizedState,c===null)return te(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)pl(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Iu(t),f!==null){for(n.flags|=128,pl(c,!1),t=f.updateQueue,n.updateQueue=t,Zu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Og(r,t),r=r.sibling;return Gt(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&Je()>$u&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Iu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Zu(n,t),pl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return te(n),null}else 2*Je()-c.renderingStartTime>$u&&r!==536870912&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Je(),n.sibling=null,t=Ee.current,Gt(Ee,l?t&1|2:t&1),n):(te(n),null);case 22:case 23:return vi(n),zc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),r=n.updateQueue,r!==null&&Zu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ie(Wr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Te),te(n),null;case 25:return null}throw Error(a(156,n.tag))}function uE(t,n){switch(Mc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Te),si(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return _a(n),null;case 13:if(vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Zs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ie(Ee),null;case 4:return si(),null;case 10:return Si(n.type),null;case 22:case 23:return vi(n),zc(),t!==null&&ie(Wr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Te),null;case 25:return null;default:return null}}function Ug(t,n){switch(Mc(n),n.tag){case 3:Si(Te),si();break;case 26:case 27:case 5:_a(n);break;case 4:si();break;case 13:vi(n);break;case 19:ie(Ee);break;case 10:Si(n.type);break;case 22:case 23:vi(n),zc(),t!==null&&ie(Wr);break;case 24:Si(Te)}}var oE={getCacheForType:function(t){var n=ke(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},cE=typeof WeakMap=="function"?WeakMap:Map,ee=0,Xt=null,wt=null,Ut=0,Zt=0,on=null,Ci=!1,Ja=!1,Nh=!1,Vi=0,se=0,hr=0,ua=0,Oh=0,Vn=0,Wa=0,yl=null,$n=null,Mh=!1,Ih=0,$u=1/0,Ju=null,fr=null,Wu=!1,oa=null,_l=0,Uh=0,xh=null,vl=0,zh=null;function cn(){if((ee&2)!==0&&Ut!==0)return Ut&-Ut;if(T.T!==null){var t=Ga;return t!==0?t:Gh()}return au()}function xg(){Vn===0&&(Vn=(Ut&536870912)===0||Bt?Os():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),Vn}function $e(t,n,r){(t===Xt&&Zt===2||t.cancelPendingCommit!==null)&&(ts(t,0),Ni(t,Ut,Vn,!1)),ue(t,r),((ee&2)===0||t!==Xt)&&(t===Xt&&((ee&2)===0&&(ua|=r),se===4&&Ni(t,Ut,Vn,!1)),Jn(t))}function zg(t,n,r){if((ee&6)!==0)throw Error(a(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Bi(t,n),c=l?dE(t,n):jh(t,n,!0),f=l;do{if(c===0){Ja&&!l&&Ni(t,n,0,!1);break}else if(c===6)Ni(t,n,0,!Ci);else{if(r=t.current.alternate,f&&!hE(r)){c=jh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=yl;var R=E.current.memoizedState.isDehydrated;if(R&&(ts(E,y).flags|=256),y=jh(E,y,!1),y!==2){if(Nh&&!R){E.errorRecoveryDisabledLanes|=f,ua|=f,c=4;break t}f=$n,$n=c,f!==null&&Lh(f)}c=y}if(f=!1,c!==2)continue}}if(c===1){ts(t,0),Ni(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Ni(l,n,Vn,!Ci);break t}break;case 2:$n=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=Ih+300-Je(),10<f)){if(Ni(l,n,Vn,!Ci),gn(l,0)!==0)break t;l.timeoutHandle=sp(Lg.bind(null,l,r,$n,Ju,Mh,n,Vn,ua,Wa,Ci,2,-0,0),f);break t}Lg(l,r,$n,Ju,Mh,n,Vn,ua,Wa,Ci,0,-0,0)}}break}while(!0);Jn(t)}function Lh(t){$n===null?$n=t:$n.push.apply($n,t)}function Lg(t,n,r,l,c,f,y,E,R,M,q,F,B){var k=n.subtreeFlags;if((k&8192||(k&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:FE},Dg(n),n=YE(),n!==null)){t.cancelPendingCommit=n(Gg.bind(null,t,r,l,c,y,E,R,1,F,B)),Ni(t,f,y,!M);return}Gg(t,r,l,c,y,E,R,q,F,B)}function hE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!sn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ni(t,n,r,l){n&=~Oh,n&=~ua,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ke(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&ki(t,r,n)}function to(){return(ee&6)===0?(El(0),!1):!0}function Ph(){if(wt!==null){if(Zt===0)var t=wt.return;else t=wt,Ai=ra=null,Gc(t),qa=null,tl=0,t=wt;for(;t!==null;)Ug(t.alternate,t),t=t.return;wt=null}}function ts(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,NE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Ph(),Xt=t,wt=r=cr(t.current,null),Ut=n,Zt=0,on=null,Ci=!1,Ja=Bi(t,n),Nh=!1,Wa=Vn=Oh=ua=hr=se=0,$n=yl=null,Mh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ke(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,bu(),r}function Pg(t,n){bt=null,T.H=Zn,n===Js?(n=Wd(),Zt=3):n===Zd?(n=Wd(),Zt=4):Zt=n===$m?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,wt===null&&(se=1,Gu(t,An(n,t.current)))}function Bg(){var t=T.H;return T.H=Zn,t===null?Zn:t}function jg(){var t=T.A;return T.A=oE,t}function Bh(){se=4,Ci||(Ut&4194176)!==Ut&&Rn.current!==null||(Ja=!0),(hr&134217727)===0&&(ua&134217727)===0||Xt===null||Ni(Xt,Ut,Vn,!1)}function jh(t,n,r){var l=ee;ee|=2;var c=Bg(),f=jg();(Xt!==t||Ut!==n)&&(Ju=null,ts(t,n)),n=!1;var y=se;t:do try{if(Zt!==0&&wt!==null){var E=wt,R=on;switch(Zt){case 8:Ph(),y=6;break t;case 3:case 2:case 6:Rn.current===null&&(n=!0);var M=Zt;if(Zt=0,on=null,es(t,E,R,M),r&&Ja){y=0;break t}break;default:M=Zt,Zt=0,on=null,es(t,E,R,M)}}fE(),y=se;break}catch(q){Pg(t,q)}while(!0);return n&&t.shellSuspendCounter++,Ai=ra=null,ee=l,T.H=c,T.A=f,wt===null&&(Xt=null,Ut=0,bu()),y}function fE(){for(;wt!==null;)kg(wt)}function dE(t,n){var r=ee;ee|=2;var l=Bg(),c=jg();Xt!==t||Ut!==n?(Ju=null,$u=Je()+500,ts(t,n)):Ja=Bi(t,n);t:do try{if(Zt!==0&&wt!==null){n=wt;var f=on;e:switch(Zt){case 1:Zt=0,on=null,es(t,n,f,1);break;case 2:if($d(f)){Zt=0,on=null,qg(n);break}n=function(){Zt===2&&Xt===t&&(Zt=7),Jn(t)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:$d(f)?(Zt=0,on=null,qg(n)):(Zt=0,on=null,es(t,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||yp(y)){Zt=0,on=null;var R=E.sibling;if(R!==null)wt=R;else{var M=E.return;M!==null?(wt=M,eo(M)):wt=null}break e}}Zt=0,on=null,es(t,n,f,5);break;case 6:Zt=0,on=null,es(t,n,f,6);break;case 8:Ph(),se=6;break t;default:throw Error(a(462))}}mE();break}catch(q){Pg(t,q)}while(!0);return Ai=ra=null,T.H=l,T.A=c,ee=r,wt!==null?0:(Xt=null,Ut=0,bu(),se)}function mE(){for(;wt!==null&&!mc();)kg(wt)}function kg(t){var n=og(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?eo(t):wt=n}function qg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ig(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=ig(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Gc(n);default:Ug(r,n),n=wt=Og(n,Vi),n=og(r,n,Vi)}t.memoizedProps=t.pendingProps,n===null?eo(t):wt=n}function es(t,n,r,l){Ai=ra=null,Gc(n),qa=null,tl=0;var c=n.return;try{if(nE(t,c,n,r,Ut)){se=1,Gu(t,An(r,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;se=1,Gu(t,An(r,t.current)),wt=null;return}n.flags&32768?(Bt||l===1?t=!0:Ja||(Ut&536870912)!==0?t=!1:(Ci=t=!0,(l===2||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hg(n,t)):eo(n)}function eo(t){var n=t;do{if((n.flags&32768)!==0){Hg(n,Ci);return}t=n.return;var r=lE(n.alternate,n,Vi);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);se===0&&(se=5)}function Hg(t,n){do{var r=uE(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);se=6,wt=null}function Gg(t,n,r,l,c,f,y,E,R,M){var q=T.T,F=et.p;try{et.p=2,T.T=null,gE(t,n,r,l,F,c,f,y,E,R,M)}finally{T.T=q,et.p=F}}function gE(t,n,r,l,c,f,y,E){do ns();while(oa!==null);if((ee&6)!==0)throw Error(a(327));var R=t.finishedWork;if(l=t.finishedLanes,R===null)return null;if(t.finishedWork=null,t.finishedLanes=0,R===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var M=R.lanes|R.childLanes;if(M|=Vc,iu(t,l,M,f,y,E),t===Xt&&(wt=Xt=null,Ut=0),(R.subtreeFlags&10256)===0&&(R.flags&10256)===0||Wu||(Wu=!0,Uh=M,xh=r,vE(li,function(){return ns(),null})),r=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||r?(r=T.T,T.T=null,f=et.p,et.p=2,y=ee,ee|=4,rE(t,R),bg(R,t),Bv(Jh,t.containerInfo),mo=!!$h,Jh=$h=null,t.current=R,Eg(t,R.alternate,R),Ds(),ee=y,et.p=f,T.T=r):t.current=R,Wu?(Wu=!1,oa=t,_l=l):Qg(t,M),M=t.pendingLanes,M===0&&(fr=null),Vs(R.stateNode),Jn(t),n!==null)for(c=t.onRecoverableError,R=0;R<n.length;R++)M=n[R],c(M.value,{componentStack:M.stack});return(_l&3)!==0&&ns(),M=t.pendingLanes,(l&4194218)!==0&&(M&42)!==0?t===zh?vl++:(vl=0,zh=t):vl=0,El(0),null}function Qg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,nl(n)))}function ns(){if(oa!==null){var t=oa,n=Uh;Uh=0;var r=ru(_l),l=T.T,c=et.p;try{if(et.p=32>r?32:r,T.T=null,oa===null)var f=!1;else{r=xh,xh=null;var y=oa,E=_l;if(oa=null,_l=0,(ee&6)!==0)throw Error(a(331));var R=ee;if(ee|=4,Vg(y.current),wg(y,y.current,E,r),ee=R,El(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Li,y)}catch{}f=!0}return f}finally{et.p=c,T.T=l,Qg(t,n)}}return!1}function Fg(t,n,r){n=An(r,n),n=rh(t.stateNode,n,2),t=sr(t,n,2),t!==null&&(ue(t,2),Jn(t))}function Yt(t,n,r){if(t.tag===3)Fg(t,t,r);else for(;n!==null;){if(n.tag===3){Fg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fr===null||!fr.has(l))){t=An(r,t),r=Xm(2),l=sr(n,r,2),l!==null&&(Zm(r,l,n,t),ue(l,2),Jn(l));break}}n=n.return}}function kh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new cE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Nh=!0,c.add(r),t=pE.bind(null,t,n,r),n.then(t,t))}function pE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Xt===t&&(Ut&r)===r&&(se===4||se===3&&(Ut&62914560)===Ut&&300>Je()-Ih?(ee&2)===0&&ts(t,0):Oh|=r,Wa===Ut&&(Wa=0)),Jn(t)}function Kg(t,n){n===0&&(n=ji()),t=Ji(t,n),t!==null&&(ue(t,n),Jn(t))}function yE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Kg(t,r)}function _E(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Kg(t,r)}function vE(t,n){return Ir(t,n)}var no=null,is=null,qh=!1,io=!1,Hh=!1,ca=0;function Jn(t){t!==is&&t.next===null&&(is===null?no=is=t:is=is.next=t),io=!0,qh||(qh=!0,TE(EE))}function El(t,n){if(!Hh&&io){Hh=!0;do for(var r=!1,l=no;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,Zg(l,f))}else f=Ut,f=gn(l,l===Xt?f:0),(f&3)===0||Bi(l,f)||(r=!0,Zg(l,f));l=l.next}while(r);Hh=!1}}function EE(){io=qh=!1;var t=0;ca!==0&&(VE()&&(t=ca),ca=0);for(var n=Je(),r=null,l=no;l!==null;){var c=l.next,f=Yg(l,n);f===0?(l.next=null,r===null?no=c:r.next=c,c===null&&(is=r)):(r=l,(t!==0||(f&3)!==0)&&(io=!0)),l=c}El(t)}function Yg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Ke(f),E=1<<y,R=c[y];R===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ta(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Xt,r=Ut,r=gn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Zt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ea(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Bi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ea(l),ru(r)){case 2:case 8:r=Re;break;case 32:r=li;break;case 268435456:r=Cs;break;default:r=li}return l=Xg.bind(null,t),r=Ir(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ea(l),t.callbackPriority=2,t.callbackNode=null,2}function Xg(t,n){var r=t.callbackNode;if(ns()&&t.callbackNode!==r)return null;var l=Ut;return l=gn(t,t===Xt?l:0),l===0?null:(zg(t,l,n),Yg(t,Je()),t.callbackNode!=null&&t.callbackNode===r?Xg.bind(null,t):null)}function Zg(t,n){if(ns())return null;zg(t,n,!0)}function TE(t){OE(function(){(ee&6)!==0?Ir(pe,t):t()})}function Gh(){return ca===0&&(ca=Os()),ca}function $g(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:kn(""+t)}function Jg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function AE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=$g((c[ye]||null).action),y=l.submitter;y&&(n=(n=y[ye]||null)?$g(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ca("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ca!==0){var R=y?Jg(c,y):new FormData(c);Wc(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?Jg(c,y):new FormData(c),Wc(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Qh=0;Qh<Gd.length;Qh++){var Fh=Gd[Qh],SE=Fh.toLowerCase(),bE=Fh[0].toUpperCase()+Fh.slice(1);In(SE,"on"+bE)}In(Bd,"onAnimationEnd"),In(jd,"onAnimationIteration"),In(kd,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(kv,"onTransitionRun"),In(qv,"onTransitionStart"),In(Hv,"onTransitionCancel"),In(qd,"onTransitionEnd"),We("onMouseEnter",["mouseout","mouseover"]),We("onMouseLeave",["mouseout","mouseover"]),We("onPointerEnter",["pointerout","pointerover"]),We("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function Wg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,M=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=M;try{f(c)}catch(q){Hu(q)}c.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,M=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=M;try{f(c)}catch(q){Hu(q)}c.currentTarget=null,f=R}}}}function Vt(t,n){var r=n[xr];r===void 0&&(r=n[xr]=new Set);var l=t+"__bubble";r.has(l)||(tp(n,t,2,!1),r.add(l))}function Kh(t,n,r){var l=0;n&&(l|=4),tp(r,t,l,n)}var ro="_reactListening"+Math.random().toString(36).slice(2);function Yh(t){if(!t[ro]){t[ro]=!0,Is.forEach(function(r){r!=="selectionchange"&&(RE.has(r)||Kh(r,!1,t),Kh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ro]||(n[ro]=!0,Kh("selectionchange",!1,n))}}function tp(t,n,r,l){switch(Sp(n)){case 2:var c=$E;break;case 8:c=JE;break;default:c=uf}r=c.bind(null,n,r,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Xh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&(R=y.stateNode.containerInfo,R===c||R.nodeType===8&&R.parentNode===c))return;y=y.return}for(;E!==null;){if(y=Mn(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue t}E=E.parentNode}}l=l.return}ou(function(){var M=f,q=Da(r),F=[];t:{var B=Hd.get(t);if(B!==void 0){var k=Ca,lt=t;switch(t){case"keypress":if(Hn(r)===0)break t;case"keydown":case"keyup":k=Ua;break;case"focusin":lt="focus",k=Oa;break;case"focusout":lt="blur",k=Oa;break;case"beforeblur":case"afterblur":k=Oa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=yu;break;case Bd:case jd:case kd:k=Ma;break;case qd:k=vu;break;case"scroll":case"scrollend":k=cu;break;case"wheel":k=xa;break;case"copy":case"cut":case"paste":k=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Qs;break;case"toggle":case"beforetoggle":k=Tu}var pt=(n&4)!==0,le=!pt&&(t==="scroll"||t==="scrollend"),x=pt?B!==null?B+"Capture":null:B;pt=[];for(var N=M,L;N!==null;){var G=N;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||x===null||(G=jr(N,x),G!=null&&pt.push(Al(N,G,L))),le)break;N=N.return}0<pt.length&&(B=new k(B,lt,null,r,q),F.push({event:B,listeners:pt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&r!==_n&&(lt=r.relatedTarget||r.fromElement)&&(Mn(lt)||lt[ui]))break t;if((k||B)&&(B=q.window===q?q:(B=q.ownerDocument)?B.defaultView||B.parentWindow:window,k?(lt=r.relatedTarget||r.toElement,k=M,lt=lt?Mn(lt):null,lt!==null&&(le=rt(lt),pt=lt.tag,lt!==le||pt!==5&&pt!==27&&pt!==6)&&(lt=null)):(k=null,lt=M),k!==lt)){if(pt=En,G="onMouseLeave",x="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(pt=Qs,G="onPointerLeave",x="onPointerEnter",N="pointer"),le=k==null?B:Qi(k),L=lt==null?B:Qi(lt),B=new pt(G,N+"leave",k,r,q),B.target=le,B.relatedTarget=L,G=null,Mn(q)===M&&(pt=new pt(x,N+"enter",lt,r,q),pt.target=L,pt.relatedTarget=le,G=pt),le=G,k&&lt)e:{for(pt=k,x=lt,N=0,L=pt;L;L=rs(L))N++;for(L=0,G=x;G;G=rs(G))L++;for(;0<N-L;)pt=rs(pt),N--;for(;0<L-N;)x=rs(x),L--;for(;N--;){if(pt===x||x!==null&&pt===x.alternate)break e;pt=rs(pt),x=rs(x)}pt=null}else pt=null;k!==null&&ep(F,B,k,pt,!1),lt!==null&&le!==null&&ep(F,le,lt,pt,!0)}}t:{if(B=M?Qi(M):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var it=Cd;else if(ve(B))if(Vd)it=Lv;else{it=xv;var Rt=Uv}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?M&&Ps(M.elementType)&&(it=Cd):it=zv;if(it&&(it=it(t,M))){pi(F,it,r,q);break t}Rt&&Rt(t,B,M),t==="focusout"&&M&&B.type==="number"&&M.memoizedProps.value!=null&&wa(B,"number",B.value)}switch(Rt=M?Qi(M):window,t){case"focusin":(ve(Rt)||Rt.contentEditable==="true")&&(za=Rt,wc=M,Ys=null);break;case"focusout":Ys=wc=za=null;break;case"mousedown":Dc=!0;break;case"contextmenu":case"mouseup":case"dragend":Dc=!1,Ld(F,r,q);break;case"selectionchange":if(jv)break;case"keydown":case"keyup":Ld(F,r,q)}var ot;if(Fn)t:{switch(t){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Mt?j(t,r)&&(dt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(dt="onCompositionStart");dt&&(g&&r.locale!=="ko"&&(Mt||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Mt&&(ot=js()):(qn=q,$i="value"in qn?qn.value:qn.textContent,Mt=!0)),Rt=ao(M,dt),0<Rt.length&&(dt=new Hs(dt,t,null,r,q),F.push({event:dt,listeners:Rt}),ot?dt.data=ot:(ot=$(r),ot!==null&&(dt.data=ot)))),(ot=m?_e(t,r):It(t,r))&&(dt=ao(M,"onBeforeInput"),0<dt.length&&(Rt=new Hs("onBeforeInput","beforeinput",null,r,q),F.push({event:Rt,listeners:dt}),Rt.data=ot)),AE(F,t,M,r,q)}Wg(F,n)})}function Al(t,n,r){return{instance:t,listener:n,currentTarget:r}}function ao(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=jr(t,r),c!=null&&l.unshift(Al(t,c,f)),c=jr(t,n),c!=null&&l.push(Al(t,c,f))),t=t.return}return l}function rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ep(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,R=E.alternate,M=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||M===null||(R=M,c?(M=jr(r,f),M!=null&&y.unshift(Al(r,M,R))):c||(M=jr(r,f),M!=null&&y.push(Al(r,M,R)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var wE=/\r\n?/g,DE=/\u0000|\uFFFD/g;function np(t){return(typeof t=="string"?t:""+t).replace(wE,`
`).replace(DE,"")}function ip(t,n){return n=np(n),np(t)===n}function so(){}function Kt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":Yi(t,"class",l);break;case"tabIndex":Yi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yi(t,r,l);break;case"style":uu(t,l,f);break;case"data":if(n!=="object"){Yi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=kn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=kn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=so);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=kn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Ki(t,"popover",l);break;case"xlinkActuate":pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":pn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":pn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":pn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":pn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ki(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=vc.get(r)||r,Ki(t,r,l))}}function Zh(t,n,r,l,c,f){switch(r){case"style":uu(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=so);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ye]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ki(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(t,n,f,y,r,null)}}c&&Kt(t,n,"srcSet",r.srcSet,r,null),l&&Kt(t,n,"src",r.src,r,null);return;case"input":Vt("invalid",t);var E=f=y=c=null,R=null,M=null;for(l in r)if(r.hasOwnProperty(l)){var q=r[l];if(q!=null)switch(l){case"name":c=q;break;case"type":y=q;break;case"checked":R=q;break;case"defaultChecked":M=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Kt(t,n,l,q,r,null)}}Pr(t,f,E,R,M,y,c,!1),Lr(t);return;case"select":Vt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Kt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?Pt(t,!!l,n,!1):r!=null&&Pt(t,!!l,r,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Kt(t,n,y,E,r,null)}Zi(t,l,c,f),Lr(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,R,l,r,null)}return;case"dialog":Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Vt(Tl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in r)if(r.hasOwnProperty(M)&&(l=r[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(t,n,M,l,r,null)}return;default:if(Ps(n)){for(q in r)r.hasOwnProperty(q)&&(l=r[q],l!==void 0&&Zh(t,n,q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Kt(t,n,E,l,r,null))}function CE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,R=null,M=null,q=null;for(k in r){var F=r[k];if(r.hasOwnProperty(k)&&F!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":R=F;default:l.hasOwnProperty(k)||Kt(t,n,k,null,l,F)}}for(var B in l){var k=l[B];if(F=r[B],l.hasOwnProperty(B)&&(k!=null||F!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":M=k;break;case"defaultChecked":q=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==F&&Kt(t,n,B,k,l,F)}}Xi(t,y,E,R,M,q,f,c);return;case"select":k=y=E=B=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":k=R;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=r[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Kt(t,n,c,f,l,R)}n=E,r=y,l=k,B!=null?Pt(t,!!r,B,!1):!!l!=!!r&&(n!=null?Pt(t,!!r,n,!0):Pt(t,!!r,r?[]:"",!1));return;case"textarea":k=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Kt(t,n,y,c,l,f)}Br(t,B,k);return;case"option":for(var lt in r)if(B=r[lt],r.hasOwnProperty(lt)&&B!=null&&!l.hasOwnProperty(lt))switch(lt){case"selected":t.selected=!1;break;default:Kt(t,n,lt,null,l,B)}for(R in l)if(B=l[R],k=r[R],l.hasOwnProperty(R)&&B!==k&&(B!=null||k!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Kt(t,n,R,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)B=r[pt],r.hasOwnProperty(pt)&&B!=null&&!l.hasOwnProperty(pt)&&Kt(t,n,pt,null,l,B);for(M in l)if(B=l[M],k=r[M],l.hasOwnProperty(M)&&B!==k&&(B!=null||k!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Kt(t,n,M,B,l,k)}return;default:if(Ps(n)){for(var le in r)B=r[le],r.hasOwnProperty(le)&&B!==void 0&&!l.hasOwnProperty(le)&&Zh(t,n,le,void 0,l,B);for(q in l)B=l[q],k=r[q],!l.hasOwnProperty(q)||B===k||B===void 0&&k===void 0||Zh(t,n,q,B,l,k);return}}for(var x in r)B=r[x],r.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Kt(t,n,x,null,l,B);for(F in l)B=l[F],k=r[F],!l.hasOwnProperty(F)||B===k||B==null&&k==null||Kt(t,n,F,B,l,k)}var $h=null,Jh=null;function lo(t){return t.nodeType===9?t:t.ownerDocument}function rp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ap(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Wh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var tf=null;function VE(){var t=window.event;return t&&t.type==="popstate"?t===tf?!1:(tf=t,!0):(tf=null,!1)}var sp=typeof setTimeout=="function"?setTimeout:void 0,NE=typeof clearTimeout=="function"?clearTimeout:void 0,lp=typeof Promise=="function"?Promise:void 0,OE=typeof queueMicrotask=="function"?queueMicrotask:typeof lp<"u"?function(t){return lp.resolve(null).then(t).catch(ME)}:sp;function ME(t){setTimeout(function(){throw t})}function ef(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Nl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Nl(n)}function nf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":nf(r),zr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function IE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Gi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function UE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=zn(t.nextSibling),t===null))return null;return t}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function up(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function op(t,n,r){switch(n=lo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Nn=new Map,cp=new Set;function uo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Oi=et.d;et.d={f:xE,r:zE,D:LE,C:PE,L:BE,m:jE,X:qE,S:kE,M:HE};function xE(){var t=Oi.f(),n=to();return t||n}function zE(t){var n=oi(t);n!==null&&n.tag===5&&n.type==="form"?Lm(n):Oi.r(t)}var as=typeof document>"u"?null:document;function hp(t,n,r){var l=as;if(l&&typeof n=="string"&&n){var c=re(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),cp.has(c)||(cp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),Wt(n),l.head.appendChild(n)))}}function LE(t){Oi.D(t),hp("dns-prefetch",t,null)}function PE(t,n){Oi.C(t,n),hp("preconnect",t,n)}function BE(t,n,r){Oi.L(t,n,r);var l=as;if(l&&t&&n){var c='link[rel="preload"][as="'+re(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+re(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+re(r.imageSizes)+'"]')):c+='[href="'+re(t)+'"]';var f=c;switch(n){case"style":f=ss(t);break;case"script":f=ls(t)}Nn.has(f)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Nn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Sl(f))||n==="script"&&l.querySelector(bl(f))||(n=l.createElement("link"),ze(n,"link",t),Wt(n),l.head.appendChild(n)))}}function jE(t,n){Oi.m(t,n);var r=as;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+re(l)+'"][href="'+re(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ls(t)}if(!Nn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Nn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(bl(f)))return}l=r.createElement("link"),ze(l,"link",t),Wt(l),r.head.appendChild(l)}}}function kE(t,n,r){Oi.S(t,n,r);var l=as;if(l&&t){var c=Fi(l).hoistableStyles,f=ss(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Sl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Nn.get(f))&&rf(t,r);var R=y=l.createElement("link");Wt(R),ze(R,"link",t),R._p=new Promise(function(M,q){R.onload=M,R.onerror=q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,oo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function qE(t,n){Oi.X(t,n);var r=as;if(r&&t){var l=Fi(r).hoistableScripts,c=ls(t),f=l.get(c);f||(f=r.querySelector(bl(c)),f||(t=S({src:t,async:!0},n),(n=Nn.get(c))&&af(t,n),f=r.createElement("script"),Wt(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function HE(t,n){Oi.M(t,n);var r=as;if(r&&t){var l=Fi(r).hoistableScripts,c=ls(t),f=l.get(c);f||(f=r.querySelector(bl(c)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Nn.get(c))&&af(t,n),f=r.createElement("script"),Wt(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function fp(t,n,r,l){var c=(c=mn.current)?uo(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ss(r.href),r=Fi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ss(r.href);var f=Fi(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Sl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Nn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Nn.set(t,r),f||GE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ls(r),r=Fi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ss(t){return'href="'+re(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function dp(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function GE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),Wt(n),t.head.appendChild(n))}function ls(t){return'[src="'+re(t)+'"]'}function bl(t){return"script[async]"+t}function mp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+re(r.href)+'"]');if(l)return n.instance=l,Wt(l),l;var c=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Wt(l),ze(l,"style",c),oo(l,r.precedence,t),n.instance=l;case"stylesheet":c=ss(r.href);var f=t.querySelector(Sl(c));if(f)return n.state.loading|=4,n.instance=f,Wt(f),f;l=dp(r),(c=Nn.get(c))&&rf(l,c),f=(t.ownerDocument||t).createElement("link"),Wt(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ze(f,"link",l),n.state.loading|=4,oo(f,r.precedence,t),n.instance=f;case"script":return f=ls(r.src),(c=t.querySelector(bl(f)))?(n.instance=c,Wt(c),c):(l=r,(c=Nn.get(f))&&(l=S({},r),af(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Wt(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,oo(l,r.precedence,t));return n.instance}function oo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var co=null;function gp(t,n,r){if(co===null){var l=new Map,c=co=new Map;c.set(r,l)}else c=co,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Gi]||f[we]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function pp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function QE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function yp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Rl=null;function FE(){}function KE(t,n,r){if(Rl===null)throw Error(a(475));var l=Rl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ss(r.href),f=t.querySelector(Sl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=ho.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Wt(f);return}f=t.ownerDocument||t,r=dp(r),(c=Nn.get(c))&&rf(r,c),f=f.createElement("link"),Wt(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=ho.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function YE(){if(Rl===null)throw Error(a(475));var t=Rl;return t.stylesheets&&t.count===0&&sf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&sf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function ho(){if(this.count--,this.count===0){if(this.stylesheets)sf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fo=null;function sf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fo=new Map,n.forEach(XE,t),fo=null,ho.call(t))}function XE(t,n){if(!(n.state.loading&4)){var r=fo.get(t);if(r)var l=r.get(null);else{r=new Map,fo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=ho.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var wl={$$typeof:H,Provider:null,Consumer:null,_currentValue:St,_currentValue2:St,_threadCount:0};function ZE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Aa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aa(0),this.hiddenUpdates=Aa(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function _p(t,n,r,l,c,f,y,E,R,M,q,F){return t=new ZE(t,n,r,y,E,R,M,F),n=1,f===!0&&(n|=24),f=Cn(3,null,null,n),t.current=f,f.stateNode=t,n=Lc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},yh(f),t}function vp(t){return t?(t=Ba,t):Ba}function Ep(t,n,r,l,c,f){c=vp(c),l.context===null?l.context=c:l.pendingContext=c,l=ar(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=sr(t,l,n),r!==null&&($e(r,t,n),ol(r,t,n))}function Tp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function lf(t,n){Tp(t,n),(t=t.alternate)&&Tp(t,n)}function Ap(t){if(t.tag===13){var n=Ji(t,67108864);n!==null&&$e(n,t,67108864),lf(t,67108864)}}var mo=!0;function $E(t,n,r,l){var c=T.T;T.T=null;var f=et.p;try{et.p=2,uf(t,n,r,l)}finally{et.p=f,T.T=c}}function JE(t,n,r,l){var c=T.T;T.T=null;var f=et.p;try{et.p=8,uf(t,n,r,l)}finally{et.p=f,T.T=c}}function uf(t,n,r,l){if(mo){var c=of(l);if(c===null)Xh(t,n,l,go,r),bp(t,l);else if(t0(c,t,n,r,l))l.stopPropagation();else if(bp(t,l),n&4&&-1<WE.indexOf(t)){for(;c!==null;){var f=oi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=On(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-Ke(y);E.entanglements[1]|=R,y&=~R}Jn(f),(ee&6)===0&&($u=Je()+500,El(0))}}break;case 13:E=Ji(f,2),E!==null&&$e(E,f,2),to(),lf(f,2)}if(f=of(l),f===null&&Xh(t,n,l,go,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Xh(t,n,l,null,r)}}function of(t){return t=Da(t),cf(t)}var go=null;function cf(t){if(go=null,t=Mn(t),t!==null){var n=rt(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=Dt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return go=t,null}function Sp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wl()){case pe:return 2;case Re:return 8;case li:case tu:return 32;case Cs:return 268435456;default:return 32}default:return 32}}var hf=!1,dr=null,mr=null,gr=null,Dl=new Map,Cl=new Map,pr=[],WE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bp(t,n){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(n.pointerId)}}function Vl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=oi(n),n!==null&&Ap(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function t0(t,n,r,l,c){switch(n){case"focusin":return dr=Vl(dr,t,n,r,l,c),!0;case"dragenter":return mr=Vl(mr,t,n,r,l,c),!0;case"mouseover":return gr=Vl(gr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Dl.set(f,Vl(Dl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Cl.set(f,Vl(Cl.get(f)||null,t,n,r,l,c)),!0}return!1}function Rp(t){var n=Mn(t.target);if(n!==null){var r=rt(n);if(r!==null){if(n=r.tag,n===13){if(n=Dt(r),n!==null){t.blockedOn=n,Hi(t.priority,function(){if(r.tag===13){var l=cn(),c=Ji(r,l);c!==null&&$e(c,r,l),lf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function po(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=of(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);_n=l,r.target.dispatchEvent(l),_n=null}else return n=oi(r),n!==null&&Ap(n),t.blockedOn=r,!1;n.shift()}return!0}function wp(t,n,r){po(t)&&r.delete(n)}function e0(){hf=!1,dr!==null&&po(dr)&&(dr=null),mr!==null&&po(mr)&&(mr=null),gr!==null&&po(gr)&&(gr=null),Dl.forEach(wp),Cl.forEach(wp)}function yo(t,n){t.blockedOn===n&&(t.blockedOn=null,hf||(hf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,e0)))}var _o=null;function Dp(t){_o!==t&&(_o=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){_o===t&&(_o=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(cf(l||r)===null)continue;break}var f=oi(r);f!==null&&(t.splice(n,3),n-=3,Wc(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Nl(t){function n(R){return yo(R,t)}dr!==null&&yo(dr,t),mr!==null&&yo(mr,t),gr!==null&&yo(gr,t),Dl.forEach(n),Cl.forEach(n);for(var r=0;r<pr.length;r++){var l=pr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<pr.length&&(r=pr[0],r.blockedOn===null);)Rp(r),r.blockedOn===null&&pr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[ye]||null;if(typeof f=="function")y||Dp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ye]||null)E=y.formAction;else if(cf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Dp(r)}}}function ff(t){this._internalRoot=t}vo.prototype.render=ff.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=cn();Ep(r,l,t,n,null,null)},vo.prototype.unmount=ff.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&ns(),Ep(t.current,2,null,t,null,null),to(),n[ui]=null}};function vo(t){this._internalRoot=t}vo.prototype.unstable_scheduleHydration=function(t){if(t){var n=au();t={blockedOn:null,target:t,priority:n};for(var r=0;r<pr.length&&n!==0&&n<pr[r].priority;r++);pr.splice(r,0,t),r===0&&Rp(t)}};var Cp=e.version;if(Cp!=="19.0.0")throw Error(a(527,Cp,"19.0.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=Y(n),t=t!==null?ut(t):null,t=t===null?null:t.stateNode,t};var n0={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:T,findFiberByHostInstance:Mn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eo.isDisabled&&Eo.supportsFiber)try{Li=Eo.inject(n0),je=Eo}catch{}}return Ml.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=Qm,f=Fm,y=Km,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=_p(t,1,!1,null,null,r,l,c,f,y,E,null),t[ui]=n.current,Yh(t.nodeType===8?t.parentNode:t),new ff(n)},Ml.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=Qm,y=Fm,E=Km,R=null,M=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(M=r.formState)),n=_p(t,1,!0,n,r??null,l,c,f,y,E,R,M),n.context=vp(null),r=n.current,l=cn(),c=ar(l),c.callback=null,sr(r,c,l),n.current.lanes=l,ue(n,l),Jn(n),t[ui]=n.current,Yh(t),new vo(n)},Ml.version="19.0.0",Ml}var Pp;function f0(){if(Pp)return gf.exports;Pp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),gf.exports=h0(),gf.exports}var d0=f0();const m0=()=>{};var Bp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},g0=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],p=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Yy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,p=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,w=h>>2,I=(h&3)<<4|p>>4;let P=(p&15)<<2|v>>6,H=v&63;_||(H=64,d||(P=64)),a.push(i[w],i[I],i[P],i[H])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Ky(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):g0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],p=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const I=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||p==null||v==null||I==null)throw new p0;const P=h<<2|p>>4;if(a.push(P),v!==64){const H=p<<4&240|v>>2;if(a.push(H),I!==64){const X=v<<6&192|I;a.push(X)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class p0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y0=function(s){const e=Ky(s);return Yy.encodeByteArray(e,!0)},Uo=function(s){return y0(s).replace(/\./g,"")},_0=function(s){try{return Yy.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=()=>v0().__FIREBASE_DEFAULTS__,T0=()=>{if(typeof process>"u"||typeof Bp>"u")return;const s=Bp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},A0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&_0(s[1]);return e&&JSON.parse(e)},Zf=()=>{try{return m0()||E0()||T0()||A0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},S0=s=>{var e,i;return(i=(e=Zf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},b0=s=>{const e=S0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Xy=()=>{var s;return(s=Zf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Uo(JSON.stringify(i)),Uo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C0(){var s;const e=(s=Zf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function V0(){return!C0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N0(){try{return typeof indexedDB=="object"}catch{return!1}}function O0(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="FirebaseError";class Ts extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=M0,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zy.prototype.create)}}class Zy{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?I0(h,a):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new Ts(u,p,a)}}function I0(s,e){return s.replace(U0,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const U0=/\{\$([^}]+)}/g;function xo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(jp(h)&&jp(d)){if(!xo(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function jp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(s){return s&&s._delegate?s._delegate:s}class kl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new R0;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L0(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:z0(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z0(s){return s===ha?void 0:s}function L0(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new x0(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(zt||(zt={}));const B0={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},j0=zt.INFO,k0={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},q0=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=k0[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $y{constructor(e){this.name=e,this._logLevel=j0,this._logHandler=q0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const H0=(s,e)=>e.some(i=>s instanceof i);let kp,qp;function G0(){return kp||(kp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q0(){return qp||(qp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Jy=new WeakMap,Cf=new WeakMap,Wy=new WeakMap,vf=new WeakMap,$f=new WeakMap;function F0(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(vr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Jy.set(i,s)}).catch(()=>{}),$f.set(e,s),e}function K0(s){if(Cf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Cf.set(s,e)}let Vf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Cf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Wy.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return vr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Y0(s){Vf=s(Vf)}function X0(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Ef(this),e,...i);return Wy.set(a,e.sort?e.sort():[e]),vr(a)}:Q0().includes(s)?function(...e){return s.apply(Ef(this),e),vr(Jy.get(this))}:function(...e){return vr(s.apply(Ef(this),e))}}function Z0(s){return typeof s=="function"?X0(s):(s instanceof IDBTransaction&&K0(s),H0(s,G0())?new Proxy(s,Vf):s)}function vr(s){if(s instanceof IDBRequest)return F0(s);if(vf.has(s))return vf.get(s);const e=Z0(s);return e!==s&&(vf.set(s,e),$f.set(e,s)),e}const Ef=s=>$f.get(s);function $0(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),p=vr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(vr(d.result),_.oldVersion,_.newVersion,vr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const J0=["get","getKey","getAll","getAllKeys","count"],W0=["put","add","delete","clear"],Tf=new Map;function Hp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Tf.get(e))return Tf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=W0.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||J0.includes(i)))return;const h=async function(d,...p){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),u&&_.done]))[0]};return Tf.set(e,h),h}Y0(s=>({...s,get:(e,i,a)=>Hp(e,i)||s.get(e,i,a),has:(e,i)=>!!Hp(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(eT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function eT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nf="@firebase/app",Gp="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new $y("@firebase/app"),nT="@firebase/app-compat",iT="@firebase/analytics-compat",rT="@firebase/analytics",aT="@firebase/app-check-compat",sT="@firebase/app-check",lT="@firebase/auth",uT="@firebase/auth-compat",oT="@firebase/database",cT="@firebase/data-connect",hT="@firebase/database-compat",fT="@firebase/functions",dT="@firebase/functions-compat",mT="@firebase/installations",gT="@firebase/installations-compat",pT="@firebase/messaging",yT="@firebase/messaging-compat",_T="@firebase/performance",vT="@firebase/performance-compat",ET="@firebase/remote-config",TT="@firebase/remote-config-compat",AT="@firebase/storage",ST="@firebase/storage-compat",bT="@firebase/firestore",RT="@firebase/vertexai",wT="@firebase/firestore-compat",DT="firebase",CT="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="[DEFAULT]",VT={[Nf]:"fire-core",[nT]:"fire-core-compat",[rT]:"fire-analytics",[iT]:"fire-analytics-compat",[sT]:"fire-app-check",[aT]:"fire-app-check-compat",[lT]:"fire-auth",[uT]:"fire-auth-compat",[oT]:"fire-rtdb",[cT]:"fire-data-connect",[hT]:"fire-rtdb-compat",[fT]:"fire-fn",[dT]:"fire-fn-compat",[mT]:"fire-iid",[gT]:"fire-iid-compat",[pT]:"fire-fcm",[yT]:"fire-fcm-compat",[_T]:"fire-perf",[vT]:"fire-perf-compat",[ET]:"fire-rc",[TT]:"fire-rc-compat",[AT]:"fire-gcs",[ST]:"fire-gcs-compat",[bT]:"fire-fst",[wT]:"fire-fst-compat",[RT]:"fire-vertex","fire-js":"fire-js",[DT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new Map,NT=new Map,Mf=new Map;function Qp(s,e){try{s.container.addComponent(e)}catch(i){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Lo(s){const e=s.name;if(Mf.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Mf.set(e,s);for(const i of zo.values())Qp(i,s);for(const i of NT.values())Qp(i,s);return!0}function OT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function MT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new Zy("app","Firebase",IT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=CT;function t_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Of,automaticDataCollectionEnabled:!1},e),u=a.name;if(typeof u!="string"||!u)throw Er.create("bad-app-name",{appName:String(u)});if(i||(i=Xy()),!i)throw Er.create("no-options");const h=zo.get(u);if(h){if(xo(i,h.options)&&xo(a,h.config))return h;throw Er.create("duplicate-app",{appName:u})}const d=new P0(u);for(const _ of Mf.values())d.addComponent(_);const p=new UT(i,a,d);return zo.set(u,p),p}function zT(s=Of){const e=zo.get(s);if(!e&&s===Of&&Xy())return t_();if(!e)throw Er.create("no-app",{appName:s});return e}function fs(s,e,i){var a;let u=(a=VT[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const p=[`Unable to register library "${u}" with version "${e}":`];h&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(p.join(" "));return}Lo(new kl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="firebase-heartbeat-database",PT=1,ql="firebase-heartbeat-store";let Af=null;function e_(){return Af||(Af=$0(LT,PT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ql)}catch(i){console.warn(i)}}}}).catch(s=>{throw Er.create("idb-open",{originalErrorMessage:s.message})})),Af}async function BT(s){try{const i=(await e_()).transaction(ql),a=await i.objectStore(ql).get(n_(s));return await i.done,a}catch(e){if(e instanceof Ts)Mi.warn(e.message);else{const i=Er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(i.message)}}}async function Fp(s,e){try{const a=(await e_()).transaction(ql,"readwrite");await a.objectStore(ql).put(e,n_(s)),await a.done}catch(i){if(i instanceof Ts)Mi.warn(i.message);else{const a=Er.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Mi.warn(a.message)}}}function n_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=1024,kT=30;class qT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new GT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Kp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>kT){const d=QT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Mi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Kp(),{heartbeatsToSend:a,unsentEntries:u}=HT(this._heartbeatsCache.heartbeats),h=Uo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Mi.warn(i),""}}}function Kp(){return new Date().toISOString().substring(0,10)}function HT(s,e=jT){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Yp(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Yp(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class GT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N0()?O0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await BT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Fp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Fp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function Yp(s){return Uo(JSON.stringify({version:2,heartbeats:s})).length}function QT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(s){Lo(new kl("platform-logger",e=>new tT(e),"PRIVATE")),Lo(new kl("heartbeat",e=>new qT(e),"PRIVATE")),fs(Nf,Gp,s),fs(Nf,Gp,"esm2017"),fs("fire-js","")}FT("");var KT="firebase",YT="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(KT,YT,"app");var Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tr,i_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,D){function T(){}T.prototype=D.prototype,U.D=D.prototype,U.prototype=new T,U.prototype.constructor=U,U.C=function(S,C,O){for(var b=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)b[Qt-2]=arguments[Qt];return D.prototype[C].apply(S,b)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(U,D,T){T||(T=0);var S=Array(16);if(typeof D=="string")for(var C=0;16>C;++C)S[C]=D.charCodeAt(T++)|D.charCodeAt(T++)<<8|D.charCodeAt(T++)<<16|D.charCodeAt(T++)<<24;else for(C=0;16>C;++C)S[C]=D[T++]|D[T++]<<8|D[T++]<<16|D[T++]<<24;D=U.g[0],T=U.g[1],C=U.g[2];var O=U.g[3],b=D+(O^T&(C^O))+S[0]+3614090360&4294967295;D=T+(b<<7&4294967295|b>>>25),b=O+(C^D&(T^C))+S[1]+3905402710&4294967295,O=D+(b<<12&4294967295|b>>>20),b=C+(T^O&(D^T))+S[2]+606105819&4294967295,C=O+(b<<17&4294967295|b>>>15),b=T+(D^C&(O^D))+S[3]+3250441966&4294967295,T=C+(b<<22&4294967295|b>>>10),b=D+(O^T&(C^O))+S[4]+4118548399&4294967295,D=T+(b<<7&4294967295|b>>>25),b=O+(C^D&(T^C))+S[5]+1200080426&4294967295,O=D+(b<<12&4294967295|b>>>20),b=C+(T^O&(D^T))+S[6]+2821735955&4294967295,C=O+(b<<17&4294967295|b>>>15),b=T+(D^C&(O^D))+S[7]+4249261313&4294967295,T=C+(b<<22&4294967295|b>>>10),b=D+(O^T&(C^O))+S[8]+1770035416&4294967295,D=T+(b<<7&4294967295|b>>>25),b=O+(C^D&(T^C))+S[9]+2336552879&4294967295,O=D+(b<<12&4294967295|b>>>20),b=C+(T^O&(D^T))+S[10]+4294925233&4294967295,C=O+(b<<17&4294967295|b>>>15),b=T+(D^C&(O^D))+S[11]+2304563134&4294967295,T=C+(b<<22&4294967295|b>>>10),b=D+(O^T&(C^O))+S[12]+1804603682&4294967295,D=T+(b<<7&4294967295|b>>>25),b=O+(C^D&(T^C))+S[13]+4254626195&4294967295,O=D+(b<<12&4294967295|b>>>20),b=C+(T^O&(D^T))+S[14]+2792965006&4294967295,C=O+(b<<17&4294967295|b>>>15),b=T+(D^C&(O^D))+S[15]+1236535329&4294967295,T=C+(b<<22&4294967295|b>>>10),b=D+(C^O&(T^C))+S[1]+4129170786&4294967295,D=T+(b<<5&4294967295|b>>>27),b=O+(T^C&(D^T))+S[6]+3225465664&4294967295,O=D+(b<<9&4294967295|b>>>23),b=C+(D^T&(O^D))+S[11]+643717713&4294967295,C=O+(b<<14&4294967295|b>>>18),b=T+(O^D&(C^O))+S[0]+3921069994&4294967295,T=C+(b<<20&4294967295|b>>>12),b=D+(C^O&(T^C))+S[5]+3593408605&4294967295,D=T+(b<<5&4294967295|b>>>27),b=O+(T^C&(D^T))+S[10]+38016083&4294967295,O=D+(b<<9&4294967295|b>>>23),b=C+(D^T&(O^D))+S[15]+3634488961&4294967295,C=O+(b<<14&4294967295|b>>>18),b=T+(O^D&(C^O))+S[4]+3889429448&4294967295,T=C+(b<<20&4294967295|b>>>12),b=D+(C^O&(T^C))+S[9]+568446438&4294967295,D=T+(b<<5&4294967295|b>>>27),b=O+(T^C&(D^T))+S[14]+3275163606&4294967295,O=D+(b<<9&4294967295|b>>>23),b=C+(D^T&(O^D))+S[3]+4107603335&4294967295,C=O+(b<<14&4294967295|b>>>18),b=T+(O^D&(C^O))+S[8]+1163531501&4294967295,T=C+(b<<20&4294967295|b>>>12),b=D+(C^O&(T^C))+S[13]+2850285829&4294967295,D=T+(b<<5&4294967295|b>>>27),b=O+(T^C&(D^T))+S[2]+4243563512&4294967295,O=D+(b<<9&4294967295|b>>>23),b=C+(D^T&(O^D))+S[7]+1735328473&4294967295,C=O+(b<<14&4294967295|b>>>18),b=T+(O^D&(C^O))+S[12]+2368359562&4294967295,T=C+(b<<20&4294967295|b>>>12),b=D+(T^C^O)+S[5]+4294588738&4294967295,D=T+(b<<4&4294967295|b>>>28),b=O+(D^T^C)+S[8]+2272392833&4294967295,O=D+(b<<11&4294967295|b>>>21),b=C+(O^D^T)+S[11]+1839030562&4294967295,C=O+(b<<16&4294967295|b>>>16),b=T+(C^O^D)+S[14]+4259657740&4294967295,T=C+(b<<23&4294967295|b>>>9),b=D+(T^C^O)+S[1]+2763975236&4294967295,D=T+(b<<4&4294967295|b>>>28),b=O+(D^T^C)+S[4]+1272893353&4294967295,O=D+(b<<11&4294967295|b>>>21),b=C+(O^D^T)+S[7]+4139469664&4294967295,C=O+(b<<16&4294967295|b>>>16),b=T+(C^O^D)+S[10]+3200236656&4294967295,T=C+(b<<23&4294967295|b>>>9),b=D+(T^C^O)+S[13]+681279174&4294967295,D=T+(b<<4&4294967295|b>>>28),b=O+(D^T^C)+S[0]+3936430074&4294967295,O=D+(b<<11&4294967295|b>>>21),b=C+(O^D^T)+S[3]+3572445317&4294967295,C=O+(b<<16&4294967295|b>>>16),b=T+(C^O^D)+S[6]+76029189&4294967295,T=C+(b<<23&4294967295|b>>>9),b=D+(T^C^O)+S[9]+3654602809&4294967295,D=T+(b<<4&4294967295|b>>>28),b=O+(D^T^C)+S[12]+3873151461&4294967295,O=D+(b<<11&4294967295|b>>>21),b=C+(O^D^T)+S[15]+530742520&4294967295,C=O+(b<<16&4294967295|b>>>16),b=T+(C^O^D)+S[2]+3299628645&4294967295,T=C+(b<<23&4294967295|b>>>9),b=D+(C^(T|~O))+S[0]+4096336452&4294967295,D=T+(b<<6&4294967295|b>>>26),b=O+(T^(D|~C))+S[7]+1126891415&4294967295,O=D+(b<<10&4294967295|b>>>22),b=C+(D^(O|~T))+S[14]+2878612391&4294967295,C=O+(b<<15&4294967295|b>>>17),b=T+(O^(C|~D))+S[5]+4237533241&4294967295,T=C+(b<<21&4294967295|b>>>11),b=D+(C^(T|~O))+S[12]+1700485571&4294967295,D=T+(b<<6&4294967295|b>>>26),b=O+(T^(D|~C))+S[3]+2399980690&4294967295,O=D+(b<<10&4294967295|b>>>22),b=C+(D^(O|~T))+S[10]+4293915773&4294967295,C=O+(b<<15&4294967295|b>>>17),b=T+(O^(C|~D))+S[1]+2240044497&4294967295,T=C+(b<<21&4294967295|b>>>11),b=D+(C^(T|~O))+S[8]+1873313359&4294967295,D=T+(b<<6&4294967295|b>>>26),b=O+(T^(D|~C))+S[15]+4264355552&4294967295,O=D+(b<<10&4294967295|b>>>22),b=C+(D^(O|~T))+S[6]+2734768916&4294967295,C=O+(b<<15&4294967295|b>>>17),b=T+(O^(C|~D))+S[13]+1309151649&4294967295,T=C+(b<<21&4294967295|b>>>11),b=D+(C^(T|~O))+S[4]+4149444226&4294967295,D=T+(b<<6&4294967295|b>>>26),b=O+(T^(D|~C))+S[11]+3174756917&4294967295,O=D+(b<<10&4294967295|b>>>22),b=C+(D^(O|~T))+S[2]+718787259&4294967295,C=O+(b<<15&4294967295|b>>>17),b=T+(O^(C|~D))+S[9]+3951481745&4294967295,U.g[0]=U.g[0]+D&4294967295,U.g[1]=U.g[1]+(C+(b<<21&4294967295|b>>>11))&4294967295,U.g[2]=U.g[2]+C&4294967295,U.g[3]=U.g[3]+O&4294967295}a.prototype.u=function(U,D){D===void 0&&(D=U.length);for(var T=D-this.blockSize,S=this.B,C=this.h,O=0;O<D;){if(C==0)for(;O<=T;)u(this,U,O),O+=this.blockSize;if(typeof U=="string"){for(;O<D;)if(S[C++]=U.charCodeAt(O++),C==this.blockSize){u(this,S),C=0;break}}else for(;O<D;)if(S[C++]=U[O++],C==this.blockSize){u(this,S),C=0;break}}this.h=C,this.o+=D},a.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var D=1;D<U.length-8;++D)U[D]=0;var T=8*this.o;for(D=U.length-8;D<U.length;++D)U[D]=T&255,T/=256;for(this.u(U),U=Array(16),D=T=0;4>D;++D)for(var S=0;32>S;S+=8)U[T++]=this.g[D]>>>S&255;return U};function h(U,D){var T=p;return Object.prototype.hasOwnProperty.call(T,U)?T[U]:T[U]=D(U)}function d(U,D){this.h=D;for(var T=[],S=!0,C=U.length-1;0<=C;C--){var O=U[C]|0;S&&O==D||(T[C]=O,S=!1)}this.g=T}var p={};function _(U){return-128<=U&&128>U?h(U,function(D){return new d([D|0],0>D?-1:0)}):new d([U|0],0>U?-1:0)}function v(U){if(isNaN(U)||!isFinite(U))return I;if(0>U)return Z(v(-U));for(var D=[],T=1,S=0;U>=T;S++)D[S]=U/T|0,T*=4294967296;return new d(D,0)}function w(U,D){if(U.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(U.charAt(0)=="-")return Z(w(U.substring(1),D));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=v(Math.pow(D,8)),S=I,C=0;C<U.length;C+=8){var O=Math.min(8,U.length-C),b=parseInt(U.substring(C,C+O),D);8>O?(O=v(Math.pow(D,O)),S=S.j(O).add(v(b))):(S=S.j(T),S=S.add(v(b)))}return S}var I=_(0),P=_(1),H=_(16777216);s=d.prototype,s.m=function(){if(W(this))return-Z(this).m();for(var U=0,D=1,T=0;T<this.g.length;T++){var S=this.i(T);U+=(0<=S?S:4294967296+S)*D,D*=4294967296}return U},s.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(X(this))return"0";if(W(this))return"-"+Z(this).toString(U);for(var D=v(Math.pow(U,6)),T=this,S="";;){var C=Ht(T,D).g;T=At(T,C.j(D));var O=((0<T.g.length?T.g[0]:T.h)>>>0).toString(U);if(T=C,X(T))return O+S;for(;6>O.length;)O="0"+O;S=O+S}},s.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function X(U){if(U.h!=0)return!1;for(var D=0;D<U.g.length;D++)if(U.g[D]!=0)return!1;return!0}function W(U){return U.h==-1}s.l=function(U){return U=At(this,U),W(U)?-1:X(U)?0:1};function Z(U){for(var D=U.g.length,T=[],S=0;S<D;S++)T[S]=~U.g[S];return new d(T,~U.h).add(P)}s.abs=function(){return W(this)?Z(this):this},s.add=function(U){for(var D=Math.max(this.g.length,U.g.length),T=[],S=0,C=0;C<=D;C++){var O=S+(this.i(C)&65535)+(U.i(C)&65535),b=(O>>>16)+(this.i(C)>>>16)+(U.i(C)>>>16);S=b>>>16,O&=65535,b&=65535,T[C]=b<<16|O}return new d(T,T[T.length-1]&-2147483648?-1:0)};function At(U,D){return U.add(Z(D))}s.j=function(U){if(X(this)||X(U))return I;if(W(this))return W(U)?Z(this).j(Z(U)):Z(Z(this).j(U));if(W(U))return Z(this.j(Z(U)));if(0>this.l(H)&&0>U.l(H))return v(this.m()*U.m());for(var D=this.g.length+U.g.length,T=[],S=0;S<2*D;S++)T[S]=0;for(S=0;S<this.g.length;S++)for(var C=0;C<U.g.length;C++){var O=this.i(S)>>>16,b=this.i(S)&65535,Qt=U.i(C)>>>16,Jt=U.i(C)&65535;T[2*S+2*C]+=b*Jt,ht(T,2*S+2*C),T[2*S+2*C+1]+=O*Jt,ht(T,2*S+2*C+1),T[2*S+2*C+1]+=b*Qt,ht(T,2*S+2*C+1),T[2*S+2*C+2]+=O*Qt,ht(T,2*S+2*C+2)}for(S=0;S<D;S++)T[S]=T[2*S+1]<<16|T[2*S];for(S=D;S<2*D;S++)T[S]=0;return new d(T,0)};function ht(U,D){for(;(U[D]&65535)!=U[D];)U[D+1]+=U[D]>>>16,U[D]&=65535,D++}function _t(U,D){this.g=U,this.h=D}function Ht(U,D){if(X(D))throw Error("division by zero");if(X(U))return new _t(I,I);if(W(U))return D=Ht(Z(U),D),new _t(Z(D.g),Z(D.h));if(W(D))return D=Ht(U,Z(D)),new _t(Z(D.g),D.h);if(30<U.g.length){if(W(U)||W(D))throw Error("slowDivide_ only works with positive integers.");for(var T=P,S=D;0>=S.l(U);)T=vt(T),S=vt(S);var C=Ot(T,1),O=Ot(S,1);for(S=Ot(S,2),T=Ot(T,2);!X(S);){var b=O.add(S);0>=b.l(U)&&(C=C.add(T),O=b),S=Ot(S,1),T=Ot(T,1)}return D=At(U,C.j(D)),new _t(C,D)}for(C=I;0<=U.l(D);){for(T=Math.max(1,Math.floor(U.m()/D.m())),S=Math.ceil(Math.log(T)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),O=v(T),b=O.j(D);W(b)||0<b.l(U);)T-=S,O=v(T),b=O.j(D);X(O)&&(O=P),C=C.add(O),U=At(U,b)}return new _t(C,U)}s.A=function(U){return Ht(this,U).h},s.and=function(U){for(var D=Math.max(this.g.length,U.g.length),T=[],S=0;S<D;S++)T[S]=this.i(S)&U.i(S);return new d(T,this.h&U.h)},s.or=function(U){for(var D=Math.max(this.g.length,U.g.length),T=[],S=0;S<D;S++)T[S]=this.i(S)|U.i(S);return new d(T,this.h|U.h)},s.xor=function(U){for(var D=Math.max(this.g.length,U.g.length),T=[],S=0;S<D;S++)T[S]=this.i(S)^U.i(S);return new d(T,this.h^U.h)};function vt(U){for(var D=U.g.length+1,T=[],S=0;S<D;S++)T[S]=U.i(S)<<1|U.i(S-1)>>>31;return new d(T,U.h)}function Ot(U,D){var T=D>>5;D%=32;for(var S=U.g.length-T,C=[],O=0;O<S;O++)C[O]=0<D?U.i(O+T)>>>D|U.i(O+T+1)<<32-D:U.i(O+T);return new d(C,U.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,i_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=w,Tr=d}).apply(typeof Xp<"u"?Xp:typeof self<"u"?self:typeof window<"u"?window:{});var To=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var r_,Ul,a_,Co,If,s_,l_,u_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,g){return o==Array.prototype||o==Object.prototype||(o[m]=g.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof To=="object"&&To];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var g=a;o=o.split(".");for(var A=0;A<o.length-1;A++){var z=o[A];if(!(z in g))break t;g=g[z]}o=o[o.length-1],A=g[o],m=m(A),m!=A&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var g=0,A=!1,z={next:function(){if(!A&&g<o.length){var j=g++;return{value:m(j,o[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function w(o,m,g){return o.call.apply(o.bind,arguments)}function I(o,m,g){if(!o)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),o.apply(m,z)}}return function(){return o.apply(m,arguments)}}function P(o,m,g){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:I,P.apply(null,arguments)}function H(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var A=g.slice();return A.push.apply(A,arguments),o.apply(this,A)}}function X(o,m){function g(){}g.prototype=m.prototype,o.aa=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(A,z,j){for(var $=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)$[Mt-2]=arguments[Mt];return m.prototype[z].apply(A,$)}}function W(o){const m=o.length;if(0<m){const g=Array(m);for(let A=0;A<m;A++)g[A]=o[A];return g}return[]}function Z(o,m){for(let g=1;g<arguments.length;g++){const A=arguments[g];if(_(A)){const z=o.length||0,j=A.length||0;o.length=z+j;for(let $=0;$<j;$++)o[z+$]=A[$]}else o.push(A)}}class At{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ht(o){return/^[\s\xa0]*$/.test(o)}function _t(){var o=p.navigator;return o&&(o=o.userAgent)?o:""}function Ht(o){return Ht[" "](o),o}Ht[" "]=function(){};var vt=_t().indexOf("Gecko")!=-1&&!(_t().toLowerCase().indexOf("webkit")!=-1&&_t().indexOf("Edge")==-1)&&!(_t().indexOf("Trident")!=-1||_t().indexOf("MSIE")!=-1)&&_t().indexOf("Edge")==-1;function Ot(o,m,g){for(const A in o)m.call(g,o[A],A,o)}function U(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function D(o){const m={};for(const g in o)m[g]=o[g];return m}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(o,m){let g,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(g in A)o[g]=A[g];for(let j=0;j<T.length;j++)g=T[j],Object.prototype.hasOwnProperty.call(A,g)&&(o[g]=A[g])}}function C(o){var m=1;o=o.split(":");const g=[];for(;0<m&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function O(o){p.setTimeout(()=>{throw o},0)}function b(){var o=Dt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Qt{constructor(){this.h=this.g=null}add(m,g){const A=Jt.get();A.set(m,g),this.h?this.h.next=A:this.g=A,this.h=A}}var Jt=new At(()=>new J,o=>o.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let at,rt=!1,Dt=new Qt,V=()=>{const o=p.Promise.resolve(void 0);at=()=>{o.then(Y)}};var Y=()=>{for(var o;o=b();){try{o.h.call(o.g)}catch(g){O(g)}var m=Jt;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}rt=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return o}();function St(o,m){if(tt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,A=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(vt){t:{try{Ht(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Et[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&St.aa.h.call(this)}}X(St,tt);var Et={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function ie(o,m,g,A,z){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!A,this.ha=z,this.key=++Lt,this.da=this.fa=!1}function Gt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Fe(o){this.src=o,this.g={},this.h=0}Fe.prototype.add=function(o,m,g,A,z){var j=o.toString();o=this.g[j],o||(o=this.g[j]=[],this.h++);var $=mn(o,m,A,z);return-1<$?(m=o[$],g||(m.fa=!1)):(m=new ie(m,this.src,j,!!A,z),m.fa=g,o.push(m)),m};function ai(o,m){var g=m.type;if(g in o.g){var A=o.g[g],z=Array.prototype.indexOf.call(A,m,void 0),j;(j=0<=z)&&Array.prototype.splice.call(A,z,1),j&&(Gt(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function mn(o,m,g,A){for(var z=0;z<o.length;++z){var j=o[z];if(!j.da&&j.listener==m&&j.capture==!!g&&j.ha==A)return z}return-1}var xi="closure_lm_"+(1e6*Math.random()|0),zi={};function si(o,m,g,A,z){if(Array.isArray(m)){for(var j=0;j<m.length;j++)si(o,m[j],g,A,z);return null}return g=Wl(g),o&&o[he]?o.K(m,g,v(A)?!!A.capture:!1,z):ws(o,m,g,!1,A,z)}function ws(o,m,g,A,z,j){if(!m)throw Error("Invalid event type");var $=v(z)?!!z.capture:!!z,Mt=Ds(o);if(Mt||(o[xi]=Mt=new Fe(o)),g=Mt.add(m,g,A,$,j),g.proxy)return g;if(A=_a(),g.proxy=A,A.src=o,A.listener=g,o.addEventListener)et||(z=$),z===void 0&&(z=!1),o.addEventListener(m.toString(),A,z);else if(o.attachEvent)o.attachEvent(Ea(m.toString()),A);else if(o.addListener&&o.removeListener)o.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return g}function _a(){function o(g){return m.call(o.src,o.listener,g)}const m=mc;return o}function va(o,m,g,A,z){if(Array.isArray(m))for(var j=0;j<m.length;j++)va(o,m[j],g,A,z);else A=v(A)?!!A.capture:!!A,g=Wl(g),o&&o[he]?(o=o.i,m=String(m).toString(),m in o.g&&(j=o.g[m],g=mn(j,g,A,z),-1<g&&(Gt(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete o.g[m],o.h--)))):o&&(o=Ds(o))&&(m=o.g[m.toString()],o=-1,m&&(o=mn(m,g,A,z)),(g=-1<o?m[o]:null)&&Ir(g))}function Ir(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[he])ai(m.i,o);else{var g=o.type,A=o.proxy;m.removeEventListener?m.removeEventListener(g,A,o.capture):m.detachEvent?m.detachEvent(Ea(g),A):m.addListener&&m.removeListener&&m.removeListener(A),(g=Ds(m))?(ai(g,o),g.h==0&&(g.src=null,m[xi]=null)):Gt(o)}}}function Ea(o){return o in zi?zi[o]:zi[o]="on"+o}function mc(o,m){if(o.da)o=!0;else{m=new St(m,this);var g=o.listener,A=o.ha||o.src;o.fa&&Ir(o),o=g.call(A,m)}return o}function Ds(o){return o=o[xi],o instanceof Fe?o:null}var Je="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wl(o){return typeof o=="function"?o:(o[Je]||(o[Je]=function(m){return o.handleEvent(m)}),o[Je])}function pe(){ut.call(this),this.i=new Fe(this),this.M=this,this.F=null}X(pe,ut),pe.prototype[he]=!0,pe.prototype.removeEventListener=function(o,m,g,A){va(this,o,m,g,A)};function Re(o,m){var g,A=o.F;if(A)for(g=[];A;A=A.F)g.push(A);if(o=o.M,A=m.type||m,typeof m=="string")m=new tt(m,o);else if(m instanceof tt)m.target=m.target||o;else{var z=m;m=new tt(A,o),S(m,z)}if(z=!0,g)for(var j=g.length-1;0<=j;j--){var $=m.g=g[j];z=li($,A,!0,m)&&z}if($=m.g=o,z=li($,A,!0,m)&&z,z=li($,A,!1,m)&&z,g)for(j=0;j<g.length;j++)$=m.g=g[j],z=li($,A,!1,m)&&z}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var g=o.g[m],A=0;A<g.length;A++)Gt(g[A]);delete o.g[m],o.h--}}this.F=null},pe.prototype.K=function(o,m,g,A){return this.i.add(String(o),m,!1,g,A)},pe.prototype.L=function(o,m,g,A){return this.i.add(String(o),m,!0,g,A)};function li(o,m,g,A){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,j=0;j<m.length;++j){var $=m[j];if($&&!$.da&&$.capture==g){var Mt=$.listener,_e=$.ha||$.src;$.fa&&ai(o.i,$),z=Mt.call(_e,A)!==!1&&z}}return z&&!A.defaultPrevented}function tu(o,m,g){if(typeof o=="function")g&&(o=P(o,g));else if(o&&typeof o.handleEvent=="function")o=P(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(o,m||0)}function Cs(o){o.g=tu(()=>{o.g=null,o.i&&(o.i=!1,Cs(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class gc extends ut{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Cs(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ur(o){ut.call(this),this.h=o,this.g={}}X(Ur,ut);var Li=[];function je(o){Ot(o.g,function(m,g){this.g.hasOwnProperty(g)&&Ir(m)},o),o.g={}}Ur.prototype.N=function(){Ur.aa.N.call(this),je(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vs=p.JSON.stringify,Ln=p.JSON.parse,Ke=class{stringify(o){return p.JSON.stringify(o,void 0)}parse(o){return p.JSON.parse(o,void 0)}};function Ns(){}Ns.prototype.h=null;function eu(o){return o.h||(o.h=o.i())}function nu(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pi(){tt.call(this,"d")}X(Pi,tt);function On(){tt.call(this,"c")}X(On,tt);var gn={},Bi=null;function Ta(){return Bi=Bi||new pe}gn.La="serverreachability";function Os(o){tt.call(this,gn.La,o)}X(Os,tt);function ji(o){const m=Ta();Re(m,new Os(m))}gn.STAT_EVENT="statevent";function Aa(o,m){tt.call(this,gn.STAT_EVENT,o),this.stat=m}X(Aa,tt);function ue(o){const m=Ta();Re(m,new Aa(m,o))}gn.Ma="timingevent";function iu(o,m){tt.call(this,gn.Ma,o),this.size=m}X(iu,tt);function ki(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){o()},m)}function qi(){this.g=!0}qi.prototype.xa=function(){this.g=!1};function ru(o,m,g,A,z,j){o.info(function(){if(o.g)if(j)for(var $="",Mt=j.split("&"),_e=0;_e<Mt.length;_e++){var It=Mt[_e].split("=");if(1<It.length){var Ce=It[0];It=It[1];var ve=Ce.split("_");$=2<=ve.length&&ve[1]=="type"?$+(Ce+"="+It+"&"):$+(Ce+"=redacted&")}}else $=null;else $=j;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+m+`
`+g+`
`+$})}function au(o,m,g,A,z,j,$){o.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+m+`
`+g+`
`+j+" "+$})}function Hi(o,m,g,A){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+we(o,g)+(A?" "+A:"")})}function Bn(o,m){o.info(function(){return"TIMEOUT: "+m})}qi.prototype.info=function(){};function we(o,m){if(!o.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var A=g[o];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var j=z[0];if(j!="noop"&&j!="stop"&&j!="close")for(var $=1;$<z.length;$++)z[$]=""}}}}return Vs(g)}catch{return m}}var ye={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xr;function Sa(){}X(Sa,Ns),Sa.prototype.g=function(){return new XMLHttpRequest},Sa.prototype.i=function(){return{}},xr=new Sa;function jn(o,m,g,A){this.j=o,this.i=m,this.l=g,this.R=A||1,this.U=new Ur(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ms}function Ms(){this.i=null,this.g="",this.h=!1}var Gi={},zr={};function Mn(o,m,g){o.L=1,o.v=Br(re(m)),o.m=g,o.P=!0,oi(o,null)}function oi(o,m){o.F=Date.now(),Wt(o),o.A=re(o.v);var g=o.A,A=o.R;Array.isArray(A)||(A=[String(A)]),fi(g.i,"t",A),o.C=0,g=o.j.J,o.h=new Ms,o.g=vu(o.j,g?m:null,!o.m),0<o.O&&(o.M=new gc(P(o.Y,o,o.g),o.O)),m=o.U,g=o.g,A=o.ca;var z="readystatechange";Array.isArray(z)||(z&&(Li[0]=z.toString()),z=Li);for(var j=0;j<z.length;j++){var $=si(g,z[j],A||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=o.H?D(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),ji(),ru(o.i,o.u,o.A,o.l,o.R,o.m)}jn.prototype.ca=function(o){o=o.target;const m=this.M;m&&En(o)==3?m.j():this.Y(o)},jn.prototype.Y=function(o){try{if(o==this.g)t:{const ve=En(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||ve!=4||m==7||(m==8||0>=pi?ji(3):ji(2)),ba(this);var g=this.g.Z();this.X=g;e:if(Qi(this)){var A=hu(this.g);o="";var z=A.length,j=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),rn(this);var $="";break e}this.h.i=new p.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,o+=this.h.i.decode(A[m],{stream:!(j&&m==z-1)});A.length=0,this.h.g+=o,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=g==200,au(this.i,this.u,this.A,this.l,this.R,ve,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,_e=this.g;if((Mt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ht(Mt)){var It=Mt;break e}}It=null}if(g=It)Hi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,an(this,g);else{this.o=!1,this.s=3,ue(12),We(this),rn(this);break t}}if(this.P){g=!0;let Ie;for(;!this.J&&this.C<$.length;)if(Ie=Fi(this,$),Ie==zr){ve==4&&(this.s=4,ue(14),g=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==Gi){this.s=4,ue(15),Hi(this.i,this.l,$,"[Invalid Chunk]"),g=!1;break}else Hi(this.i,this.l,Ie,null),an(this,Ie);if(Qi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||$.length!=0||this.h.h||(this.s=1,ue(16),g=!1),this.o=this.o&&g,!g)Hi(this.i,this.l,$,"[Invalid Chunked Response]"),We(this),rn(this);else if(0<$.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Fr(Ce),Ce.M=!0,ue(11))}}else Hi(this.i,this.l,$,null),an(this,$);ve==4&&We(this),this.o&&!this.J&&(ve==4?pu(this.j,this):(this.o=!1,Wt(this)))}else Tc(this.g),g==400&&0<$.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),We(this),rn(this)}}}catch{}finally{}};function Qi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Fi(o,m){var g=o.C,A=m.indexOf(`
`,g);return A==-1?zr:(g=Number(m.substring(g,A)),isNaN(g)?Gi:(A+=1,A+g>m.length?zr:(m=m.slice(A,A+g),o.C=A+g,m)))}jn.prototype.cancel=function(){this.J=!0,We(this)};function Wt(o){o.S=Date.now()+o.I,Is(o,o.I)}function Is(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ki(P(o.ba,o),m)}function ba(o){o.B&&(p.clearTimeout(o.B),o.B=null)}jn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Bn(this.i,this.A),this.L!=2&&(ji(),ue(17)),We(this),this.s=2,rn(this)):Is(this,this.S-o)};function rn(o){o.j.G==0||o.J||pu(o.j,o)}function We(o){ba(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,je(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function an(o,m){try{var g=o.j;if(g.G!=0&&(g.g==o||Ki(g.h,o))){if(!o.K&&Ki(g.h,o)&&g.G==3){try{var A=g.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)Ua(g),Ma(g);else break t;Gs(g),ue(18)}}else g.za=z[1],0<g.za-g.T&&37500>z[2]&&g.F&&g.v==0&&!g.C&&(g.C=ki(P(g.Za,g),6e3));if(1>=su(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else gi(g,11)}else if((o.K||g.g==o)&&Ua(g),!ht(m))for(z=g.Da.g.parse(m),m=0;m<z.length;m++){let It=z[m];if(g.T=It[0],It=It[1],g.G==2)if(It[0]=="c"){g.K=It[1],g.ia=It[2];const Ce=It[3];Ce!=null&&(g.la=Ce,g.j.info("VER="+g.la));const ve=It[4];ve!=null&&(g.Aa=ve,g.j.info("SVER="+g.Aa));const pi=It[5];pi!=null&&typeof pi=="number"&&0<pi&&(A=1.5*pi,g.L=A,g.j.info("backChannelRequestTimeoutMs_="+A)),A=g;const Ie=o.g;if(Ie){const Kn=Ie.g?Ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var j=A.h;j.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Yi(j,j.h),j.h=null))}if(A.D){const Fs=Ie.g?Ie.g.getResponseHeader("X-HTTP-Session-Id"):null;Fs&&(A.ya=Fs,Pt(A.I,A.D,Fs))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),A=g;var $=o;if(A.qa=_u(A,A.J?A.ia:null,A.W),$.K){pn(A.h,$);var Mt=$,_e=A.L;_e&&(Mt.I=_e),Mt.B&&(ba(Mt),Wt(Mt)),A.g=$}else mu(A);0<g.i.length&&Ia(g)}else It[0]!="stop"&&It[0]!="close"||gi(g,7);else g.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?gi(g,7):qs(g):It[0]!="noop"&&g.l&&g.l.ta(It),g.v=0)}}ji(4)}catch{}}var pc=class{constructor(o,m){this.g=o,this.map=m}};function Us(o){this.l=o||10,p.PerformanceNavigationTiming?(o=p.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xs(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function su(o){return o.h?1:o.g?o.g.size:0}function Ki(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Yi(o,m){o.g?o.g.add(m):o.h=m}function pn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Us.prototype.cancel=function(){if(this.i=Ye(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ye(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.D);return m}return W(o.i)}function lu(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],g=o.length,A=0;A<g;A++)m.push(o[A]);return m}m=[],g=0;for(A in o)m[g++]=o[A];return m}function yc(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var g=0;g<o;g++)m.push(g);return m}m=[],g=0;for(const A in o)m[g++]=A;return m}}}function Lr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var g=yc(o),A=lu(o),z=A.length,j=0;j<z;j++)m.call(void 0,A[j],g&&g[j],o)}var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(o,m){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var A=o[g].indexOf("="),z=null;if(0<=A){var j=o[g].substring(0,A);z=o[g].substring(A+1)}else j=o[g];m(j,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ci(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof ci){this.h=o.h,Xi(this,o.j),this.o=o.o,this.g=o.g,Pr(this,o.s),this.l=o.l;var m=o.i,g=new kn;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),wa(this,g),this.m=o.m}else o&&(m=String(o).match(zs))?(this.h=!1,Xi(this,m[1]||"",!0),this.o=Zi(m[2]||""),this.g=Zi(m[3]||"",!0),Pr(this,m[4]),this.l=Zi(m[5]||"",!0),wa(this,m[6]||"",!0),this.m=Zi(m[7]||"")):(this.h=!1,this.i=new kn(null,this.h))}ci.prototype.toString=function(){var o=[],m=this.j;m&&o.push(yn(m,Ls,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(yn(m,Ls,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(yn(g,g.charAt(0)=="/"?Ps:uu,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",yn(g,Ec)),o.join("")};function re(o){return new ci(o)}function Xi(o,m,g){o.j=g?Zi(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Pr(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function wa(o,m,g){m instanceof kn?(o.i=m,Bs(o.i,o.h)):(g||(m=yn(m,vc)),o.i=new kn(m,o.h))}function Pt(o,m,g){o.i.set(m,g)}function Br(o){return Pt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Zi(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function yn(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,_c),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function _c(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ls=/[#\/\?@]/g,uu=/[#\?:]/g,Ps=/[#\?]/g,vc=/[#\?@]/g,Ec=/#/g;function kn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function _n(o){o.g||(o.g=new Map,o.h=0,o.i&&Ra(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=kn.prototype,s.add=function(o,m){_n(this),this.i=null,o=di(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function Da(o,m){_n(o),m=di(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function hi(o,m){return _n(o),m=di(o,m),o.g.has(m)}s.forEach=function(o,m){_n(this),this.g.forEach(function(g,A){g.forEach(function(z){o.call(m,z,A,this)},this)},this)},s.na=function(){_n(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let A=0;A<m.length;A++){const z=o[A];for(let j=0;j<z.length;j++)g.push(m[A])}return g},s.V=function(o){_n(this);let m=[];if(typeof o=="string")hi(this,o)&&(m=m.concat(this.g.get(di(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)m=m.concat(o[g])}return m},s.set=function(o,m){return _n(this),this.i=null,o=di(this,o),hi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function fi(o,m,g){Da(o,m),0<g.length&&(o.i=null,o.g.set(di(o,m),W(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var A=m[g];const j=encodeURIComponent(String(A)),$=this.V(A);for(A=0;A<$.length;A++){var z=j;$[A]!==""&&(z+="="+encodeURIComponent(String($[A]))),o.push(z)}}return this.i=o.join("&")};function di(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Bs(o,m){m&&!o.j&&(_n(o),o.i=null,o.g.forEach(function(g,A){var z=A.toLowerCase();A!=z&&(Da(this,A),fi(this,z,g))},o)),o.j=m}function ou(o,m){const g=new qi;if(p.Image){const A=new Image;A.onload=H(vn,g,"TestLoadImage: loaded",!0,m,A),A.onerror=H(vn,g,"TestLoadImage: error",!1,m,A),A.onabort=H(vn,g,"TestLoadImage: abort",!1,m,A),A.ontimeout=H(vn,g,"TestLoadImage: timeout",!1,m,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=o}else m(!1)}function jr(o,m){const g=new qi,A=new AbortController,z=setTimeout(()=>{A.abort(),vn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:A.signal}).then(j=>{clearTimeout(z),j.ok?vn(g,"TestPingServer: ok",!0,m):vn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),vn(g,"TestPingServer: error",!1,m)})}function vn(o,m,g,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(g)}catch{}}function kr(){this.g=new Ke}function qn(o,m,g){const A=g||"";try{Lr(o,function(z,j){let $=z;v(z)&&($=Vs(z)),m.push(A+j+"="+encodeURIComponent($))})}catch(z){throw m.push(A+"type="+encodeURIComponent("_badmap")),z}}function $i(o){this.l=o.Ub||null,this.j=o.eb||!1}X($i,Ns),$i.prototype.g=function(){return new mi(this.l,this.j)},$i.prototype.i=function(o){return function(){return o}}({});function mi(o,m){pe.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(mi,pe),s=mi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Gn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;js(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function js(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Hn(this):Gn(this),this.readyState==3&&js(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,Hn(this))},s.Qa=function(o){this.g&&(this.response=o,Hn(this))},s.ga=function(){this.g&&Hn(this)};function Hn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Gn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function Gn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function ks(o){let m="";return Ot(o,function(g,A){m+=A,m+=":",m+=g,m+=`\r
`}),m}function De(o,m,g){t:{for(A in g){var A=!1;break t}A=!0}A||(g=ks(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Pt(o,m,g))}function kt(o){pe.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(kt,pe);var Ca=/^https?$/i,qr=["POST","PUT"];s=kt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,g,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xr.g(),this.v=this.o?eu(this.o):eu(xr),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(j){cu(this,j);return}if(o=g||"",g=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)g.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())g.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),z=p.FormData&&o instanceof p.FormData,!(0<=Array.prototype.indexOf.call(qr,m,void 0))||A||z||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,$]of g)this.g.setRequestHeader(j,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hr(this),this.u=!0,this.g.send(o),this.u=!1}catch(j){cu(this,j)}};function cu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Va(o),Qn(o)}function Va(o){o.A||(o.A=!0,Re(o,"complete"),Re(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Re(this,"complete"),Re(this,"abort"),Qn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},s.bb=function(){Na(this)};function Na(o){if(o.h&&typeof d<"u"&&(!o.v[1]||En(o)!=4||o.Z()!=2)){if(o.u&&En(o)==4)tu(o.Ea,0,o);else if(Re(o,"readystatechange"),En(o)==4){o.h=!1;try{const $=o.Z();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var A;if(A=$===0){var z=String(o.D).match(zs)[1]||null;!z&&p.self&&p.self.location&&(z=p.self.location.protocol.slice(0,-1)),A=!Ca.test(z?z.toLowerCase():"")}g=A}if(g)Re(o,"complete"),Re(o,"success");else{o.m=6;try{var j=2<En(o)?o.g.statusText:""}catch{j=""}o.l=j+" ["+o.Z()+"]",Va(o)}}finally{Qn(o)}}}}function Qn(o,m){if(o.g){Hr(o);const g=o.g,A=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Re(o,"ready");try{g.onreadystatechange=A}catch{}}}function Hr(o){o.I&&(p.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function En(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Ln(m)}};function hu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Tc(o){const m={};o=(o.g&&2<=En(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<o.length;A++){if(ht(o[A]))continue;var g=C(o[A]);const z=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=m[z]||[];m[z]=j,j.push(g)}U(m,function(A){return A.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function Oa(o){this.Aa=0,this.i=[],this.j=new qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,o),this.cb=Gr("retryDelaySeedMs",1e4,o),this.Wa=Gr("forwardChannelMaxRetries",2,o),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Us(o&&o.concurrentRequestLimit),this.Da=new kr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Oa.prototype,s.la=8,s.G=1,s.connect=function(o,m,g,A){ue(0),this.W=o,this.H=m||{},g&&A!==void 0&&(this.H.OSID=g,this.H.OAID=A),this.F=this.X,this.I=_u(this,null,this.W),Ia(this)};function qs(o){if(fu(o),o.G==3){var m=o.U++,g=re(o.I);if(Pt(g,"SID",o.K),Pt(g,"RID",m),Pt(g,"TYPE","terminate"),Qr(o,g),m=new jn(o,o.j,m),m.L=2,m.v=Br(re(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=vu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Wt(m)}yu(o)}function Ma(o){o.g&&(Fr(o),o.g.cancel(),o.g=null)}function fu(o){Ma(o),o.u&&(p.clearTimeout(o.u),o.u=null),Ua(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&p.clearTimeout(o.s),o.s=null)}function Ia(o){if(!xs(o.h)&&!o.s){o.s=!0;var m=o.Ga;at||V(),rt||(at(),rt=!0),Dt.add(m,o),o.B=0}}function Ac(o,m){return su(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ki(P(o.Ga,o,m),Qs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const z=new jn(this,this.j,o);let j=this.o;if(this.S&&(j?(j=D(j),S(j,this.S)):j=this.S),this.m!==null||this.O||(z.H=j,j=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var A=this.i[g];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=du(this,z,m),g=re(this.I),Pt(g,"RID",o),Pt(g,"CVER",22),this.D&&Pt(g,"X-HTTP-Session-Id",this.D),Qr(this,g),j&&(this.O?m="headers="+encodeURIComponent(String(ks(j)))+"&"+m:this.m&&De(g,this.m,j)),Yi(this.h,z),this.Ua&&Pt(g,"TYPE","init"),this.P?(Pt(g,"$req",m),Pt(g,"SID","null"),z.T=!0,Mn(z,g,null)):Mn(z,g,m),this.G=2}}else this.G==3&&(o?Hs(this,o):this.i.length==0||xs(this.h)||Hs(this))};function Hs(o,m){var g;m?g=m.l:g=o.U++;const A=re(o.I);Pt(A,"SID",o.K),Pt(A,"RID",g),Pt(A,"AID",o.T),Qr(o,A),o.m&&o.o&&De(A,o.m,o.o),g=new jn(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),m&&(o.i=m.D.concat(o.i)),m=du(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Yi(o.h,g),Mn(g,A,m)}function Qr(o,m){o.H&&Ot(o.H,function(g,A){Pt(m,A,g)}),o.l&&Lr({},function(g,A){Pt(m,A,g)})}function du(o,m,g){g=Math.min(o.i.length,g);var A=o.l?P(o.l.Na,o.l,o):null;t:{var z=o.i;let j=-1;for(;;){const $=["count="+g];j==-1?0<g?(j=z[0].g,$.push("ofs="+j)):j=0:$.push("ofs="+j);let Mt=!0;for(let _e=0;_e<g;_e++){let It=z[_e].g;const Ce=z[_e].map;if(It-=j,0>It)j=Math.max(0,z[_e].g-100),Mt=!1;else try{qn(Ce,$,"req"+It+"_")}catch{A&&A(Ce)}}if(Mt){A=$.join("&");break t}}}return o=o.i.splice(0,g),m.D=o,A}function mu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;at||V(),rt||(at(),rt=!0),Dt.add(m,o),o.v=0}}function Gs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ki(P(o.Fa,o),Qs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ki(P(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),Ma(this),gu(this))};function Fr(o){o.A!=null&&(p.clearTimeout(o.A),o.A=null)}function gu(o){o.g=new jn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=re(o.qa);Pt(m,"RID","rpc"),Pt(m,"SID",o.K),Pt(m,"AID",o.T),Pt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Pt(m,"TO",o.ja),Pt(m,"TYPE","xmlhttp"),Qr(o,m),o.m&&o.o&&De(m,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Br(re(m)),g.m=null,g.P=!0,oi(g,o)}s.Za=function(){this.C!=null&&(this.C=null,Ma(this),Gs(this),ue(19))};function Ua(o){o.C!=null&&(p.clearTimeout(o.C),o.C=null)}function pu(o,m){var g=null;if(o.g==m){Ua(o),Fr(o),o.g=null;var A=2}else if(Ki(o.h,m))g=m.D,pn(o.h,m),A=1;else return;if(o.G!=0){if(m.o)if(A==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var z=o.B;A=Ta(),Re(A,new iu(A,g)),Ia(o)}else mu(o);else if(z=m.s,z==3||z==0&&0<m.X||!(A==1&&Ac(o,m)||A==2&&Gs(o)))switch(g&&0<g.length&&(m=o.h,m.i=m.i.concat(g)),z){case 1:gi(o,5);break;case 4:gi(o,10);break;case 3:gi(o,6);break;default:gi(o,2)}}}function Qs(o,m){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*m}function gi(o,m){if(o.j.info("Error code "+m),m==2){var g=P(o.fb,o),A=o.Xa;const z=!A;A=new ci(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Xi(A,"https"),Br(A),z?ou(A.toString(),g):jr(A.toString(),g)}else ue(2);o.G=0,o.l&&o.l.sa(m),yu(o),fu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function yu(o){if(o.G=0,o.ka=[],o.l){const m=Ye(o.h);(m.length!=0||o.i.length!=0)&&(Z(o.ka,m),Z(o.ka,o.i),o.h.i.length=0,W(o.i),o.i.length=0),o.l.ra()}}function _u(o,m,g){var A=g instanceof ci?re(g):new ci(g);if(A.g!="")m&&(A.g=m+"."+A.g),Pr(A,A.s);else{var z=p.location;A=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var j=new ci(null);A&&Xi(j,A),m&&(j.g=m),z&&Pr(j,z),g&&(j.l=g),A=j}return g=o.D,m=o.ya,g&&m&&Pt(A,g,m),Pt(A,"VER",o.la),Qr(o,A),A}function vu(o,m,g){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new kt(new $i({eb:g})):new kt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function xa(){}xa.prototype.g=function(o,m){return new Xe(o,m)};function Xe(o,m){pe.call(this),this.g=new Oa(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!ht(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ht(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Fn(this)}X(Xe,pe),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){qs(this.g)},Xe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=Vs(o),o=g);m.i.push(new pc(m.Ya++,o)),m.G==3&&Ia(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,qs(this.g),delete this.g,Xe.aa.N.call(this)};function Tu(o){Pi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}X(Tu,Pi);function Au(){On.call(this),this.status=1}X(Au,On);function Fn(o){this.g=o}X(Fn,Eu),Fn.prototype.ua=function(){Re(this.g,"a")},Fn.prototype.ta=function(o){Re(this.g,new Tu(o))},Fn.prototype.sa=function(o){Re(this.g,new Au)},Fn.prototype.ra=function(){Re(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,u_=function(){return new xa},l_=function(){return Ta()},s_=gn,If={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,Co=ye,ui.COMPLETE="complete",a_=ui,nu.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Ul=nu,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,r_=kt}).apply(typeof To<"u"?To:typeof self<"u"?self:typeof window<"u"?window:{});const Zp="@firebase/firestore",$p="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let As="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new $y("@firebase/firestore");function us(){return da.logLevel}function nt(s,...e){if(da.logLevel<=zt.DEBUG){const i=e.map(Jf);da.debug(`Firestore (${As}): ${s}`,...i)}}function Ii(s,...e){if(da.logLevel<=zt.ERROR){const i=e.map(Jf);da.error(`Firestore (${As}): ${s}`,...i)}}function ms(s,...e){if(da.logLevel<=zt.WARN){const i=e.map(Jf);da.warn(`Firestore (${As}): ${s}`,...i)}}function Jf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(s="Unexpected state"){const e=`FIRESTORE (${As}) INTERNAL ASSERTION FAILED: `+s;throw Ii(e),new Error(e)}function qt(s,e){s||mt()}function yt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Ts{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class ZT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class $T{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ar,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},p=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ar)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string"),new o_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new Ge(e)}}class JT{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class WT{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new JT(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,MT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0);const a=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Jp(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string"),this.R=i.token,new Jp(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=eA(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function Nt(s,e){return s<e?-1:s>e?1:0}function gs(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=-62135596800,ty=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*ty);return new Se(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ct(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Wp)throw new ct(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ty}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Wp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(e){return new gt(e)}static min(){return new gt(new Se(0,0))}static max(){return new gt(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="__name__";class Wn{constructor(e,i,a){i===void 0?i=0:i>e.length&&mt(),a===void 0?a=e.length-i:a>e.length-i&&mt(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=Wn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Math.sign(e.length-i.length)}static compareSegments(e,i){const a=Wn.isNumericId(e),u=Wn.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}}class $t extends Wn{construct(e,i,a){return new $t(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ct(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new $t(i)}static emptyPath(){return new $t([])}}const nA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends Wn{construct(e,i,a){return new Pe(e,i,a)}static isValidIdentifier(e){return nA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ey}static keyField(){return new Pe([ey])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new ct(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const p=e[u];if(p==="\\"){if(u+1===e.length)throw new ct(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else p==="`"?(d=!d,u++):p!=="."||d?(a+=p,u++):(h(),u++)}if(h(),d)throw new ct(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft($t.fromString(e))}static fromName(e){return new ft($t.fromString(e).popFirst(5))}static empty(){return new ft($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return $t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new $t(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=-1;function iA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=gt.fromTimestamp(a===1e9?new Se(i+1,0):new Se(i,a));return new Rr(u,ft.empty(),e)}function rA(s){return new Rr(s.readTime,s.key,Hl)}class Rr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Rr(gt.min(),ft.empty(),Hl)}static max(){return new Rr(gt.max(),ft.empty(),Hl)}}function aA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:Nt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ss(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==sA)throw s;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Q((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.reject(i)}static resolve(e){return new Q((i,a)=>{i(e)})}static reject(e){return new Q((i,a)=>{a(e)})}static waitFor(e){return new Q((i,a)=>{let u=0,h=0,d=!1;e.forEach(p=>{++u,p.next(()=>{++h,d&&h===u&&i()},_=>a(_))}),d=!0,h===u&&i()})}static or(e){let i=Q.resolve(!1);for(const a of e)i=i.next(u=>u?Q.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new Q((a,u)=>{const h=e.length,d=new Array(h);let p=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(w=>{d[v]=w,++p,p===h&&a(d)},w=>u(w))}})}static doWhile(e,i){return new Q((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function uA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Zo.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf=-1;function $o(s){return s==null}function Po(s){return s===0&&1/s==-1/0}function oA(s){return typeof s=="number"&&Number.isInteger(s)&&!Po(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="";function cA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=ny(e)),e=hA(s.get(i),e);return ny(e)}function hA(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case h_:i+="";break;default:i+=h}}return i}function ny(s){return s+h_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Or(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function f_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||Le.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ao(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ao(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ao(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ao(this.root,e,this.comparator,!0)}}class Ao{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??Le.RED,this.left=u??Le.EMPTY,this.right=h??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new Le(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Le.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(e,i,a,u,h){return this}insert(e,i,a){return new Le(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ry(this.data.getIterator())}getIteratorFrom(e){return new ry(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class ry{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new fn([])}unionWith(e){let i=new be(Pe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return gs(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new d_("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const fA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(s){if(qt(!!s),typeof s=="string"){let e=0;const i=fA.exec(s);if(qt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ce(s.seconds),nanos:ce(s.nanos)}}function ce(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Dr(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="server_timestamp",g_="__type__",p_="__previous_value__",y_="__local_write_time__";function td(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[g_])===null||i===void 0?void 0:i.stringValue)===m_}function Jo(s){const e=s.mapValue.fields[p_];return td(e)?Jo(e):e}function Gl(s){const e=wr(s.mapValue.fields[y_].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,i,a,u,h,d,p,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v}}const Bo="(default)";class Ql{constructor(e,i){this.projectId=e,this.database=i||Bo}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===Bo}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="__type__",mA="__max__",So={mapValue:{}},v_="__vector__",jo="value";function Cr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?td(s)?4:pA(s)?9007199254740991:gA(s)?10:11:mt()}function ii(s,e){if(s===e)return!0;const i=Cr(s);if(i!==Cr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Gl(s).isEqual(Gl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=wr(u.timestampValue),p=wr(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return Dr(u.bytesValue).isEqual(Dr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ce(u.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(u.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ce(u.integerValue)===ce(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ce(u.doubleValue),p=ce(h.doubleValue);return d===p?Po(d)===Po(p):isNaN(d)&&isNaN(p)}return!1}(s,e);case 9:return gs(s.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},p=h.mapValue.fields||{};if(iy(d)!==iy(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!ii(d[_],p[_])))return!1;return!0}(s,e);default:return mt()}}function Fl(s,e){return(s.values||[]).find(i=>ii(i,e))!==void 0}function ps(s,e){if(s===e)return 0;const i=Cr(s),a=Cr(e);if(i!==a)return Nt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const p=ce(h.integerValue||h.doubleValue),_=ce(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1}(s,e);case 3:return ay(s.timestampValue,e.timestampValue);case 4:return ay(Gl(s),Gl(e));case 5:return Nt(s.stringValue,e.stringValue);case 6:return function(h,d){const p=Dr(h),_=Dr(d);return p.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const w=Nt(p[v],_[v]);if(w!==0)return w}return Nt(p.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const p=Nt(ce(h.latitude),ce(d.latitude));return p!==0?p:Nt(ce(h.longitude),ce(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return sy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var p,_,v,w;const I=h.fields||{},P=d.fields||{},H=(p=I[jo])===null||p===void 0?void 0:p.arrayValue,X=(_=P[jo])===null||_===void 0?void 0:_.arrayValue,W=Nt(((v=H==null?void 0:H.values)===null||v===void 0?void 0:v.length)||0,((w=X==null?void 0:X.values)===null||w===void 0?void 0:w.length)||0);return W!==0?W:sy(H,X)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===So.mapValue&&d===So.mapValue)return 0;if(h===So.mapValue)return 1;if(d===So.mapValue)return-1;const p=h.fields||{},_=Object.keys(p),v=d.fields||{},w=Object.keys(v);_.sort(),w.sort();for(let I=0;I<_.length&&I<w.length;++I){const P=Nt(_[I],w[I]);if(P!==0)return P;const H=ps(p[_[I]],v[w[I]]);if(H!==0)return H}return Nt(_.length,w.length)}(s.mapValue,e.mapValue);default:throw mt()}}function ay(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Nt(s,e);const i=wr(s),a=wr(e),u=Nt(i.seconds,a.seconds);return u!==0?u:Nt(i.nanos,a.nanos)}function sy(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=ps(i[u],a[u]);if(h)return h}return Nt(i.length,a.length)}function ys(s){return Uf(s)}function Uf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=wr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Dr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ft.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Uf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Uf(i.fields[d])}`;return u+"}"}(s.mapValue):mt()}function Vo(s){switch(Cr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jo(s);return e?16+Vo(e):16;case 5:return 2*s.stringValue.length;case 6:return Dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+Vo(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return Or(a.fields,(h,d)=>{u+=h.length+Vo(d)}),u}(s.mapValue);default:throw mt()}}function xf(s){return!!s&&"integerValue"in s}function ed(s){return!!s&&"arrayValue"in s}function ly(s){return!!s&&"nullValue"in s}function uy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function No(s){return!!s&&"mapValue"in s}function gA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[__])===null||i===void 0?void 0:i.stringValue)===v_}function Ll(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Or(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Ll(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ll(s.arrayValue.values[i]);return e}return Object.assign({},s)}function pA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===mA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!No(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(i)}setAll(e){let i=Pe.emptyPath(),a={},u=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=p.popLast()}d?a[p.lastSegment()]=Ll(d):u.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());No(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];No(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){Or(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new nn(Ll(this.value))}}function E_(s){const e=[];return Or(s.fields,(i,a)=>{const u=new Pe([i]);if(No(a)){const h=E_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,a,u,h,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Qe(e,0,gt.min(),gt.min(),gt.min(),nn.empty(),0)}static newFoundDocument(e,i,a,u){return new Qe(e,1,i,gt.min(),a,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,gt.min(),gt.min(),nn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,gt.min(),gt.min(),nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,i){this.position=e,this.inclusive=i}}function oy(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=ps(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function cy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ii(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,i="asc"){this.field=e,this.dir=i}}function yA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{}class Ae extends T_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new vA(e,i,a):i==="array-contains"?new AA(e,a):i==="in"?new SA(e,a):i==="not-in"?new bA(e,a):i==="array-contains-any"?new RA(e,a):new Ae(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new EA(e,a):new TA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ps(i,this.value)):i!==null&&Cr(this.value)===Cr(i)&&this.matchesComparison(ps(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends T_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ri(e,i)}matches(e){return A_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function A_(s){return s.op==="and"}function S_(s){return _A(s)&&A_(s)}function _A(s){for(const e of s.filters)if(e instanceof ri)return!1;return!0}function zf(s){if(s instanceof Ae)return s.field.canonicalString()+s.op.toString()+ys(s.value);if(S_(s))return s.filters.map(e=>zf(e)).join(",");{const e=s.filters.map(i=>zf(i)).join(",");return`${s.op}(${e})`}}function b_(s,e){return s instanceof Ae?function(a,u){return u instanceof Ae&&a.op===u.op&&a.field.isEqual(u.field)&&ii(a.value,u.value)}(s,e):s instanceof ri?function(a,u){return u instanceof ri&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,p)=>h&&b_(d,u.filters[p]),!0):!1}(s,e):void mt()}function R_(s){return s instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${ys(i.value)}`}(s):s instanceof ri?function(i){return i.op.toString()+" {"+i.getFilters().map(R_).join(" ,")+"}"}(s):"Filter"}class vA extends Ae{constructor(e,i,a){super(e,i,a),this.key=ft.fromName(a.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class EA extends Ae{constructor(e,i){super(e,"in",i),this.keys=w_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class TA extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=w_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function w_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ft.fromName(a.referenceValue))}class AA extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return ed(i)&&Fl(i.arrayValue,this.value)}}class SA extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Fl(this.value.arrayValue,i)}}class bA extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Fl(this.value.arrayValue,i)}}class RA extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!ed(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Fl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,i=null,a=[],u=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=p,this.le=null}}function hy(s,e=null,i=[],a=[],u=null,h=null,d=null){return new wA(s,e,i,a,u,h,d)}function nd(s){const e=yt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>zf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),$o(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ys(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ys(a)).join(",")),e.le=i}return e.le}function id(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!yA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!b_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!cy(s.startAt,e.startAt)&&cy(s.endAt,e.endAt)}function Lf(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,i=null,a=[],u=[],h=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function DA(s,e,i,a,u,h,d,p){return new Wo(s,e,i,a,u,h,d,p)}function D_(s){return new Wo(s)}function fy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function CA(s){return s.collectionGroup!==null}function Pl(s){const e=yt(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new be(Pe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(p=p.add(v.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new qo(h,a))}),i.has(Pe.keyField().canonicalString())||e.he.push(new qo(Pe.keyField(),a))}return e.he}function ti(s){const e=yt(s);return e.Pe||(e.Pe=VA(e,Pl(s))),e.Pe}function VA(s,e){if(s.limitType==="F")return hy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new qo(u.field,h)});const i=s.endAt?new ko(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ko(s.startAt.position,s.startAt.inclusive):null;return hy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Pf(s,e,i){return new Wo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function tc(s,e){return id(ti(s),ti(e))&&s.limitType===e.limitType}function C_(s){return`${nd(ti(s))}|lt:${s.limitType}`}function os(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>R_(u)).join(", ")}]`),$o(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>ys(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>ys(u)).join(",")),`Target(${a})`}(ti(s))}; limitType=${s.limitType})`}function ec(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ft.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of Pl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,p,_){const v=oy(d,p,_);return d.inclusive?v<=0:v<0}(a.startAt,Pl(a),u)||a.endAt&&!function(d,p,_){const v=oy(d,p,_);return d.inclusive?v>=0:v>0}(a.endAt,Pl(a),u))}(s,e)}function NA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function V_(s){return(e,i)=>{let a=!1;for(const u of Pl(s)){const h=OA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function OA(s,e,i){const a=s.field.isKeyField()?ft.comparator(e.key,i.key):function(h,d,p){const _=d.data.field(h),v=p.data.field(h);return _!==null&&v!==null?ps(_,v):mt()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return mt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Or(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return f_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=new ne(ft.comparator);function Ui(){return MA}const N_=new ne(ft.comparator);function xl(...s){let e=N_;for(const i of s)e=e.insert(i.key,i);return e}function O_(s){let e=N_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function fa(){return Bl()}function M_(){return Bl()}function Bl(){return new pa(s=>s.toString(),(s,e)=>s.isEqual(e))}const IA=new ne(ft.comparator),UA=new be(ft.comparator);function Ct(...s){let e=UA;for(const i of s)e=e.add(i);return e}const xA=new be(Nt);function zA(){return xA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Po(e)?"-0":e}}function I_(s){return{integerValue:""+s}}function LA(s,e){return oA(e)?I_(e):rd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this._=void 0}}function PA(s,e,i){return s instanceof Ho?function(u,h){const d={fields:{[g_]:{stringValue:m_},[y_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&td(h)&&(h=Jo(h)),h&&(d.fields[p_]=h),{mapValue:d}}(i,e):s instanceof Kl?x_(s,e):s instanceof Yl?z_(s,e):function(u,h){const d=U_(u,h),p=dy(d)+dy(u.Ie);return xf(d)&&xf(u.Ie)?I_(p):rd(u.serializer,p)}(s,e)}function BA(s,e,i){return s instanceof Kl?x_(s,e):s instanceof Yl?z_(s,e):i}function U_(s,e){return s instanceof Go?function(a){return xf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Ho extends nc{}class Kl extends nc{constructor(e){super(),this.elements=e}}function x_(s,e){const i=L_(e);for(const a of s.elements)i.some(u=>ii(u,a))||i.push(a);return{arrayValue:{values:i}}}class Yl extends nc{constructor(e){super(),this.elements=e}}function z_(s,e){let i=L_(e);for(const a of s.elements)i=i.filter(u=>!ii(u,a));return{arrayValue:{values:i}}}class Go extends nc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function dy(s){return ce(s.integerValue||s.doubleValue)}function L_(s){return ed(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function jA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Kl&&u instanceof Kl||a instanceof Yl&&u instanceof Yl?gs(a.elements,u.elements,ii):a instanceof Go&&u instanceof Go?ii(a.Ie,u.Ie):a instanceof Ho&&u instanceof Ho}(s.transform,e.transform)}class kA{constructor(e,i){this.version=e,this.transformResults=i}}class ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ic{}function P_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new j_(s.key,ei.none()):new Xl(s.key,s.data,ei.none());{const i=s.data,a=nn.empty();let u=new be(Pe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new Mr(s.key,a,new fn(u.toArray()),ei.none())}}function qA(s,e,i){s instanceof Xl?function(u,h,d){const p=u.value.clone(),_=gy(u.fieldTransforms,h,d.transformResults);p.setAll(_),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(s,e,i):s instanceof Mr?function(u,h,d){if(!Oo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const p=gy(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(B_(u)),_.setAll(p),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function jl(s,e,i,a){return s instanceof Xl?function(h,d,p,_){if(!Oo(h.precondition,d))return p;const v=h.value.clone(),w=py(h.fieldTransforms,_,d);return v.setAll(w),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof Mr?function(h,d,p,_){if(!Oo(h.precondition,d))return p;const v=py(h.fieldTransforms,_,d),w=d.data;return w.setAll(B_(h)),w.setAll(v),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(I=>I.field))}(s,e,i,a):function(h,d,p){return Oo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(s,e,i)}function HA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=U_(a.transform,u||null);h!=null&&(i===null&&(i=nn.empty()),i.set(a.field,h))}return i||null}function my(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&gs(a,u,(h,d)=>jA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Xl extends ic{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Mr extends ic{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function B_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function gy(s,e,i){const a=new Map;qt(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,p=e.data.field(h.field);a.set(h.field,BA(d,p,i[u]))}return a}function py(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,PA(h,d,e))}return a}class j_ extends ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GA extends ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&qA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=jl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=jl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=M_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(u.key)?null:p;const _=P_(d,p);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(gt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ct())}isEqual(e){return this.batchId===e.batchId&&gs(this.mutations,e.mutations,(i,a)=>my(i,a))&&gs(this.baseMutations,e.baseMutations,(i,a)=>my(i,a))}}class ad{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){qt(e.mutations.length===a.length);let u=function(){return IA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new ad(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,xt;function YA(s){switch(s){case K.OK:return mt();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return mt()}}function k_(s){if(s===void 0)return Ii("GRPC error has no .code"),K.UNKNOWN;switch(s){case ge.OK:return K.OK;case ge.CANCELLED:return K.CANCELLED;case ge.UNKNOWN:return K.UNKNOWN;case ge.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ge.INTERNAL:return K.INTERNAL;case ge.UNAVAILABLE:return K.UNAVAILABLE;case ge.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ge.NOT_FOUND:return K.NOT_FOUND;case ge.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ge.ABORTED:return K.ABORTED;case ge.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ge.DATA_LOSS:return K.DATA_LOSS;default:return mt()}}(xt=ge||(ge={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new Tr([4294967295,4294967295],0);function yy(s){const e=XA().encode(s),i=new i_;return i.update(e),new Uint8Array(i.digest())}function _y(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Tr([i,a],0),new Tr([u,h],0)]}class sd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new zl(`Invalid padding: ${i}`);if(a<0)throw new zl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new zl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Tr.fromNumber(this.Ee)}Ae(e,i,a){let u=e.add(i.multiply(Tr.fromNumber(a)));return u.compare(ZA)===1&&(u=new Tr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=yy(e),[a,u]=_y(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new sd(h,u,i);return a.forEach(p=>d.insert(p)),d}insert(e){if(this.Ee===0)return;const i=yy(e),[a,u]=_y(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new rc(gt.min(),u,new ne(Nt),Ui(),Ct())}}class Zl{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Zl(a,i,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,i,a,u){this.me=e,this.removedTargetIds=i,this.key=a,this.fe=u}}class q_{constructor(e,i){this.targetId=e,this.ge=i}}class H_{constructor(e,i,a=Be.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class vy{constructor(){this.pe=0,this.ye=Ey(),this.we=Be.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ct(),i=Ct(),a=Ct();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:mt()}}),new Zl(this.we,this.be,e,i,a)}Me(){this.Se=!1,this.ye=Ey()}xe(e,i){this.Se=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class $A{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ui(),this.$e=bo(),this.Ke=bo(),this.Ue=new ne(Nt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const a=this.He(i);switch(e.state){case 0:this.Je(i)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(e.resumeToken));break;default:mt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((a,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,a=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(Lf(h))if(a===0){const d=new ft(h.path);this.ze(i,d,Qe.newNoDocument(d,gt.min()))}else qt(a===1);else{const d=this.et(i);if(d!==a){const p=this.tt(e),_=p?this.nt(p,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,p;try{d=Dr(a).toUint8Array()}catch(_){if(_ instanceof d_)return ms("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new sd(d,u,h)}catch(_){return ms(_ instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.Ee===0?null:p}nt(e,i,a){return i.ge.count===a-this.st(e,i.targetId)?0:2}st(e,i){const a=this.ke.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ke.it(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const p=this.Xe(d);if(p){if(h.current&&Lf(p.target)){const _=new ft(p.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Qe.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let a=Ct();this.Ke.forEach((h,d)=>{let p=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(a=a.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new rc(e,i,this.Ue,this.Qe,a);return this.Qe=Ui(),this.$e=bo(),this.Ke=bo(),this.Ue=new ne(Nt),u}Ge(e,i){if(!this.Je(e))return;const a=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,a){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new vy,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new be(Nt),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new be(Nt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new vy),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function bo(){return new ne(ft.comparator)}function Ey(){return new ne(ft.comparator)}const JA={asc:"ASCENDING",desc:"DESCENDING"},WA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tS={and:"AND",or:"OR"};class eS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Bf(s,e){return s.useProto3Json||$o(e)?e:{value:e}}function Qo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function nS(s,e){return Qo(s,e.toTimestamp())}function ni(s){return qt(!!s),gt.fromTimestamp(function(i){const a=wr(i);return new Se(a.seconds,a.nanos)}(s))}function ld(s,e){return jf(s,e).canonicalString()}function jf(s,e){const i=function(u){return new $t(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function Q_(s){const e=$t.fromString(s);return qt(Z_(e)),e}function kf(s,e){return ld(s.databaseId,e.path)}function Sf(s,e){const i=Q_(e);if(i.get(1)!==s.databaseId.projectId)throw new ct(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ct(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(K_(i))}function F_(s,e){return ld(s.databaseId,e)}function iS(s){const e=Q_(s);return e.length===4?$t.emptyPath():K_(e)}function qf(s){return new $t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function K_(s){return qt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Ty(s,e,i){return{name:kf(s,e),fields:i.value.mapValue.fields}}function rS(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:mt()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,w){return v.useProto3Json?(qt(w===void 0||typeof w=="string"),Be.fromBase64String(w||"")):(qt(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Be.fromUint8Array(w||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(v){const w=v.code===void 0?K.UNKNOWN:k_(v.code);return new ct(w,v.message||"")}(d);i=new H_(a,u,h,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=Sf(s,a.document.name),h=ni(a.document.updateTime),d=a.document.createTime?ni(a.document.createTime):gt.min(),p=new nn({mapValue:{fields:a.document.fields}}),_=Qe.newFoundDocument(u,h,d,p),v=a.targetIds||[],w=a.removedTargetIds||[];i=new Mo(v,w,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=Sf(s,a.document),h=a.readTime?ni(a.readTime):gt.min(),d=Qe.newNoDocument(u,h),p=a.removedTargetIds||[];i=new Mo([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=Sf(s,a.document),h=a.removedTargetIds||[];i=new Mo([],h,u,null)}else{if(!("filter"in e))return mt();{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new KA(u,h),p=a.targetId;i=new q_(p,d)}}return i}function aS(s,e){let i;if(e instanceof Xl)i={update:Ty(s,e.key,e.value)};else if(e instanceof j_)i={delete:kf(s,e.key)};else if(e instanceof Mr)i={update:Ty(s,e.key,e.data),updateMask:mS(e.fieldMask)};else{if(!(e instanceof GA))return mt();i={verify:kf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const p=d.transform;if(p instanceof Ho)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Kl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Yl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Go)return{fieldPath:d.field.canonicalString(),increment:p.Ie};throw mt()}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:nS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:mt()}(s,e.precondition)),i}function sS(s,e){return s&&s.length>0?(qt(e!==void 0),s.map(i=>function(u,h){let d=u.updateTime?ni(u.updateTime):ni(h);return d.isEqual(gt.min())&&(d=ni(h)),new kA(d,u.transformResults||[])}(i,e))):[]}function lS(s,e){return{documents:[F_(s,e.path)]}}function uS(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=F_(s,u);const h=function(v){if(v.length!==0)return X_(ri.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(w=>function(P){return{field:cs(P.field),direction:hS(P.dir)}}(w))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Bf(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:u}}function oS(s){let e=iS(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){qt(a===1);const w=i.from[0];w.allDescendants?u=w.collectionId:e=e.child(w.collectionId)}let h=[];i.where&&(h=function(I){const P=Y_(I);return P instanceof ri&&S_(P)?P.getFilters():[P]}(i.where));let d=[];i.orderBy&&(d=function(I){return I.map(P=>function(X){return new qo(hs(X.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(P))}(i.orderBy));let p=null;i.limit&&(p=function(I){let P;return P=typeof I=="object"?I.value:I,$o(P)?null:P}(i.limit));let _=null;i.startAt&&(_=function(I){const P=!!I.before,H=I.values||[];return new ko(H,P)}(i.startAt));let v=null;return i.endAt&&(v=function(I){const P=!I.before,H=I.values||[];return new ko(H,P)}(i.endAt)),DA(e,u,d,h,p,"F",_,v)}function cS(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Y_(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=hs(i.unaryFilter.field);return Ae.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=hs(i.unaryFilter.field);return Ae.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=hs(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=hs(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(s):s.fieldFilter!==void 0?function(i){return Ae.create(hs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ri.create(i.compositeFilter.filters.map(a=>Y_(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return mt()}}(i.compositeFilter.op))}(s):mt()}function hS(s){return JA[s]}function fS(s){return WA[s]}function dS(s){return tS[s]}function cs(s){return{fieldPath:s.canonicalString()}}function hs(s){return Pe.fromServerFormat(s.fieldPath)}function X_(s){return s instanceof Ae?function(i){if(i.op==="=="){if(uy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NAN"}};if(ly(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(uy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NAN"}};if(ly(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(i.field),op:fS(i.op),value:i.value}}}(s):s instanceof ri?function(i){const a=i.getFilters().map(u=>X_(u));return a.length===1?a[0]:{compositeFilter:{op:dS(i.op),filters:a}}}(s):mt()}function mS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Z_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i,a,u,h=gt.min(),d=gt.min(),p=Be.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.Tt=e}}function pS(s){const e=oS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Pf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.Tn=new _S}addToCollectionParentIndex(e,i){return this.Tn.add(i),Q.resolve()}getCollectionParents(e,i){return Q.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Q.resolve()}deleteFieldIndex(e,i){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,i){return Q.resolve()}getDocumentsMatchingTarget(e,i){return Q.resolve(null)}getIndexType(e,i){return Q.resolve(0)}getFieldIndexes(e,i){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,i){return Q.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,i){return Q.resolve(Rr.min())}updateCollectionGroup(e,i,a){return Q.resolve()}updateIndexEntries(e,i){return Q.resolve()}}class _S{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new be($t.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new be($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$_=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en($_,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new _s(0)}static Un(){return new _s(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="LruGarbageCollector",vS=1048576;function by([s,e],[i,a]){const u=Nt(s,i);return u===0?Nt(e,a):u}class ES{constructor(e){this.Hn=e,this.buffer=new be(by),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();by(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class TS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){nt(Sy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bs(i)?nt(Sy,"Ignoring IndexedDB error during garbage collection: ",i):await Ss(i)}await this.er(3e5)})}}class AS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Q.resolve(Zo.ae);const a=new ES(i);return this.tr.forEachTarget(e,u=>a.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>a.Zn(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Ay)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ay):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,u,h,d,p,_,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),u=this.params.maximumSequenceNumbersToCollect):u=I,d=Date.now(),this.nthSequenceNumber(e,u))).next(I=>(a=I,p=Date.now(),this.removeTargets(e,a,i))).next(I=>(h=I,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(I=>(v=Date.now(),us()<=zt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${u} in `+(p-d)+`ms
	Removed ${h} targets in `+(_-p)+`ms
	Removed ${I} documents in `+(v-_)+`ms
Total Duration: ${v-w}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:I})))}}function SS(s,e){return new AS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.changes=new pa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Q.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&jl(a.mutation,u,fn.empty(),Se.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Ct()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Ct()){const u=fa();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=xl();return h.forEach((p,_)=>{d=d.insert(p,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=fa();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Ct()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,a,u){let h=Ui();const d=Bl(),p=function(){return Bl()}();return i.forEach((_,v)=>{const w=a.get(v.key);u.has(v.key)&&(w===void 0||w.mutation instanceof Mr)?h=h.insert(v.key,v):w!==void 0?(d.set(v.key,w.mutation.getFieldMask()),jl(w.mutation,v,w.mutation.getFieldMask(),Se.now())):d.set(v.key,fn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,w)=>d.set(v,w)),i.forEach((v,w)=>{var I;return p.set(v,new RS(w,(I=d.get(v))!==null&&I!==void 0?I:null))}),p))}recalculateAndSaveOverlays(e,i){const a=Bl();let u=new ne((d,p)=>d-p),h=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let w=a.get(_)||fn.empty();w=p.applyToLocalView(v,w),a.set(_,w);const I=(u.get(p.batchId)||Ct()).add(_);u=u.insert(p.batchId,I)})}).next(()=>{const d=[],p=u.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,w=_.value,I=M_();w.forEach(P=>{if(!h.has(P)){const H=P_(i.get(P),a.get(P));H!==null&&I.set(P,H),h=h.add(P)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,I))}return Q.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):CA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):Q.resolve(fa());let p=Hl,_=h;return d.next(v=>Q.forEach(v,(w,I)=>(p<I.largestBatchId&&(p=I.largestBatchId),h.get(w)?Q.resolve():this.remoteDocumentCache.getEntry(e,w).next(P=>{_=_.insert(w,P)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Ct())).next(w=>({batchId:p,changes:O_(w)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next(a=>{let u=xl();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=xl();return this.indexManager.getCollectionParents(e,h).next(p=>Q.forEach(p,_=>{const v=function(I,P){return new Wo(P,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(w=>{w.forEach((I,P)=>{d=d.insert(I,P)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((_,v)=>{const w=v.getKey();d.get(w)===null&&(d=d.insert(w,Qe.newInvalidDocument(w)))});let p=xl();return d.forEach((_,v)=>{const w=h.get(_);w!==void 0&&jl(w.mutation,v,fn.empty(),Se.now()),ec(i,v)&&(p=p.insert(_,v))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Q.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}}(i)),Q.resolve()}getNamedQuery(e,i){return Q.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:pS(u.bundledQuery),readTime:ni(u.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.overlays=new ne(ft.comparator),this.Rr=new Map}getOverlay(e,i){return Q.resolve(this.overlays.get(i))}getOverlays(e,i){const a=fa();return Q.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.Et(e,i,h)}),Q.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Rr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),Q.resolve()}getOverlaysForCollection(e,i,a){const u=fa(),h=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return Q.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new ne((v,w)=>v-w);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let w=h.get(v.largestBatchId);w===null&&(w=fa(),h=h.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const p=fa(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,w)=>p.set(v,w)),!(p.size()>=u)););return Q.resolve(p)}Et(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(a.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new FA(i,a));let h=this.Rr.get(i);h===void 0&&(h=Ct(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this.Vr=new be(Me.mr),this.gr=new be(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Me(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Me(e,i))}br(e,i){e.forEach(a=>this.removeReference(a,i))}Sr(e){const i=new ft(new $t([])),a=new Me(i,e),u=new Me(i,e+1),h=[];return this.gr.forEachInRange([a,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ft(new $t([])),a=new Me(i,e),u=new Me(i,e+1);let h=Ct();return this.gr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Me{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ft.comparator(e.key,i.key)||Nt(e.Cr,i.Cr)}static pr(e,i){return Nt(e.Cr,i.Cr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new be(Me.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new QA(h,i,a,u);this.mutationQueue.push(d);for(const p of u)this.Mr=this.Mr.add(new Me(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,i){return Q.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.Nr(a),h=u<0?0:u;return Q.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Wf:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Me(i,0),u=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,u],d=>{const p=this.Or(d.Cr);h.push(p)}),Q.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new be(Nt);return i.forEach(u=>{const h=new Me(u,0),d=new Me(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],p=>{a=a.add(p.Cr)})}),Q.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ft.isDocumentKey(h)||(h=h.child(""));const d=new Me(new ft(h),0);let p=new be(Nt);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(p=p.add(_.Cr)),!0)},d),Q.resolve(this.Br(p))}Br(e){const i=[];return e.forEach(a=>{const u=this.Or(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){qt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Q.forEach(i.mutations,u=>{const h=new Me(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Me(i,0),u=this.Mr.firstAfterOrEqual(a);return Q.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.kr=e,this.docs=function(){return new ne(ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Q.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let a=Ui();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),Q.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Ui();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:w}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||aA(rA(w),a)<=0||(u.has(w.key)||ec(i,w))&&(h=h.insert(w.key,w.mutableCopy()))}return Q.resolve(h)}getAllFromCollectionGroup(e,i,a,u){mt()}qr(e,i){return Q.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new MS(this)}getSize(e){return Q.resolve(this.size)}}class MS extends bS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(a)}),Q.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.persistence=e,this.Qr=new pa(i=>nd(i),id),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ud,this.targetCount=0,this.Ur=_s.Kn()}forEachTarget(e,i){return this.Qr.forEach((a,u)=>i(u)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),Q.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new _s(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Q.resolve()}updateTargetData(e,i){return this.zn(i),Q.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.Sr(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.Qr.forEach((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),u++)}),Q.waitFor(h).next(()=>u)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return Q.resolve(a)}addMatchingKeys(e,i,a){return this.Kr.yr(i,a),Q.resolve()}removeMatchingKeys(e,i,a){this.Kr.br(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Q.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Kr.Sr(i),Q.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Kr.vr(i);return Q.resolve(a)}containsKey(e,i){return Q.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Zo(0),this.zr=!1,this.zr=!0,this.jr=new VS,this.referenceDelegate=e(this),this.Hr=new IS(this),this.indexManager=new yS,this.remoteDocumentCache=function(u){return new OS(u)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new gS(i),this.Yr=new DS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new CS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new NS(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){nt("MemoryPersistence","Starting transaction:",e);const u=new US(this.Gr.next());return this.referenceDelegate.Zr(),a(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return Q.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class US extends lA{constructor(e){super(),this.currentSequenceNumber=e}}class od{constructor(e){this.persistence=e,this.ti=new ud,this.ni=null}static ri(e){return new od(e)}get ii(){if(this.ni)return this.ni;throw mt()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),Q.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),Q.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Q.resolve()}removeTarget(e,i){this.ti.Sr(i.targetId).forEach(u=>this.ii.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,a=>{const u=ft.fromPath(a);return this.si(e,u).next(h=>{h||i.removeEntry(u,gt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Q.or([()=>Q.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Fo{constructor(e,i){this.persistence=e,this.oi=new pa(a=>cA(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=SS(this,i)}static ri(e,i){return new Fo(e,i)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return Q.forEach(this.oi,(a,u)=>this.ar(e,a,u).next(h=>h?Q.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(p=>{p||(a++,h.removeEntry(d,gt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Vo(e.data.value)),i}ar(e,i,a){return Q.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return Q.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=u}static Yi(e,i){let a=Ct(),u=Ct();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new cd(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return V0()?8:uA(D0())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new xS;return this._s(e,i,d).next(p=>{if(h.result=p,this.Xi)return this.us(e,i,d,p.size)})}).next(()=>h.result)}us(e,i,a,u){return a.documentReadCount<this.es?(us()<=zt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",os(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(us()<=zt.DEBUG&&nt("QueryEngine","Query:",os(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ts*u?(us()<=zt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",os(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):Q.resolve())}rs(e,i){if(fy(i))return Q.resolve(null);let a=ti(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Pf(i,null,"F"),a=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Ct(...h);return this.ns.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.cs(i,p);return this.ls(i,v,d,_.readTime)?this.rs(e,Pf(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,a,u){return fy(i)||u.isEqual(gt.min())?Q.resolve(null):this.ns.getDocuments(e,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,u)?Q.resolve(null):(us()<=zt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),os(i)),this.hs(e,d,i,iA(u,Hl)).next(p=>p))})}cs(e,i){let a=new be(V_(e));return i.forEach((u,h)=>{ec(e,h)&&(a=a.add(h))}),a}ls(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,a){return us()<=zt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",os(i)),this.ns.getDocumentsMatchingQuery(e,i,Rr.min(),a)}hs(e,i,a,u){return this.ns.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="LocalStore",LS=3e8;class PS{constructor(e,i,a,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new ne(Nt),this.Is=new pa(h=>nd(h),id),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function BS(s,e,i,a){return new PS(s,e,i,a)}async function W_(s,e){const i=yt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],p=[];let _=Ct();for(const v of u){d.push(v.batchId);for(const w of v.mutations)_=_.add(w.key)}for(const v of h){p.push(v.batchId);for(const w of v.mutations)_=_.add(w.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:p}))})})}function jS(s,e){const i=yt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(p,_,v,w){const I=v.batch,P=I.keys();let H=Q.resolve();return P.forEach(X=>{H=H.next(()=>w.getEntry(_,X)).next(W=>{const Z=v.docVersions.get(X);qt(Z!==null),W.version.compareTo(Z)<0&&(I.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),w.addEntry(W)))})}),H.next(()=>p.mutationQueue.removeMutationBatch(_,I))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(p){let _=Ct();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function tv(s){const e=yt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function kS(s,e){const i=yt(s),a=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const p=[];e.targetChanges.forEach((w,I)=>{const P=u.get(I);if(!P)return;p.push(i.Hr.removeMatchingKeys(h,w.removedDocuments,I).next(()=>i.Hr.addMatchingKeys(h,w.addedDocuments,I)));let H=P.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(I)!==null?H=H.withResumeToken(Be.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):w.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(w.resumeToken,a)),u=u.insert(I,H),function(W,Z,At){return W.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=LS?!0:At.addedDocuments.size+At.modifiedDocuments.size+At.removedDocuments.size>0}(P,H,w)&&p.push(i.Hr.updateTargetData(h,H))});let _=Ui(),v=Ct();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,w))}),p.push(qS(h,d,e.documentUpdates).next(w=>{_=w.Vs,v=w.fs})),!a.isEqual(gt.min())){const w=i.Hr.getLastRemoteSnapshotVersion(h).next(I=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));p.push(w)}return Q.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=u,h))}function qS(s,e,i){let a=Ct(),u=Ct();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Ui();return i.forEach((p,_)=>{const v=h.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(p)),_.isNoDocument()&&_.version.isEqual(gt.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):nt(hd,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:u}})}function HS(s,e){const i=yt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Wf),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function GS(s,e){const i=yt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Hr.getTargetData(a,e).next(h=>h?(u=h,Q.resolve(u)):i.Hr.allocateTargetId(a).next(d=>(u=new _r(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.Ts.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(e,a.targetId)),a})}async function Hf(s,e,i){const a=yt(s),u=a.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!bs(d))throw d;nt(hd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(u.target)}function Ry(s,e,i){const a=yt(s);let u=gt.min(),h=Ct();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,w){const I=yt(_),P=I.Is.get(w);return P!==void 0?Q.resolve(I.Ts.get(P)):I.Hr.getTargetData(v,w)}(a,d,ti(e)).next(p=>{if(p)return u=p.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,p.targetId).next(_=>{h=_})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,i?u:gt.min(),i?h:Ct())).next(p=>(QS(a,NA(e),p),{documents:p,gs:h})))}function QS(s,e,i){let a=s.Es.get(e)||gt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Es.set(e,a)}class wy{constructor(){this.activeTargetIds=zA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FS{constructor(){this.ho=new wy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new wy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="ConnectivityMonitor";class Cy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(Dy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){nt(Dy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro=null;function Gf(){return Ro===null?Ro=function(){return 268435456+Math.round(2147483648*Math.random())}():Ro++,"0x"+Ro.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="RestConnection",YS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XS{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${u}`,this.wo=this.databaseId.database===Bo?`project_id=${a}`:`project_id=${a}&database_id=${u}`}bo(e,i,a,u,h){const d=Gf(),p=this.So(e,i.toUriEncodedString());nt(bf,`Sending RPC '${e}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,u,h),this.vo(e,p,_,a).then(v=>(nt(bf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw ms(bf,`RPC '${e}' ${d} failed with error: `,v,"url: ",p,"request:",a),v})}Co(e,i,a,u,h,d){return this.bo(e,i,a,u,h)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+As}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}So(e,i){const a=YS[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class $S extends XS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,u){const h=Gf();return new Promise((d,p)=>{const _=new r_;_.setWithCredentials(!0),_.listenOnce(a_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Co.NO_ERROR:const w=_.getResponseJson();nt(He,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),d(w);break;case Co.TIMEOUT:nt(He,`RPC '${e}' ${h} timed out`),p(new ct(K.DEADLINE_EXCEEDED,"Request time out"));break;case Co.HTTP_ERROR:const I=_.getStatus();if(nt(He,`RPC '${e}' ${h} failed with status:`,I,"response text:",_.getResponseText()),I>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const H=P==null?void 0:P.error;if(H&&H.status&&H.message){const X=function(Z){const At=Z.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(At)>=0?At:K.UNKNOWN}(H.status);p(new ct(X,H.message))}else p(new ct(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new ct(K.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{nt(He,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(u);nt(He,`RPC '${e}' ${h} sending request:`,u),_.send(i,"POST",v,a,15)})}Wo(e,i,a){const u=Gf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=u_(),p=l_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const w=h.join("");nt(He,`Creating RPC '${e}' stream ${u}: ${w}`,_);const I=d.createWebChannel(w,_);let P=!1,H=!1;const X=new ZS({Fo:Z=>{H?nt(He,`Not sending because RPC '${e}' stream ${u} is closed:`,Z):(P||(nt(He,`Opening RPC '${e}' stream ${u} transport.`),I.open(),P=!0),nt(He,`RPC '${e}' stream ${u} sending:`,Z),I.send(Z))},Mo:()=>I.close()}),W=(Z,At,ht)=>{Z.listen(At,_t=>{try{ht(_t)}catch(Ht){setTimeout(()=>{throw Ht},0)}})};return W(I,Ul.EventType.OPEN,()=>{H||(nt(He,`RPC '${e}' stream ${u} transport opened.`),X.Qo())}),W(I,Ul.EventType.CLOSE,()=>{H||(H=!0,nt(He,`RPC '${e}' stream ${u} transport closed`),X.Ko())}),W(I,Ul.EventType.ERROR,Z=>{H||(H=!0,ms(He,`RPC '${e}' stream ${u} transport errored:`,Z),X.Ko(new ct(K.UNAVAILABLE,"The operation could not be completed")))}),W(I,Ul.EventType.MESSAGE,Z=>{var At;if(!H){const ht=Z.data[0];qt(!!ht);const _t=ht,Ht=(_t==null?void 0:_t.error)||((At=_t[0])===null||At===void 0?void 0:At.error);if(Ht){nt(He,`RPC '${e}' stream ${u} received error:`,Ht);const vt=Ht.status;let Ot=function(T){const S=ge[T];if(S!==void 0)return k_(S)}(vt),U=Ht.message;Ot===void 0&&(Ot=K.INTERNAL,U="Unknown error status: "+vt+" with message "+Ht.message),H=!0,X.Ko(new ct(Ot,U)),I.close()}else nt(He,`RPC '${e}' stream ${u} received:`,ht),X.Uo(ht)}}),W(p,s_.STAT_EVENT,Z=>{Z.stat===If.PROXY?nt(He,`RPC '${e}' stream ${u} detected buffering proxy`):Z.stat===If.NOPROXY&&nt(He,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{X.$o()},0),X}}function Rf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(s){return new eS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-a);u>0&&nt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="PersistentStream";class nv{constructor(e,i,a,u,h,d,p,_){this.Ti=e,this.n_=a,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ev(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Ii(i.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.i_===i&&this.V_(a,u)},a=>{e(()=>{const u=new ct(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(u)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{a(()=>this.m_(u))}),this.stream.onMessage(u=>{a(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return nt(Vy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(nt(Vy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JS extends nv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=rS(this.serializer,e),a=function(h){if(!("targetChange"in h))return gt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?gt.min():d.readTime?ni(d.readTime):gt.min()}(e);return this.listener.p_(i,a)}y_(e){const i={};i.database=qf(this.serializer),i.addTarget=function(h,d){let p;const _=d.target;if(p=Lf(_)?{documents:lS(h,_)}:{query:uS(h,_).ht},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=G_(h,d.resumeToken);const v=Bf(h,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(gt.min())>0){p.readTime=Qo(h,d.snapshotVersion.toTimestamp());const v=Bf(h,d.expectedCount);v!==null&&(p.expectedCount=v)}return p}(this.serializer,e);const a=cS(this.serializer,e);a&&(i.labels=a),this.I_(i)}w_(e){const i={};i.database=qf(this.serializer),i.removeTarget=e,this.I_(i)}}class WS extends nv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=sS(e.writeResults,e.commitTime),a=ni(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=qf(this.serializer),this.I_(e)}S_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>aS(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{}class e1 extends t1{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new ct(K.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,i,a,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.bo(e,jf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct(K.UNKNOWN,h.toString())})}Co(e,i,a,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Co(e,jf(i,a),u,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(K.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class n1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ii(i),this.N_=!1):nt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="RemoteStore";class i1{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{ya(this)&&(nt(ma,"Restarting streams for network reachability change."),await async function(_){const v=yt(_);v.W_.add(4),await $l(v),v.j_.set("Unknown"),v.W_.delete(4),await sc(v)}(this))})}),this.j_=new n1(a,u)}}async function sc(s){if(ya(s))for(const e of s.G_)await e(!0)}async function $l(s){for(const e of s.G_)await e(!1)}function iv(s,e){const i=yt(s);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),gd(i)?md(i):Rs(i).c_()&&dd(i,e))}function fd(s,e){const i=yt(s),a=Rs(i);i.U_.delete(e),a.c_()&&rv(i,e),i.U_.size===0&&(a.c_()?a.P_():ya(i)&&i.j_.set("Unknown"))}function dd(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Rs(s).y_(e)}function rv(s,e){s.H_.Ne(e),Rs(s).w_(e)}function md(s){s.H_=new $A({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Rs(s).start(),s.j_.B_()}function gd(s){return ya(s)&&!Rs(s).u_()&&s.U_.size>0}function ya(s){return yt(s).W_.size===0}function av(s){s.H_=void 0}async function r1(s){s.j_.set("Online")}async function a1(s){s.U_.forEach((e,i)=>{dd(s,e)})}async function s1(s,e){av(s),gd(s)?(s.j_.q_(e),md(s)):s.j_.set("Unknown")}async function l1(s,e,i){if(s.j_.set("Online"),e instanceof H_&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const p of h.targetIds)u.U_.has(p)&&(await u.remoteSyncer.rejectListen(p,d),u.U_.delete(p),u.H_.removeTarget(p))}(s,e)}catch(a){nt(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Ko(s,a)}else if(e instanceof Mo?s.H_.We(e):e instanceof q_?s.H_.Ze(e):s.H_.je(e),!i.isEqual(gt.min()))try{const a=await tv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const p=h.H_.ot(d);return p.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const w=h.U_.get(v);w&&h.U_.set(v,w.withResumeToken(_.resumeToken,d))}}),p.targetMismatches.forEach((_,v)=>{const w=h.U_.get(_);if(!w)return;h.U_.set(_,w.withResumeToken(Be.EMPTY_BYTE_STRING,w.snapshotVersion)),rv(h,_);const I=new _r(w.target,_,v,w.sequenceNumber);dd(h,I)}),h.remoteSyncer.applyRemoteEvent(p)}(s,i)}catch(a){nt(ma,"Failed to raise snapshot:",a),await Ko(s,a)}}async function Ko(s,e,i){if(!bs(e))throw e;s.W_.add(1),await $l(s),s.j_.set("Offline"),i||(i=()=>tv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{nt(ma,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await sc(s)})}function sv(s,e){return e().catch(i=>Ko(s,i,e))}async function lc(s){const e=yt(s),i=Vr(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:Wf;for(;u1(e);)try{const u=await HS(e.localStore,a);if(u===null){e.K_.length===0&&i.P_();break}a=u.batchId,o1(e,u)}catch(u){await Ko(e,u)}lv(e)&&uv(e)}function u1(s){return ya(s)&&s.K_.length<10}function o1(s,e){s.K_.push(e);const i=Vr(s);i.c_()&&i.b_&&i.S_(e.mutations)}function lv(s){return ya(s)&&!Vr(s).u_()&&s.K_.length>0}function uv(s){Vr(s).start()}async function c1(s){Vr(s).C_()}async function h1(s){const e=Vr(s);for(const i of s.K_)e.S_(i.mutations)}async function f1(s,e,i){const a=s.K_.shift(),u=ad.from(a,e,i);await sv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await lc(s)}async function d1(s,e){e&&Vr(s).b_&&await async function(a,u){if(function(d){return YA(d)&&d!==K.ABORTED}(u.code)){const h=a.K_.shift();Vr(a).h_(),await sv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await lc(a)}}(s,e),lv(s)&&uv(s)}async function Ny(s,e){const i=yt(s);i.asyncQueue.verifyOperationInProgress(),nt(ma,"RemoteStore received new credentials");const a=ya(i);i.W_.add(3),await $l(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await sc(i)}async function m1(s,e){const i=yt(s);e?(i.W_.delete(2),await sc(i)):e||(i.W_.add(2),await $l(i),i.j_.set("Unknown"))}function Rs(s){return s.J_||(s.J_=function(i,a,u){const h=yt(i);return h.M_(),new JS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:r1.bind(null,s),No:a1.bind(null,s),Lo:s1.bind(null,s),p_:l1.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),gd(s)?md(s):s.j_.set("Unknown")):(await s.J_.stop(),av(s))})),s.J_}function Vr(s){return s.Y_||(s.Y_=function(i,a,u){const h=yt(i);return h.M_(),new WS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:c1.bind(null,s),Lo:d1.bind(null,s),D_:h1.bind(null,s),v_:f1.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await lc(s)):(await s.Y_.stop(),s.K_.length>0&&(nt(ma,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,p=new pd(e,i,d,u,h);return p.start(a),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yd(s,e){if(Ii("AsyncQueue",`${e}: ${s}`),bs(s))return new ct(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{static emptySet(e){return new ds(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=xl(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ds)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ds;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.Z_=new ne(ft.comparator)}track(e){const i=e.doc.key,a=this.Z_.get(i);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(i):e.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):mt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class vs{constructor(e,i,a,u,h,d,p,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new vs(e,i,ds.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class p1{constructor(){this.queries=My(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const u=yt(i),h=u.queries;u.queries=My(),h.forEach((d,p)=>{for(const _ of p.ta)_.onError(a)})})(this,new ct(K.ABORTED,"Firestore shutting down"))}}function My(){return new pa(s=>C_(s),tc)}async function y1(s,e){const i=yt(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(a=2):(h=new g1,a=e.ra()?0:1);try{switch(a){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const p=yd(d,`Initialization of query '${os(e.query)}' failed`);return void e.onError(p)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&_d(i)}async function _1(s,e){const i=yt(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function v1(s,e){const i=yt(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const p of d.ta)p.oa(u)&&(a=!0);d.ea=u}}a&&_d(i)}function E1(s,e,i){const a=yt(s),u=a.queries.get(e);if(u)for(const h of u.ta)h.onError(i);a.queries.delete(e)}function _d(s){s.ia.forEach(e=>{e.next()})}var Qf,Iy;(Iy=Qf||(Qf={}))._a="default",Iy.Cache="cache";class T1{constructor(e,i,a){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new vs(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Qf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e){this.key=e}}class cv{constructor(e){this.key=e}}class A1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ct(),this.mutatedKeys=Ct(),this.ya=V_(e),this.wa=new ds(this.ya)}get ba(){return this.fa}Sa(e,i){const a=i?i.Da:new Oy,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,p=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((w,I)=>{const P=u.get(w),H=ec(this.query,I)?I:null,X=!!P&&this.mutatedKeys.has(P.key),W=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Z=!1;P&&H?P.data.isEqual(H.data)?X!==W&&(a.track({type:3,doc:H}),Z=!0):this.va(P,H)||(a.track({type:2,doc:H}),Z=!0,(_&&this.ya(H,_)>0||v&&this.ya(H,v)<0)&&(p=!0)):!P&&H?(a.track({type:0,doc:H}),Z=!0):P&&!H&&(a.track({type:1,doc:P}),Z=!0,(_||v)&&(p=!0)),Z&&(H?(d=d.add(H),h=W?h.add(w):h.delete(w)):(d=d.delete(w),h=h.delete(w)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),h=h.delete(w.key),a.track({type:1,doc:w})}return{wa:d,Da:a,ls:p,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((w,I)=>function(H,X){const W=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return W(H)-W(X)}(w.type,I.type)||this.ya(w.doc,I.doc)),this.Ca(a),u=u!=null&&u;const p=i&&!u?this.Fa():[],_=this.pa.size===0&&this.current&&!u?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new vs(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Oy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ct(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return e.forEach(a=>{this.pa.has(a)||i.push(new cv(a))}),this.pa.forEach(a=>{e.has(a)||i.push(new ov(a))}),i}Oa(e){this.fa=e.gs,this.pa=Ct();const i=this.Sa(e.documents);return this.applyChanges(i,!0)}Na(){return vs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const vd="SyncEngine";class S1{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class b1{constructor(e){this.key=e,this.Ba=!1}}class R1{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new pa(p=>C_(p),tc),this.qa=new Map,this.Qa=new Set,this.$a=new ne(ft.comparator),this.Ka=new Map,this.Ua=new ud,this.Wa={},this.Ga=new Map,this.za=_s.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function w1(s,e,i=!0){const a=pv(s);let u;const h=a.ka.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await hv(a,e,i,!0),u}async function D1(s,e){const i=pv(s);await hv(i,e,!0,!1)}async function hv(s,e,i,a){const u=await GS(s.localStore,ti(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await C1(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&iv(s.remoteStore,u),p}async function C1(s,e,i,a,u){s.Ha=(I,P,H)=>async function(W,Z,At,ht){let _t=Z.view.Sa(At);_t.ls&&(_t=await Ry(W.localStore,Z.query,!1).then(({documents:U})=>Z.view.Sa(U,_t)));const Ht=ht&&ht.targetChanges.get(Z.targetId),vt=ht&&ht.targetMismatches.get(Z.targetId)!=null,Ot=Z.view.applyChanges(_t,W.isPrimaryClient,Ht,vt);return xy(W,Z.targetId,Ot.Ma),Ot.snapshot}(s,I,P,H);const h=await Ry(s.localStore,e,!0),d=new A1(e,h.gs),p=d.Sa(h.documents),_=Zl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(p,s.isPrimaryClient,_);xy(s,i,v.Ma);const w=new S1(e,i,d);return s.ka.set(e,w),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),v.snapshot}async function V1(s,e,i){const a=yt(s),u=a.ka.get(e),h=a.qa.get(u.targetId);if(h.length>1)return a.qa.set(u.targetId,h.filter(d=>!tc(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await Hf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&fd(a.remoteStore,u.targetId),Ff(a,u.targetId)}).catch(Ss)):(Ff(a,u.targetId),await Hf(a.localStore,u.targetId,!0))}async function N1(s,e){const i=yt(s),a=i.ka.get(e),u=i.qa.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),fd(i.remoteStore,a.targetId))}async function O1(s,e,i){const a=P1(s);try{const u=await function(d,p){const _=yt(d),v=Se.now(),w=p.reduce((H,X)=>H.add(X.key),Ct());let I,P;return _.persistence.runTransaction("Locally write mutations","readwrite",H=>{let X=Ui(),W=Ct();return _.ds.getEntries(H,w).next(Z=>{X=Z,X.forEach((At,ht)=>{ht.isValidDocument()||(W=W.add(At))})}).next(()=>_.localDocuments.getOverlayedDocuments(H,X)).next(Z=>{I=Z;const At=[];for(const ht of p){const _t=HA(ht,I.get(ht.key).overlayedDocument);_t!=null&&At.push(new Mr(ht.key,_t,E_(_t.value.mapValue),ei.exists(!0)))}return _.mutationQueue.addMutationBatch(H,v,At,p)}).next(Z=>{P=Z;const At=Z.applyToLocalDocumentSet(I,W);return _.documentOverlayCache.saveOverlays(H,Z.batchId,At)})}).then(()=>({batchId:P.batchId,changes:O_(I)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,p,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new ne(Nt)),v=v.insert(p,_),d.Wa[d.currentUser.toKey()]=v}(a,u.batchId,i),await Jl(a,u.changes),await lc(a.remoteStore)}catch(u){const h=yd(u,"Failed to persist write");i.reject(h)}}async function fv(s,e){const i=yt(s);try{const a=await kS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ka.get(h);d&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?qt(d.Ba):u.removedDocuments.size>0&&(qt(d.Ba),d.Ba=!1))}),await Jl(i,a,e)}catch(a){await Ss(a)}}function Uy(s,e,i){const a=yt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.ka.forEach((h,d)=>{const p=d.view.sa(e);p.snapshot&&u.push(p.snapshot)}),function(d,p){const _=yt(d);_.onlineState=p;let v=!1;_.queries.forEach((w,I)=>{for(const P of I.ta)P.sa(p)&&(v=!0)}),v&&_d(_)}(a.eventManager,e),u.length&&a.La.p_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function M1(s,e,i){const a=yt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Ka.get(e),h=u&&u.key;if(h){let d=new ne(ft.comparator);d=d.insert(h,Qe.newNoDocument(h,gt.min()));const p=Ct().add(h),_=new rc(gt.min(),new Map,new ne(Nt),d,p);await fv(a,_),a.$a=a.$a.remove(h),a.Ka.delete(e),Ed(a)}else await Hf(a.localStore,e,!1).then(()=>Ff(a,e,i)).catch(Ss)}async function I1(s,e){const i=yt(s),a=e.batch.batchId;try{const u=await jS(i.localStore,e);mv(i,a,null),dv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jl(i,u)}catch(u){await Ss(u)}}async function U1(s,e,i){const a=yt(s);try{const u=await function(d,p){const _=yt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return _.mutationQueue.lookupMutationBatch(v,p).next(I=>(qt(I!==null),w=I.keys(),_.mutationQueue.removeMutationBatch(v,I))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,w,p)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>_.localDocuments.getDocuments(v,w))})}(a.localStore,e);mv(a,e,i),dv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Jl(a,u)}catch(u){await Ss(u)}}function dv(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function mv(s,e,i){const a=yt(s);let u=a.Wa[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Wa[a.currentUser.toKey()]=u}}function Ff(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),i&&s.La.Ja(a,i);s.qa.delete(e),s.isPrimaryClient&&s.Ua.Sr(e).forEach(a=>{s.Ua.containsKey(a)||gv(s,a)})}function gv(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(fd(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ka.delete(i),Ed(s))}function xy(s,e,i){for(const a of i)a instanceof ov?(s.Ua.addReference(a.key,e),x1(s,a)):a instanceof cv?(nt(vd,"Document no longer in limbo: "+a.key),s.Ua.removeReference(a.key,e),s.Ua.containsKey(a.key)||gv(s,a.key)):mt()}function x1(s,e){const i=e.key,a=i.path.canonicalString();s.$a.get(i)||s.Qa.has(a)||(nt(vd,"New document in limbo: "+i),s.Qa.add(a),Ed(s))}function Ed(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new ft($t.fromString(e)),a=s.za.next();s.Ka.set(a,new b1(i)),s.$a=s.$a.insert(i,a),iv(s.remoteStore,new _r(ti(D_(i.path)),a,"TargetPurposeLimboResolution",Zo.ae))}}async function Jl(s,e,i){const a=yt(s),u=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((p,_)=>{d.push(a.Ha(_,e,i).then(v=>{var w;if((v||i)&&a.isPrimaryClient){const I=v?!v.fromCache:(w=i==null?void 0:i.targetChanges.get(_.targetId))===null||w===void 0?void 0:w.current;a.sharedClientState.updateQueryState(_.targetId,I?"current":"not-current")}if(v){u.push(v);const I=cd.Yi(_.targetId,v);h.push(I)}}))}),await Promise.all(d),a.La.p_(u),await async function(_,v){const w=yt(_);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Q.forEach(v,P=>Q.forEach(P.Hi,H=>w.persistence.referenceDelegate.addReference(I,P.targetId,H)).next(()=>Q.forEach(P.Ji,H=>w.persistence.referenceDelegate.removeReference(I,P.targetId,H)))))}catch(I){if(!bs(I))throw I;nt(hd,"Failed to update sequence numbers: "+I)}for(const I of v){const P=I.targetId;if(!I.fromCache){const H=w.Ts.get(P),X=H.snapshotVersion,W=H.withLastLimboFreeSnapshotVersion(X);w.Ts=w.Ts.insert(P,W)}}}(a.localStore,h))}async function z1(s,e){const i=yt(s);if(!i.currentUser.isEqual(e)){nt(vd,"User change. New user:",e.toKey());const a=await W_(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(p=>{p.forEach(_=>{_.reject(new ct(K.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Jl(i,a.Rs)}}function L1(s,e){const i=yt(s),a=i.Ka.get(e);if(a&&a.Ba)return Ct().add(a.key);{let u=Ct();const h=i.qa.get(e);if(!h)return u;for(const d of h){const p=i.ka.get(d);u=u.unionWith(p.view.ba)}return u}}function pv(s){const e=yt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=fv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M1.bind(null,e),e.La.p_=v1.bind(null,e.eventManager),e.La.Ja=E1.bind(null,e.eventManager),e}function P1(s){const e=yt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U1.bind(null,e),e}class Yo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ac(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return BS(this.persistence,new zS,e.initialUser,this.serializer)}Xa(e){return new J_(od.ri,this.serializer)}Za(e){return new FS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yo.provider={build:()=>new Yo};class B1 extends Yo{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){qt(this.persistence.referenceDelegate instanceof Fo);const a=this.persistence.referenceDelegate.garbageCollector;return new TS(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new J_(a=>Fo.ri(a,i),this.serializer)}}class Kf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Uy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=z1.bind(null,this.syncEngine),await m1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new p1}()}createDatastore(e){const i=ac(e.databaseInfo.databaseId),a=function(h){return new $S(h)}(e.databaseInfo);return function(h,d,p,_){return new e1(h,d,p,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,p){return new i1(a,u,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>Uy(this.syncEngine,i,0),function(){return Cy.D()?new Cy:new KS}())}createSyncEngine(e,i){return function(u,h,d,p,_,v,w){const I=new R1(u,h,d,p,_,v);return w&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=yt(u);nt(ma,"RemoteStore shutting down."),h.W_.add(5),await $l(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Kf.provider={build:()=>new Kf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="FirestoreClient";class k1{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=c_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{nt(Nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(nt(Nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=yd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function wf(s,e){s.asyncQueue.verifyOperationInProgress(),nt(Nr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await W_(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function zy(s,e){s.asyncQueue.verifyOperationInProgress();const i=await q1(s);nt(Nr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Ny(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>Ny(e.remoteStore,u)),s._onlineComponents=e}async function q1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt(Nr,"Using user provided OfflineComponentProvider");try{await wf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;ms("Error using user provided cache. Falling back to memory cache: "+i),await wf(s,new Yo)}}else nt(Nr,"Using default OfflineComponentProvider"),await wf(s,new B1(void 0));return s._offlineComponents}async function yv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt(Nr,"Using user provided OnlineComponentProvider"),await zy(s,s._uninitializedComponentsProvider._online)):(nt(Nr,"Using default OnlineComponentProvider"),await zy(s,new Kf))),s._onlineComponents}function H1(s){return yv(s).then(e=>e.syncEngine)}async function G1(s){const e=await yv(s),i=e.eventManager;return i.onListen=w1.bind(null,e.syncEngine),i.onUnlisten=V1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=D1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=N1.bind(null,e.syncEngine),i}function Q1(s,e,i={}){const a=new Ar;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,p,_,v){const w=new j1({next:P=>{w.su(),d.enqueueAndForget(()=>_1(h,I)),P.fromCache&&_.source==="server"?v.reject(new ct(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(P)},error:P=>v.reject(P)}),I=new T1(p,w,{includeMetadataChanges:!0,Ta:!0});return y1(h,I)}(await G1(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(s,e,i){if(!i)throw new ct(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function F1(s,e,i,a){if(e===!0&&a===!0)throw new ct(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Py(s){if(!ft.isDocumentKey(s))throw new ct(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function By(s){if(ft.isDocumentKey(s))throw new ct(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Td(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":mt()}function ga(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ct(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Td(s);throw new ct(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="firestore.googleapis.com",jy=!0;class ky{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ct(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ev,this.ssl=jy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:jy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vS)throw new ct(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_v((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ct(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ct(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ct(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ky({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ky(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new XT;switch(a.type){case"firstParty":return new WT(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Ly.get(i);a&&(nt("ComponentProvider","Removing Datastore"),Ly.delete(i),a.terminate())}(this),Promise.resolve()}}function K1(s,e,i,a={}){var u;const h=(s=ga(s,uc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:s._getEmulatorOptions()}),p=`${e}:${i}`;h.host!==Ev&&h.host!==p&&ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},h),{host:p,ssl:!1,emulatorOptions:a});if(!xo(_,d)&&(s._setSettings(_),a.mockUserToken)){let v,w;if(typeof a.mockUserToken=="string")v=a.mockUserToken,w=Ge.MOCK_USER;else{v=w0(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const I=a.mockUserToken.sub||a.mockUserToken.user_id;if(!I)throw new ct(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Ge(I)}s._authCredentials=new ZT(new o_(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new oc(this.firestore,e,this._query)}}class dn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class Sr extends oc{constructor(e,i,a){super(e,i,D_(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ft(e))}withConverter(e){return new Sr(this.firestore,e,this._path)}}function Tv(s,e,...i){if(s=br(s),vv("collection","path",e),s instanceof uc){const a=$t.fromString(e,...i);return By(a),new Sr(s,null,a)}{if(!(s instanceof dn||s instanceof Sr))throw new ct(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(e,...i));return By(a),new Sr(s.firestore,null,a)}}function Av(s,e,...i){if(s=br(s),arguments.length===1&&(e=c_.newId()),vv("doc","path",e),s instanceof uc){const a=$t.fromString(e,...i);return Py(a),new dn(s,null,new ft(a))}{if(!(s instanceof dn||s instanceof Sr))throw new ct(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(e,...i));return Py(a),new dn(s.firestore,s instanceof Sr?s.converter:null,new ft(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="AsyncQueue";class Hy{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ev(this,"async_queue_retry"),this.bu=()=>{const a=Rf();a&&nt(qy,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=e;const i=Rf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Rf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Ar;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!bs(e))throw e;nt(qy,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.Su.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const u=function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),p}(a);throw Ii("INTERNAL UNHANDLED ERROR: ",u),a}).then(a=>(this.pu=!1,a))));return this.Su=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=pd.createAndSchedule(this,e,i,a,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&mt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class cc extends uc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new Hy,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hy(e),this._firestoreClient=void 0,await e}}}function Y1(s,e){const i=typeof s=="object"?s:zT(),a=typeof s=="string"?s:Bo,u=OT(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=b0("firestore");h&&K1(u,...h)}return u}function Sv(s){if(s._terminated)throw new ct(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||X1(s),s._firestoreClient}function X1(s){var e,i,a;const u=s._freezeSettings(),h=function(p,_,v,w){return new dA(p,_,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,_v(w.experimentalLongPollingOptions),w.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new k1(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(p){const _=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Es(Be.fromBase64String(e))}catch(i){throw new ct(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Es(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ct(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ct(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ct(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=/^__.*__$/;class $1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Xl(e,this.data,i,this.fieldTransforms)}}class bv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Rv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class Rd{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Rd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.$u(e),u}Ku(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.Bu(),u}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Xo(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Rv(this.Lu)&&Z1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class J1{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||ac(e)}ju(e,i,a,u=!1){return new Rd({Lu:e,methodName:i,zu:a,path:Pe.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wv(s){const e=s._freezeSettings(),i=ac(s._databaseId);return new J1(s._databaseId,!!e.ignoreUndefinedProperties,i)}function W1(s,e,i,a,u,h={}){const d=s.ju(h.merge||h.mergeFields?2:0,e,i,u);wd("Data must be an object, but it was:",d,a);const p=Dv(a,d);let _,v;if(h.merge)_=new fn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const w=[];for(const I of h.mergeFields){const P=Yf(e,I,i);if(!d.contains(P))throw new ct(K.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);Vv(w,P)||w.push(P)}_=new fn(w),v=d.fieldTransforms.filter(I=>_.covers(I.field))}else _=null,v=d.fieldTransforms;return new $1(new nn(p),_,v)}class fc extends Ad{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fc}}function tb(s,e,i,a){const u=s.ju(1,e,i);wd("Data must be an object, but it was:",u,a);const h=[],d=nn.empty();Or(a,(_,v)=>{const w=Dd(e,_,i);v=br(v);const I=u.Ku(w);if(v instanceof fc)h.push(w);else{const P=dc(v,I);P!=null&&(h.push(w),d.set(w,P))}});const p=new fn(h);return new bv(d,p,u.fieldTransforms)}function eb(s,e,i,a,u,h){const d=s.ju(1,e,i),p=[Yf(e,a,i)],_=[u];if(h.length%2!=0)throw new ct(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<h.length;P+=2)p.push(Yf(e,h[P])),_.push(h[P+1]);const v=[],w=nn.empty();for(let P=p.length-1;P>=0;--P)if(!Vv(v,p[P])){const H=p[P];let X=_[P];X=br(X);const W=d.Ku(H);if(X instanceof fc)v.push(H);else{const Z=dc(X,W);Z!=null&&(v.push(H),w.set(H,Z))}}const I=new fn(v);return new bv(w,I,d.fieldTransforms)}function dc(s,e){if(Cv(s=br(s)))return wd("Unsupported field value:",e,s),Dv(s,e);if(s instanceof Ad)return function(a,u){if(!Rv(u.Lu))throw u.Wu(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const p of a){let _=dc(p,u.Uu(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=br(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return LA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Se.fromDate(a);return{timestampValue:Qo(u.serializer,h)}}if(a instanceof Se){const h=new Se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Qo(u.serializer,h)}}if(a instanceof Sd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Es)return{bytesValue:G_(u.serializer,a._byteString)};if(a instanceof dn){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:ld(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof bd)return function(d,p){return{mapValue:{fields:{[__]:{stringValue:v_},[jo]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw p.Wu("VectorValues must only contain numeric values.");return rd(p.serializer,v)})}}}}}}(a,u);throw u.Wu(`Unsupported field value: ${Td(a)}`)}(s,e)}function Dv(s,e){const i={};return f_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Or(s,(a,u)=>{const h=dc(u,e.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Cv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Se||s instanceof Sd||s instanceof Es||s instanceof dn||s instanceof Ad||s instanceof bd)}function wd(s,e,i){if(!Cv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=Td(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function Yf(s,e,i){if((e=br(e))instanceof hc)return e._internalPath;if(typeof e=="string")return Dd(s,e);throw Xo("Field path arguments must be of type string or ",s,!1,void 0,i)}const nb=new RegExp("[~\\*/\\[\\]]");function Dd(s,e,i){if(e.search(nb)>=0)throw Xo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new hc(...e.split("."))._internalPath}catch{throw Xo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Xo(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new ct(K.INVALID_ARGUMENT,p+s+_)}function Vv(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ib(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Ov("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class ib extends Nv{data(){return super.data()}}function Ov(s,e){return typeof e=="string"?Dd(s,e):e instanceof hc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ct(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ab{convertValue(e,i="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw mt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Or(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[jo].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>ce(d.doubleValue));return new bd(h)}convertGeoPoint(e){return new Sd(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Jo(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const i=wr(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=$t.fromString(e);qt(Z_(a));const u=new Ql(a.get(1),a.get(3)),h=new ft(a.popFirst(5));return u.isEqual(i)||Ii(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lb extends Nv{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Io(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Ov("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Io extends lb{data(e={}){return super.data(e)}}class ub{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new wo(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Io(this._firestore,this._userDataWriter,a.key,a,new wo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(p=>{const _=new Io(u._firestore,u._userDataWriter,p.doc.key,p.doc,new wo(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const _=new Io(u._firestore,u._userDataWriter,p.doc.key,p.doc,new wo(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,w=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),w=d.indexOf(p.doc.key)),{type:ob(p.type),doc:_,oldIndex:v,newIndex:w}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function ob(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}class cb extends ab{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,i)}}function hb(s){s=ga(s,oc);const e=ga(s.firestore,cc),i=Sv(e),a=new cb(e);return rb(s._query),Q1(i,s._query).then(u=>new ub(e,a,s,u))}function fb(s,e,i){s=ga(s,dn);const a=ga(s.firestore,cc),u=sb(s.converter,e);return Mv(a,[W1(wv(a),"setDoc",s._key,u,s.converter!==null,i).toMutation(s._key,ei.none())])}function db(s,e,i,...a){s=ga(s,dn);const u=ga(s.firestore,cc),h=wv(u);let d;return d=typeof(e=br(e))=="string"||e instanceof hc?eb(h,"updateDoc",s._key,e,i,a):tb(h,"updateDoc",s._key,e),Mv(u,[d.toMutation(s._key,ei.exists(!0))])}function Mv(s,e){return function(a,u){const h=new Ar;return a.asyncQueue.enqueueAndForget(async()=>O1(await H1(a),u,h)),h.promise}(Sv(s),e)}(function(e,i=!0){(function(u){As=u})(xT),Lo(new kl("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new cc(new $T(a.getProvider("auth-internal")),new tA(d,a.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ct(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(v.options.projectId,w)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),fs(Zp,$p,e),fs(Zp,$p,"esm2017")})();const mb={apiKey:"AIzaSyCW1GUYsDhD26rPfi_5kxp7BuJaAVFcXwI",authDomain:"teambuilder-4a75c.firebaseapp.com",projectId:"teambuilder-4a75c",storageBucket:"teambuilder-4a75c.firebasestorage.app",messagingSenderId:"973119314353",appId:"1:973119314353:web:57799fc07c80e055654590"},gb=t_(mb),Iv=Y1(gb),Df=Tv(Iv,"users").withConverter({toFirestore:s=>s,fromFirestore:s=>s.data()}),Il=Tv(Iv,"projects").withConverter({toFirestore:s=>s,fromFirestore:s=>s.data()}),Gy=async s=>(await hb(s)).docs.map(i=>({id:i.id,...i.data()})),Qy=async(s,e)=>{await fb(Av(s,e.id),e)},Do=async(s,e)=>{await db(Av(s,e.id),e)};function Fy({title:s,message:e,onClose:i}){return hn.useEffect(()=>{const a=setTimeout(()=>{i()},5e3);return()=>clearTimeout(a)},[i]),st.jsxs("div",{className:"toast",children:[st.jsx("div",{className:"toast-icon",children:"🎉"}),st.jsxs("div",{className:"toast-content",children:[st.jsx("div",{className:"toast-title",children:s}),st.jsx("div",{className:"toast-message",children:e})]})]})}const pb=[{title:"Умный планировщик питания",description:"Приложение, которое анализирует привычки питания, составляет персонализированное меню и автоматически заказывает продукты из ближайших магазинов. Интеграция с популярными службами доставки продуктов."},{title:"Маркетплейс локальных гидов",description:"Платформа для поиска местных гидов и уникальных экскурсий в городах России. Гиды могут создавать свои маршруты, а путешественники - выбирать экскурсии по интересам и бюджету."},{title:"Агрегатор детских кружков",description:"Сервис для поиска и записи детей на развивающие занятия, спортивные секции и творческие кружки. С отзывами родителей, рейтингом преподавателей и онлайн-оплатой."},{title:"Сервис аренды гаражных мастерских",description:"Платформа, где владельцы гаражей и мастерских могут сдавать их в почасовую аренду для ремонта автомобилей, столярных работ или других хобби. С инструментами и оборудованием."},{title:"Marketplace подержанной электроники",description:"Сервис перепродажи б/у электроники с проверкой технического состояния, гарантией и доставкой. Интеграция с сервисными центрами для диагностики и ремонта."}];function yb(){const[s,e]=hn.useState([]),[i,a]=hn.useState([]),[u,h]=hn.useState(null),[d,p]=hn.useState(""),[_,v]=hn.useState(""),[w,I]=hn.useState(""),[P,H]=hn.useState(!0),[X,W]=hn.useState([]),[Z,At]=hn.useState([]);hn.useEffect(()=>{(async()=>{try{const S=await Gy(Df),C=await Gy(Il);e(S),a(C)}catch(S){console.error("Error loading data:",S),ht("Error","Failed to load data. Please try again later.")}finally{H(!1)}})()},[]);const ht=(T,S)=>{const C=Date.now().toString();W(O=>[...O,{id:C,title:T,message:S}])},_t=T=>{W(S=>S.filter(C=>C.id!==T))},Ht=async()=>{if(!d.trim())return;const T={id:Date.now().toString(),name:d.trim(),description:"",celebratedProjects:[]};try{await Qy(Df,T),e(S=>[...S,T]),h(T),p("")}catch(S){console.error("Error creating user:",S),ht("Error","Failed to create user. Please try again.")}},vt=async()=>{if(!u||!_.trim())return;const T={id:Date.now().toString(),authorId:u.id,title:_.trim(),description:w.trim(),createdAt:Date.now(),applications:[],acceptedUsers:[],rejectedUsers:[]};try{await Qy(Il,T),a(S=>[...S,T]),v(""),I("")}catch(S){console.error("Error creating project:",S),ht("Error","Failed to create project. Please try again.")}},Ot=async T=>{if(!u)return;const S=i.find(O=>O.id===T);if(!S)return;const C={...S,applications:[...S.applications,u.id]};try{await Do(Il,C),a(O=>O.map(b=>b.id===T?C:b))}catch(O){console.error("Error applying to project:",O),ht("Error","Failed to apply to project. Please try again.")}},U=async(T,S)=>{const C=i.find(b=>b.id===T);if(!C)return;const O={...C,applications:C.applications.filter(b=>b!==S),acceptedUsers:[...C.acceptedUsers,S]};try{await Do(Il,O),a(b=>b.map(Qt=>Qt.id===T?O:Qt))}catch(b){console.error("Error accepting application:",b),ht("Error","Failed to accept application. Please try again.")}},D=async(T,S)=>{const C=i.find(b=>b.id===T);if(!C)return;const O={...C,applications:C.applications.filter(b=>b!==S),rejectedUsers:[...C.rejectedUsers,S]};try{await Do(Il,O),a(b=>b.map(Qt=>Qt.id===T?O:Qt))}catch(b){console.error("Error rejecting application:",b),ht("Error","Failed to reject application. Please try again.")}};return hn.useEffect(()=>{if(!u||!u.celebratedProjects)return;const T=[];if(i.forEach(S=>{S.acceptedUsers&&S.acceptedUsers.includes(u.id)&&!u.celebratedProjects.includes(S.id)&&!Z.includes(S.id)&&T.push({projectId:S.id,title:S.title})}),T.length>0){At(C=>[...C,...T.map(O=>O.projectId)]),T.forEach(C=>{ht("Поздравляем!",`Вас приняли в проект '${C.title}'!`)});const S={...u,celebratedProjects:[...u.celebratedProjects,...T.map(C=>C.projectId)]};Do(Df,S).then(()=>{e(C=>C.map(O=>O.id===u.id?S:O))}).catch(C=>{console.error("Error updating user celebrations:",C)})}},[u,i]),P?st.jsx("div",{className:"loading",children:"Loading..."}):u?st.jsxs("div",{className:"App",children:[st.jsx("div",{className:"toast-container",children:X.map(T=>st.jsx(Fy,{title:T.title,message:T.message,onClose:()=>_t(T.id)},T.id))}),st.jsxs("div",{className:"app",children:[st.jsxs("header",{children:[st.jsx("h1",{children:"Project Marketplace"}),st.jsxs("div",{className:"user-info",children:["Welcome, ",u.name,"!",st.jsx("button",{onClick:()=>h(null),children:"Logout"})]})]}),st.jsxs("div",{className:"create-project",children:[st.jsx("h2",{children:"Create New Project"}),st.jsxs("div",{className:"project-templates",children:[st.jsx("h3",{children:"Шаблоны проектов:"}),st.jsx("div",{className:"templates-grid",children:pb.map((T,S)=>st.jsx("button",{className:"template-button",onClick:()=>{v(T.title),I(T.description)},children:T.title},S))})]}),st.jsx("input",{type:"text",value:_,onChange:T=>v(T.target.value),placeholder:"Project Title"}),st.jsx("textarea",{value:w,onChange:T=>I(T.target.value),placeholder:"Project Description"}),st.jsx("button",{onClick:vt,children:"Publish Project"})]}),st.jsxs("div",{className:"projects-list",children:[st.jsx("h2",{children:"All Projects"}),i.map(T=>{var S,C,O,b,Qt,Jt,J;return st.jsxs("div",{className:"project-card",children:[st.jsx("h3",{children:T.title}),st.jsx("p",{children:T.description}),st.jsxs("p",{children:["Author: ",(S=s.find(at=>at.id===T.authorId))==null?void 0:S.name]}),T.authorId===u.id?st.jsxs("div",{className:"applications",children:[st.jsx("h4",{children:"Applications:"}),T.applications.map(at=>{const rt=s.find(Dt=>Dt.id===at);return rt?st.jsxs("div",{className:"application",children:[st.jsx("span",{children:rt.name}),st.jsx("button",{onClick:()=>U(T.id,at),children:"Accept"}),st.jsx("button",{onClick:()=>D(T.id,at),children:"Reject"})]},at):null}),(((C=T.acceptedUsers)==null?void 0:C.length)>0||((O=T.rejectedUsers)==null?void 0:O.length)>0)&&st.jsxs("div",{className:"applications-status",children:[((b=T.acceptedUsers)==null?void 0:b.length)>0&&st.jsxs("div",{className:"accepted-users",children:[st.jsx("h4",{children:"Принятые участники:"}),T.acceptedUsers.map(at=>{var rt;return st.jsxs("div",{className:"status-item accepted",children:["✅ ",(rt=s.find(Dt=>Dt.id===at))==null?void 0:rt.name]},at)})]}),((Qt=T.rejectedUsers)==null?void 0:Qt.length)>0&&st.jsxs("div",{className:"rejected-users",children:[st.jsx("h4",{children:"Отклоненные заявки:"}),T.rejectedUsers.map(at=>{var rt;return st.jsxs("div",{className:"status-item rejected",children:["❌ ",(rt=s.find(Dt=>Dt.id===at))==null?void 0:rt.name]},at)})]})]})]}):st.jsx("div",{className:"project-status",children:(Jt=T.acceptedUsers)!=null&&Jt.includes(u.id)?st.jsx("div",{className:"status-message accepted",children:"✅ Вы приняты в проект!"}):(J=T.rejectedUsers)!=null&&J.includes(u.id)?st.jsx("div",{className:"status-message rejected",children:"❌ Ваша заявка отклонена"}):st.jsx("button",{onClick:()=>Ot(T.id),disabled:T.applications.includes(u.id),children:T.applications.includes(u.id)?"Applied":"I Want This!"})})]},T.id)})]})]})]}):st.jsxs("div",{className:"App",children:[st.jsx("div",{className:"toast-container",children:X.map(T=>st.jsx(Fy,{title:T.title,message:T.message,onClose:()=>_t(T.id)},T.id))}),st.jsxs("div",{className:"welcome-screen",children:[st.jsx("h1",{children:"Welcome to Project Marketplace"}),st.jsxs("div",{className:"login-section",children:[st.jsxs("div",{className:"new-user",children:[st.jsx("input",{type:"text",value:d,onChange:T=>p(T.target.value),placeholder:"Enter new username"}),st.jsx("button",{onClick:Ht,children:"Create New User"})]}),st.jsxs("div",{className:"existing-users",children:[st.jsx("h2",{children:"Existing Users"}),st.jsx("div",{className:"users-list",children:s.map(T=>st.jsx("button",{onClick:()=>h(T),className:"user-button",children:T.name},T.id))})]})]})]})]})}d0.createRoot(document.getElementById("root")).render(st.jsx(hn.StrictMode,{children:st.jsx(yb,{})}));
