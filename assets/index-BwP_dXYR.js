(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var mf={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function a0(){if(Np)return Ol;Np=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Ol.Fragment=e,Ol.jsx=i,Ol.jsxs=i,Ol}var Op;function s0(){return Op||(Op=1,mf.exports=a0()),mf.exports}var W=s0(),gf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function l0(){if(Mp)return bt;Mp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.iterator;function P(V){return V===null||typeof V!="object"?null:(V=I&&V[I]||V["@@iterator"],typeof V=="function"?V:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,tt={};function Z(V,F,rt){this.props=V,this.context=F,this.refs=tt,this.updater=rt||H}Z.prototype.isReactComponent={},Z.prototype.setState=function(V,F){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,F,"setState")},Z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function At(){}At.prototype=Z.prototype;function gt(V,F,rt){this.props=V,this.context=F,this.refs=tt,this.updater=rt||H}var Et=gt.prototype=new At;Et.constructor=gt,$(Et,Z.prototype),Et.isPureReactComponent=!0;var Ct=Array.isArray,yt={H:null,A:null,T:null,S:null},It=Object.prototype.hasOwnProperty;function x(V,F,rt,et,nt,Rt){return rt=Rt.ref,{$$typeof:s,type:V,key:F,ref:rt!==void 0?rt:null,props:Rt}}function D(V,F){return x(V.type,F,void 0,void 0,void 0,V.props)}function S(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function C(V){var F={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(rt){return F[rt]})}var O=/\/+/g;function w(V,F){return typeof V=="object"&&V!==null&&V.key!=null?C(""+V.key):F.toString(36)}function A(){}function ht(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(A,A):(V.status="pending",V.then(function(F){V.status==="pending"&&(V.status="fulfilled",V.value=F)},function(F){V.status==="pending"&&(V.status="rejected",V.reason=F)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Tt(V,F,rt,et,nt){var Rt=typeof V;(Rt==="undefined"||Rt==="boolean")&&(V=null);var St=!1;if(V===null)St=!0;else switch(Rt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(V.$$typeof){case s:case e:St=!0;break;case R:return St=V._init,Tt(St(V._payload),F,rt,et,nt)}}if(St)return nt=nt(V),St=et===""?"."+w(V,0):et,Ct(nt)?(rt="",St!=null&&(rt=St.replace(O,"$&/")+"/"),Tt(nt,F,rt,"",function(ie){return ie})):nt!=null&&(S(nt)&&(nt=D(nt,rt+(nt.key==null||V&&V.key===nt.key?"":(""+nt.key).replace(O,"$&/")+"/")+St)),F.push(nt)),1;St=0;var he=et===""?".":et+":";if(Ct(V))for(var jt=0;jt<V.length;jt++)et=V[jt],Rt=he+w(et,jt),St+=Tt(et,F,rt,Rt,nt);else if(jt=P(V),typeof jt=="function")for(V=jt.call(V),jt=0;!(et=V.next()).done;)et=et.value,Rt=he+w(et,jt++),St+=Tt(et,F,rt,Rt,nt);else if(Rt==="object"){if(typeof V.then=="function")return Tt(ht(V),F,rt,et,nt);throw F=String(V),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return St}function X(V,F,rt){if(V==null)return V;var et=[],nt=0;return Tt(V,et,"","",function(Rt){return F.call(rt,Rt,nt++)}),et}function lt(V){if(V._status===-1){var F=V._result;F=F(),F.then(function(rt){(V._status===0||V._status===-1)&&(V._status=1,V._result=rt)},function(rt){(V._status===0||V._status===-1)&&(V._status=2,V._result=rt)}),V._status===-1&&(V._status=0,V._result=F)}if(V._status===1)return V._result.default;throw V._result}var ut=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Bt(){}return bt.Children={map:X,forEach:function(V,F,rt){X(V,function(){F.apply(this,arguments)},rt)},count:function(V){var F=0;return X(V,function(){F++}),F},toArray:function(V){return X(V,function(F){return F})||[]},only:function(V){if(!S(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},bt.Component=Z,bt.Fragment=i,bt.Profiler=u,bt.PureComponent=gt,bt.StrictMode=a,bt.Suspense=_,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,bt.act=function(){throw Error("act(...) is not supported in production builds of React.")},bt.cache=function(V){return function(){return V.apply(null,arguments)}},bt.cloneElement=function(V,F,rt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var et=$({},V.props),nt=V.key,Rt=void 0;if(F!=null)for(St in F.ref!==void 0&&(Rt=void 0),F.key!==void 0&&(nt=""+F.key),F)!It.call(F,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&F.ref===void 0||(et[St]=F[St]);var St=arguments.length-2;if(St===1)et.children=rt;else if(1<St){for(var he=Array(St),jt=0;jt<St;jt++)he[jt]=arguments[jt+2];et.children=he}return x(V.type,nt,void 0,void 0,Rt,et)},bt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},bt.createElement=function(V,F,rt){var et,nt={},Rt=null;if(F!=null)for(et in F.key!==void 0&&(Rt=""+F.key),F)It.call(F,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(nt[et]=F[et]);var St=arguments.length-2;if(St===1)nt.children=rt;else if(1<St){for(var he=Array(St),jt=0;jt<St;jt++)he[jt]=arguments[jt+2];nt.children=he}if(V&&V.defaultProps)for(et in St=V.defaultProps,St)nt[et]===void 0&&(nt[et]=St[et]);return x(V,Rt,void 0,void 0,null,nt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(V){return{$$typeof:g,render:V}},bt.isValidElement=S,bt.lazy=function(V){return{$$typeof:R,_payload:{_status:-1,_result:V},_init:lt}},bt.memo=function(V,F){return{$$typeof:v,type:V,compare:F===void 0?null:F}},bt.startTransition=function(V){var F=yt.T,rt={};yt.T=rt;try{var et=V(),nt=yt.S;nt!==null&&nt(rt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Bt,ut)}catch(Rt){ut(Rt)}finally{yt.T=F}},bt.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},bt.use=function(V){return yt.H.use(V)},bt.useActionState=function(V,F,rt){return yt.H.useActionState(V,F,rt)},bt.useCallback=function(V,F){return yt.H.useCallback(V,F)},bt.useContext=function(V){return yt.H.useContext(V)},bt.useDebugValue=function(){},bt.useDeferredValue=function(V,F){return yt.H.useDeferredValue(V,F)},bt.useEffect=function(V,F){return yt.H.useEffect(V,F)},bt.useId=function(){return yt.H.useId()},bt.useImperativeHandle=function(V,F,rt){return yt.H.useImperativeHandle(V,F,rt)},bt.useInsertionEffect=function(V,F){return yt.H.useInsertionEffect(V,F)},bt.useLayoutEffect=function(V,F){return yt.H.useLayoutEffect(V,F)},bt.useMemo=function(V,F){return yt.H.useMemo(V,F)},bt.useOptimistic=function(V,F){return yt.H.useOptimistic(V,F)},bt.useReducer=function(V,F,rt){return yt.H.useReducer(V,F,rt)},bt.useRef=function(V){return yt.H.useRef(V)},bt.useState=function(V){return yt.H.useState(V)},bt.useSyncExternalStore=function(V,F,rt){return yt.H.useSyncExternalStore(V,F,rt)},bt.useTransition=function(){return yt.H.useTransition()},bt.version="19.0.0",bt}var Ip;function Zf(){return Ip||(Ip=1,gf.exports=l0()),gf.exports}var Ge=Zf(),pf={exports:{}},Ml={},yf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function u0(){return xp||(xp=1,function(s){function e(X,lt){var ut=X.length;X.push(lt);t:for(;0<ut;){var Bt=ut-1>>>1,V=X[Bt];if(0<u(V,lt))X[Bt]=lt,X[ut]=V,ut=Bt;else break t}}function i(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var lt=X[0],ut=X.pop();if(ut!==lt){X[0]=ut;t:for(var Bt=0,V=X.length,F=V>>>1;Bt<F;){var rt=2*(Bt+1)-1,et=X[rt],nt=rt+1,Rt=X[nt];if(0>u(et,ut))nt<V&&0>u(Rt,et)?(X[Bt]=Rt,X[nt]=ut,Bt=nt):(X[Bt]=et,X[rt]=ut,Bt=rt);else if(nt<V&&0>u(Rt,ut))X[Bt]=Rt,X[nt]=ut,Bt=nt;else break t}}return lt}function u(X,lt){var ut=X.sortIndex-lt.sortIndex;return ut!==0?ut:X.id-lt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],R=1,I=null,P=3,H=!1,$=!1,tt=!1,Z=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Et(X){for(var lt=i(v);lt!==null;){if(lt.callback===null)a(v);else if(lt.startTime<=X)a(v),lt.sortIndex=lt.expirationTime,e(_,lt);else break;lt=i(v)}}function Ct(X){if(tt=!1,Et(X),!$)if(i(_)!==null)$=!0,ht();else{var lt=i(v);lt!==null&&Tt(Ct,lt.startTime-X)}}var yt=!1,It=-1,x=5,D=-1;function S(){return!(s.unstable_now()-D<x)}function C(){if(yt){var X=s.unstable_now();D=X;var lt=!0;try{t:{$=!1,tt&&(tt=!1,At(It),It=-1),H=!0;var ut=P;try{e:{for(Et(X),I=i(_);I!==null&&!(I.expirationTime>X&&S());){var Bt=I.callback;if(typeof Bt=="function"){I.callback=null,P=I.priorityLevel;var V=Bt(I.expirationTime<=X);if(X=s.unstable_now(),typeof V=="function"){I.callback=V,Et(X),lt=!0;break e}I===i(_)&&a(_),Et(X)}else a(_);I=i(_)}if(I!==null)lt=!0;else{var F=i(v);F!==null&&Tt(Ct,F.startTime-X),lt=!1}}break t}finally{I=null,P=ut,H=!1}lt=void 0}}finally{lt?O():yt=!1}}}var O;if(typeof gt=="function")O=function(){gt(C)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,A=w.port2;w.port1.onmessage=C,O=function(){A.postMessage(null)}}else O=function(){Z(C,0)};function ht(){yt||(yt=!0,O())}function Tt(X,lt){It=Z(function(){X(s.unstable_now())},lt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(X){X.callback=null},s.unstable_continueExecution=function(){$||H||($=!0,ht())},s.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<X?Math.floor(1e3/X):5},s.unstable_getCurrentPriorityLevel=function(){return P},s.unstable_getFirstCallbackNode=function(){return i(_)},s.unstable_next=function(X){switch(P){case 1:case 2:case 3:var lt=3;break;default:lt=P}var ut=P;P=lt;try{return X()}finally{P=ut}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(X,lt){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ut=P;P=X;try{return lt()}finally{P=ut}},s.unstable_scheduleCallback=function(X,lt,ut){var Bt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Bt+ut:Bt):ut=Bt,X){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ut+V,X={id:R++,callback:lt,priorityLevel:X,startTime:ut,expirationTime:V,sortIndex:-1},ut>Bt?(X.sortIndex=ut,e(v,X),i(_)===null&&X===i(v)&&(tt?(At(It),It=-1):tt=!0,Tt(Ct,ut-Bt))):(X.sortIndex=V,e(_,X),$||H||($=!0,ht())),X},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(X){var lt=P;return function(){var ut=P;P=lt;try{return X.apply(this,arguments)}finally{P=ut}}}}(_f)),_f}var Up;function o0(){return Up||(Up=1,yf.exports=u0()),yf.exports}var vf={exports:{}},qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function c0(){if(zp)return qe;zp=1;var s=Zf();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)v+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,R){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:I==null?null:""+I,children:_,containerInfo:v,implementation:R}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,qe.createPortal=function(_,v){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,R)},qe.flushSync=function(_){var v=d.T,R=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=R,a.d.f()}},qe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},qe.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},qe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var R=v.as,I=g(R,v.crossOrigin),P=typeof v.integrity=="string"?v.integrity:void 0,H=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;R==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:I,integrity:P,fetchPriority:H}):R==="script"&&a.d.X(_,{crossOrigin:I,integrity:P,fetchPriority:H,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},qe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var R=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},qe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var R=v.as,I=g(R,v.crossOrigin);a.d.L(_,R,{crossOrigin:I,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},qe.preloadModule=function(_,v){if(typeof _=="string")if(v){var R=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},qe.requestFormReset=function(_){a.d.r(_)},qe.unstable_batchedUpdates=function(_,v){return _(v)},qe.useFormState=function(_,v,R){return d.H.useFormState(_,v,R)},qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},qe.version="19.0.0",qe}var Lp;function h0(){if(Lp)return vf.exports;Lp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),vf.exports=c0(),vf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function f0(){if(Pp)return Ml;Pp=1;var s=o0(),e=Zf(),i=h0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),H=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),At=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),Et=Symbol.for("react.offscreen"),Ct=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function It(t){return t===null||typeof t!="object"?null:(t=yt&&t[yt]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function D(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case g:return"Portal";case R:return"Profiler";case v:return"StrictMode";case tt:return"Suspense";case Z:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case H:return(t.displayName||"Context")+".Provider";case P:return(t._context.displayName||"Context")+".Consumer";case $:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case At:return n=t.displayName||null,n!==null?n:D(t.type)||"Memo";case gt:n=t._payload,t=t._init;try{return D(t(n))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,O,w;function A(t){if(O===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);O=n&&n[1]||"",w=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+t+w}var ht=!1;function Tt(t,n){if(!t||ht)return"";ht=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(k){var B=k}Reflect.construct(t,[],K)}else{try{K.call()}catch(k){B=k}t.call(K.prototype)}}else{try{throw Error()}catch(k){B=k}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),M=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===M.length)for(l=b.length-1,c=M.length-1;1<=l&&0<=c&&b[l]!==M[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==M[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==M[c]){var q=`
`+b[l].replace(" at new "," at ");return t.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",t.displayName)),q}while(1<=l&&0<=c);break}}}finally{ht=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?A(r):""}function X(t){switch(t.tag){case 26:case 27:case 5:return A(t.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 15:return t=Tt(t.type,!1),t;case 11:return t=Tt(t.type.render,!1),t;case 1:return t=Tt(t.type,!0),t;default:return""}}function lt(t){try{var n="";do n+=X(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ut(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function Bt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function V(t){if(ut(t)!==t)throw Error(a(188))}function F(t){var n=t.alternate;if(!n){if(n=ut(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return V(c),t;if(f===l)return V(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function rt(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=rt(t),n!==null)return n;t=t.sibling}return null}var et=Array.isArray,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},St=[],he=-1;function jt(t){return{current:t}}function ie(t){0>he||(t.current=St[he],St[he]=null,he--)}function Ft(t,n){he++,St[he]=t.current,t.current=n}var Ke=jt(null),ai=jt(null),mn=jt(null),Ui=jt(null);function zi(t,n){switch(Ft(mn,n),Ft(ai,t),Ft(Ke,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?ap(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=ap(t),n=sp(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(Ke),Ft(Ke,n)}function si(){ie(Ke),ie(ai),ie(mn)}function ws(t){t.memoizedState!==null&&Ft(Ui,t);var n=Ke.current,r=sp(n,t.type);n!==r&&(Ft(ai,t),Ft(Ke,r))}function _a(t){ai.current===t&&(ie(Ke),ie(ai)),Ui.current===t&&(ie(Ui),wl._currentValue=Rt)}var va=Object.prototype.hasOwnProperty,Ir=s.unstable_scheduleCallback,Ea=s.unstable_cancelCallback,gc=s.unstable_shouldYield,Ds=s.unstable_requestPaint,We=s.unstable_now,tu=s.unstable_getCurrentPriorityLevel,pe=s.unstable_ImmediatePriority,Re=s.unstable_UserBlockingPriority,li=s.unstable_NormalPriority,eu=s.unstable_LowPriority,Cs=s.unstable_IdlePriority,pc=s.log,xr=s.unstable_setDisableYieldValue,Li=null,je=null;function Vs(t){if(je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Li,t,void 0,(t.current.flags&128)===128)}catch{}}function Ln(t){if(typeof pc=="function"&&xr(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Li,t)}catch{}}var Ye=Math.clz32?Math.clz32:iu,Ns=Math.log,nu=Math.LN2;function iu(t){return t>>>=0,t===0?32:31-(Ns(t)/nu|0)|0}var Pn=128,Pi=4194304;function On(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=On(r):(f&=E,f!==0?l=On(f):t||(y=E&~y,y!==0&&(l=On(y))))):(E=r&~c,E!==0?l=On(E):f!==0?l=On(f):t||(y=r&~y,y!==0&&(l=On(y)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function Bi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ta(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Os(){var t=Pn;return Pn<<=1,(Pn&4194176)===0&&(Pn=128),t}function ji(){var t=Pi;return Pi<<=1,(Pi&62914560)===0&&(Pi=4194304),t}function Aa(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ue(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ru(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,M=t.hiddenUpdates;for(r=y&~r;0<r;){var q=31-Ye(r),K=1<<q;E[q]=0,b[q]=-1;var B=M[q];if(B!==null)for(M[q]=null,q=0;q<B.length;q++){var k=B[q];k!==null&&(k.lane&=-536870913)}r&=~K}l!==0&&ki(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function ki(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function qi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ye(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function au(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function su(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:bp(t.type))}function Hi(t,n){var r=nt.p;try{return nt.p=t,n()}finally{nt.p=r}}var Bn=Math.random().toString(36).slice(2),we="__reactFiber$"+Bn,ye="__reactProps$"+Bn,ui="__reactContainer$"+Bn,Ur="__reactEvents$"+Bn,Sa="__reactListeners$"+Bn,jn="__reactHandles$"+Bn,Ms="__reactResources$"+Bn,Gi="__reactMarker$"+Bn;function zr(t){delete t[we],delete t[ye],delete t[Ur],delete t[Sa],delete t[jn]}function Mn(t){var n=t[we];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ui]||r[we]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=op(t);t!==null;){if(r=t[we])return r;t=op(t)}return n}t=r,r=t.parentNode}return null}function oi(t){if(t=t[we]||t[ui]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Qi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Fi(t){var n=t[Ms];return n||(n=t[Ms]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Wt(t){t[Gi]=!0}var Is=new Set,ba={};function an(t,n){tn(t,n),tn(t+"Capture",n)}function tn(t,n){for(ba[t]=n,t=0;t<n.length;t++)Is.add(n[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xs={},Us={};function lu(t){return va.call(Us,t)?!0:va.call(xs,t)?!1:yc.test(t)?Us[t]=!0:(xs[t]=!0,!1)}function Ki(t,n,r){if(lu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Yi(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function pn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uu(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _c(t){var n=uu(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Lr(t){t._valueTracker||(t._valueTracker=_c(t))}function zs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=uu(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ra(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ci=/[\n"\\]/g;function re(t){return t.replace(ci,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Xi(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?wa(t,y,Xe(n)):r!=null?wa(t,y,Xe(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function Pr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function wa(t,n,r){n==="number"&&Ra(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function kt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Br(t,n,r){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Xe(r):""}function Zi(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(et(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Xe(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var vc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ls(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||vc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function ou(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Ls(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Ls(t,f,n[f])}function Ps(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kn(t){return Tc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var _n=null;function Da(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,fi=null;function di(t){var n=oi(t);if(n&&(t=n.stateNode)){var r=t[ye]||null;t:switch(t=n.stateNode,n.type){case"input":if(Xi(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+re(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ye]||null;if(!c)throw Error(a(90));Xi(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&zs(l)}break t;case"textarea":Br(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&kt(t,!!r.multiple,n,!1)}}}var Bs=!1;function cu(t,n,r){if(Bs)return t(n,r);Bs=!0;try{var l=t(n);return l}finally{if(Bs=!1,(hi!==null||fi!==null)&&(eo(),hi&&(n=hi,t=fi,fi=hi=null,di(n),t)))for(n=0;n<t.length;n++)di(t[n])}}function jr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ye]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var vn=!1;if(sn)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{vn=!1}var qn=null,$i=null,mi=null;function js(){if(mi)return mi;var t,n=$i,r=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function ks(){return!1}function De(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:ks,this.isPropagationStopped=ks,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=De(Gt),qr=C({},Gt,{view:0,detail:0}),hu=De(qr),Va,Na,Qn,Hr=C({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Va=t.screenX-Qn.screenX,Na=t.screenY-Qn.screenY):Na=Va=0,Qn=t),Va)},movementY:function(t){return"movementY"in t?t.movementY:Na}}),En=De(Hr),fu=C({},Hr,{dataTransfer:0}),Ac=De(fu),Gr=C({},qr,{relatedTarget:0}),Oa=De(Gr),qs=C({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ma=De(qs),du=C({},Gt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ia=De(du),Sc=C({},Gt,{data:0}),Hs=De(Sc),Qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=gu[t])?!!n[t]:!1}function Fr(){return Gs}var pu=C({},qr,{key:function(t){if(t.key){var n=Qr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xa=De(pu),yu=C({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qs=De(yu),gi=C({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),_u=De(gi),vu=C({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eu=De(vu),Tu=C({},Hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=De(Tu),Ze=C({},Gt,{newState:0,oldState:0}),Au=De(Ze),Su=[9,13,27,32],Fn=sn&&"CompositionEvent"in window,o=null;sn&&"documentMode"in document&&(o=document.documentMode);var m=sn&&"TextEvent"in window&&!o,p=sn&&(!Fn||o&&8<o&&11>=o),T=" ",z=!1;function j(t,n){switch(t){case"keyup":return Su.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xt=!1;function _e(t,n){switch(t){case"compositionend":return J(n);case"keypress":return n.which!==32?null:(z=!0,T);case"textInput":return t=n.data,t===T&&z?null:t;default:return null}}function Ut(t,n){if(xt)return t==="compositionend"||!Fn&&j(t,n)?(t=js(),mi=$i=qn=null,xt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function pi(t,n,r,l){hi?fi?fi.push(l):fi=[l]:hi=l,n=so(n,"onChange"),0<n.length&&(r=new Ca("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ie=null,Kn=null;function Fs(t){tp(t,0)}function bu(t){var n=Qi(t);if(zs(n))return t}function Vd(t,n){if(t==="change")return n}var Nd=!1;if(sn){var bc;if(sn){var Rc="oninput"in document;if(!Rc){var Od=document.createElement("div");Od.setAttribute("oninput","return;"),Rc=typeof Od.oninput=="function"}bc=Rc}else bc=!1;Nd=bc&&(!document.documentMode||9<document.documentMode)}function Md(){Ie&&(Ie.detachEvent("onpropertychange",Id),Kn=Ie=null)}function Id(t){if(t.propertyName==="value"&&bu(Kn)){var n=[];pi(n,Kn,t,Da(t)),cu(Fs,n)}}function Uv(t,n,r){t==="focusin"?(Md(),Ie=n,Kn=r,Ie.attachEvent("onpropertychange",Id)):t==="focusout"&&Md()}function zv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bu(Kn)}function Lv(t,n){if(t==="click")return bu(n)}function Pv(t,n){if(t==="input"||t==="change")return bu(n)}function Bv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:Bv;function Ks(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!va.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function xd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ud(t,n){var r=xd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=xd(r)}}function zd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?zd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ld(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ra(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ra(t.document)}return n}function wc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function jv(t,n){var r=Ld(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&zd(n.ownerDocument.documentElement,n)){if(l!==null&&wc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=Ud(n,f);var y=Ud(n,l);c&&y&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var kv=sn&&"documentMode"in document&&11>=document.documentMode,za=null,Dc=null,Ys=null,Cc=!1;function Pd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Cc||za==null||za!==Ra(l)||(l=za,"selectionStart"in l&&wc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ys&&Ks(Ys,l)||(Ys=l,l=so(Dc,"onSelect"),0<l.length&&(n=new Ca("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=za)))}function Kr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var La={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},Vc={},Bd={};sn&&(Bd=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Yr(t){if(Vc[t])return Vc[t];if(!La[t])return t;var n=La[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Bd)return Vc[t]=n[r];return t}var jd=Yr("animationend"),kd=Yr("animationiteration"),qd=Yr("animationstart"),qv=Yr("transitionrun"),Hv=Yr("transitionstart"),Gv=Yr("transitioncancel"),Hd=Yr("transitionend"),Gd=new Map,Qd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function In(t,n){Gd.set(t,n),an(n,[t])}var Tn=[],Pa=0,Nc=0;function Ru(){for(var t=Pa,n=Nc=Pa=0;n<t;){var r=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Fd(r,c,f)}}function wu(t,n,r,l){Tn[Pa++]=t,Tn[Pa++]=n,Tn[Pa++]=r,Tn[Pa++]=l,Nc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Oc(t,n,r,l){return wu(t,n,r,l),Du(t)}function Ji(t,n){return wu(t,null,null,n),Du(t)}function Fd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Ye(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function Du(t){if(50<vl)throw vl=0,Lh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ba={},Kd=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var r=Kd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:lt(n)},Kd.set(t,n),n)}return{value:t,source:n,stack:lt(n)}}var ja=[],ka=0,Cu=null,Vu=0,Sn=[],bn=0,Xr=null,yi=1,_i="";function Zr(t,n){ja[ka++]=Vu,ja[ka++]=Cu,Cu=t,Vu=n}function Yd(t,n,r){Sn[bn++]=yi,Sn[bn++]=_i,Sn[bn++]=Xr,Xr=t;var l=yi;t=_i;var c=32-Ye(l)-1;l&=~(1<<c),r+=1;var f=32-Ye(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,yi=1<<32-Ye(n)+c|r<<c|l,_i=f+t}else yi=1<<f|r<<c|l,_i=t}function Mc(t){t.return!==null&&(Zr(t,1),Yd(t,1,0))}function Ic(t){for(;t===Cu;)Cu=ja[--ka],ja[ka]=null,Vu=ja[--ka],ja[ka]=null;for(;t===Xr;)Xr=Sn[--bn],Sn[bn]=null,_i=Sn[--bn],Sn[bn]=null,yi=Sn[--bn],Sn[bn]=null}var $e=null,xe=null,qt=!1,xn=null,Yn=!1,xc=Error(a(519));function $r(t){var n=Error(a(418,""));throw $s(An(n,t)),xc}function Xd(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[we]=t,n[ye]=l,r){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(r=0;r<Tl.length;r++)Ot(Tl[r],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),Pr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Lr(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),Zi(n,l.value,l.defaultValue,l.children),Lr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||rp(n.textContent,r)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=lo),n=!0):n=!1,n||$r(t)}function Zd(t){for($e=t.return;$e;)switch($e.tag){case 3:case 27:Yn=!0;return;case 5:case 13:Yn=!1;return;default:$e=$e.return}}function Xs(t){if(t!==$e)return!1;if(!qt)return Zd(t),qt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||tf(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&xe&&$r(t),Zd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){xe=zn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}xe=null}}else xe=$e?zn(t.stateNode.nextSibling):null;return!0}function Zs(){xe=$e=null,qt=!1}function $s(t){xn===null?xn=[t]:xn.push(t)}var Js=Error(a(460)),$d=Error(a(474)),Uc={then:function(){}};function Jd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Nu(){}function Wd(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Nu,Nu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Js?Error(a(483)):t;default:if(typeof n.status=="string")n.then(Nu,Nu);else{if(t=Zt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Js?Error(a(483)):t}throw Ws=n,Js}}var Ws=null;function tm(){if(Ws===null)throw Error(a(459));var t=Ws;return Ws=null,t}var qa=null,tl=0;function Ou(t){var n=tl;return tl+=1,qa===null&&(qa=[]),Wd(qa,t,n)}function el(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Mu(t,n){throw n.$$typeof===h?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function em(t){var n=t._init;return n(t._payload)}function nm(t){function n(U,N){if(t){var L=U.deletions;L===null?(U.deletions=[N],U.flags|=16):L.push(N)}}function r(U,N){if(!t)return null;for(;N!==null;)n(U,N),N=N.sibling;return null}function l(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function c(U,N){return U=cr(U,N),U.index=0,U.sibling=null,U}function f(U,N,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<N?(U.flags|=33554434,N):L):(U.flags|=33554434,N)):(U.flags|=1048576,N)}function y(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function E(U,N,L,G){return N===null||N.tag!==6?(N=Vh(L,U.mode,G),N.return=U,N):(N=c(N,L),N.return=U,N)}function b(U,N,L,G){var at=L.type;return at===_?q(U,N,L.props.children,G,L.key):N!==null&&(N.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===gt&&em(at)===N.type)?(N=c(N,L.props),el(N,L),N.return=U,N):(N=Zu(L.type,L.key,L.props,null,U.mode,G),el(N,L),N.return=U,N)}function M(U,N,L,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Nh(L,U.mode,G),N.return=U,N):(N=c(N,L.children||[]),N.return=U,N)}function q(U,N,L,G,at){return N===null||N.tag!==7?(N=la(L,U.mode,G,at),N.return=U,N):(N=c(N,L),N.return=U,N)}function K(U,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Vh(""+N,U.mode,L),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case d:return L=Zu(N.type,N.key,N.props,null,U.mode,L),el(L,N),L.return=U,L;case g:return N=Nh(N,U.mode,L),N.return=U,N;case gt:var G=N._init;return N=G(N._payload),K(U,N,L)}if(et(N)||It(N))return N=la(N,U.mode,L,null),N.return=U,N;if(typeof N.then=="function")return K(U,Ou(N),L);if(N.$$typeof===H)return K(U,Ku(U,N),L);Mu(U,N)}return null}function B(U,N,L,G){var at=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return at!==null?null:E(U,N,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d:return L.key===at?b(U,N,L,G):null;case g:return L.key===at?M(U,N,L,G):null;case gt:return at=L._init,L=at(L._payload),B(U,N,L,G)}if(et(L)||It(L))return at!==null?null:q(U,N,L,G,null);if(typeof L.then=="function")return B(U,N,Ou(L),G);if(L.$$typeof===H)return B(U,N,Ku(U,L),G);Mu(U,L)}return null}function k(U,N,L,G,at){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(L)||null,E(N,U,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return U=U.get(G.key===null?L:G.key)||null,b(N,U,G,at);case g:return U=U.get(G.key===null?L:G.key)||null,M(N,U,G,at);case gt:var Dt=G._init;return G=Dt(G._payload),k(U,N,L,G,at)}if(et(G)||It(G))return U=U.get(L)||null,q(N,U,G,at,null);if(typeof G.then=="function")return k(U,N,L,Ou(G),at);if(G.$$typeof===H)return k(U,N,L,Ku(N,G),at);Mu(N,G)}return null}function st(U,N,L,G){for(var at=null,Dt=null,ot=N,dt=N=0,Oe=null;ot!==null&&dt<L.length;dt++){ot.index>dt?(Oe=ot,ot=null):Oe=ot.sibling;var Ht=B(U,ot,L[dt],G);if(Ht===null){ot===null&&(ot=Oe);break}t&&ot&&Ht.alternate===null&&n(U,ot),N=f(Ht,N,dt),Dt===null?at=Ht:Dt.sibling=Ht,Dt=Ht,ot=Oe}if(dt===L.length)return r(U,ot),qt&&Zr(U,dt),at;if(ot===null){for(;dt<L.length;dt++)ot=K(U,L[dt],G),ot!==null&&(N=f(ot,N,dt),Dt===null?at=ot:Dt.sibling=ot,Dt=ot);return qt&&Zr(U,dt),at}for(ot=l(ot);dt<L.length;dt++)Oe=k(ot,U,dt,L[dt],G),Oe!==null&&(t&&Oe.alternate!==null&&ot.delete(Oe.key===null?dt:Oe.key),N=f(Oe,N,dt),Dt===null?at=Oe:Dt.sibling=Oe,Dt=Oe);return t&&ot.forEach(function(yr){return n(U,yr)}),qt&&Zr(U,dt),at}function _t(U,N,L,G){if(L==null)throw Error(a(151));for(var at=null,Dt=null,ot=N,dt=N=0,Oe=null,Ht=L.next();ot!==null&&!Ht.done;dt++,Ht=L.next()){ot.index>dt?(Oe=ot,ot=null):Oe=ot.sibling;var yr=B(U,ot,Ht.value,G);if(yr===null){ot===null&&(ot=Oe);break}t&&ot&&yr.alternate===null&&n(U,ot),N=f(yr,N,dt),Dt===null?at=yr:Dt.sibling=yr,Dt=yr,ot=Oe}if(Ht.done)return r(U,ot),qt&&Zr(U,dt),at;if(ot===null){for(;!Ht.done;dt++,Ht=L.next())Ht=K(U,Ht.value,G),Ht!==null&&(N=f(Ht,N,dt),Dt===null?at=Ht:Dt.sibling=Ht,Dt=Ht);return qt&&Zr(U,dt),at}for(ot=l(ot);!Ht.done;dt++,Ht=L.next())Ht=k(ot,U,dt,Ht.value,G),Ht!==null&&(t&&Ht.alternate!==null&&ot.delete(Ht.key===null?dt:Ht.key),N=f(Ht,N,dt),Dt===null?at=Ht:Dt.sibling=Ht,Dt=Ht);return t&&ot.forEach(function(r0){return n(U,r0)}),qt&&Zr(U,dt),at}function le(U,N,L,G){if(typeof L=="object"&&L!==null&&L.type===_&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case d:t:{for(var at=L.key;N!==null;){if(N.key===at){if(at=L.type,at===_){if(N.tag===7){r(U,N.sibling),G=c(N,L.props.children),G.return=U,U=G;break t}}else if(N.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===gt&&em(at)===N.type){r(U,N.sibling),G=c(N,L.props),el(G,L),G.return=U,U=G;break t}r(U,N);break}else n(U,N);N=N.sibling}L.type===_?(G=la(L.props.children,U.mode,G,L.key),G.return=U,U=G):(G=Zu(L.type,L.key,L.props,null,U.mode,G),el(G,L),G.return=U,U=G)}return y(U);case g:t:{for(at=L.key;N!==null;){if(N.key===at)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){r(U,N.sibling),G=c(N,L.children||[]),G.return=U,U=G;break t}else{r(U,N);break}else n(U,N);N=N.sibling}G=Nh(L,U.mode,G),G.return=U,U=G}return y(U);case gt:return at=L._init,L=at(L._payload),le(U,N,L,G)}if(et(L))return st(U,N,L,G);if(It(L)){if(at=It(L),typeof at!="function")throw Error(a(150));return L=at.call(L),_t(U,N,L,G)}if(typeof L.then=="function")return le(U,N,Ou(L),G);if(L.$$typeof===H)return le(U,N,Ku(U,L),G);Mu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(r(U,N.sibling),G=c(N,L),G.return=U,U=G):(r(U,N),G=Vh(L,U.mode,G),G.return=U,U=G),y(U)):r(U,N)}return function(U,N,L,G){try{tl=0;var at=le(U,N,L,G);return qa=null,at}catch(ot){if(ot===Js)throw ot;var Dt=Cn(29,ot,null,U.mode);return Dt.lanes=G,Dt.return=U,Dt}finally{}}}var Jr=nm(!0),im=nm(!1),Ha=jt(null),Iu=jt(0);function rm(t,n){t=Vi,Ft(Iu,t),Ft(Ha,n),Vi=t|n.baseLanes}function zc(){Ft(Iu,Vi),Ft(Ha,Ha.current)}function Lc(){Vi=Iu.current,ie(Ha),ie(Iu)}var Rn=jt(null),Xn=null;function Wi(t){var n=t.alternate;Ft(Ee,Ee.current&1),Ft(Rn,t),Xn===null&&(n===null||Ha.current!==null||n.memoizedState!==null)&&(Xn=t)}function am(t){if(t.tag===22){if(Ft(Ee,Ee.current),Ft(Rn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else tr()}function tr(){Ft(Ee,Ee.current),Ft(Rn,Rn.current)}function vi(t){ie(Rn),Xn===t&&(Xn=null),ie(Ee)}var Ee=jt(0);function xu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Fv=s.unstable_scheduleCallback,Kv=s.unstable_NormalPriority,Te={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pc(){return{controller:new Qv,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&Fv(Kv,function(){t.controller.abort()})}var il=null,Bc=0,Ga=0,Qa=null;function Yv(t,n){if(il===null){var r=il=[];Bc=0,Ga=Qh(),Qa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Bc++,n.then(sm,sm),n}function sm(){if(--Bc===0&&il!==null){Qa!==null&&(Qa.status="fulfilled");var t=il;il=null,Ga=0,Qa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Xv(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var lm=S.S;S.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Yv(t,n),lm!==null&&lm(t,n)};var Wr=jt(null);function jc(){var t=Wr.current;return t!==null?t:Zt.pooledCache}function Uu(t,n){n===null?Ft(Wr,Wr.current):Ft(Wr,n.pool)}function um(){var t=jc();return t===null?null:{parent:Te._currentValue,pool:t}}var er=0,wt=null,Kt=null,fe=null,zu=!1,Fa=!1,ta=!1,Lu=0,rl=0,Ka=null,Zv=0;function oe(){throw Error(a(321))}function kc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function qc(t,n,r,l,c,f){return er=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=t===null||t.memoizedState===null?ea:nr,ta=!1,f=r(l,c),ta=!1,Fa&&(f=cm(n,r,l,c)),om(t),f}function om(t){S.H=Zn;var n=Kt!==null&&Kt.next!==null;if(er=0,fe=Kt=wt=null,zu=!1,rl=0,Ka=null,n)throw Error(a(300));t===null||Ve||(t=t.dependencies,t!==null&&Fu(t)&&(Ve=!0))}function cm(t,n,r,l){wt=t;var c=0;do{if(Fa&&(Ka=null),rl=0,Fa=!1,25<=c)throw Error(a(301));if(c+=1,fe=Kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=na,f=n(r,l)}while(Fa);return f}function $v(){var t=S.H,n=t.useState()[0];return n=typeof n.then=="function"?al(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(wt.flags|=1024),n}function Hc(){var t=Lu!==0;return Lu=0,t}function Gc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Qc(t){if(zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}zu=!1}er=0,fe=Kt=wt=null,Fa=!1,rl=Lu=0,Ka=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?wt.memoizedState=fe=t:fe=fe.next=t,fe}function de(){if(Kt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=fe===null?wt.memoizedState:fe.next;if(n!==null)fe=n,Kt=t;else{if(t===null)throw wt.alternate===null?Error(a(467)):Error(a(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},fe===null?wt.memoizedState=fe=t:fe=fe.next=t}return fe}var Pu;Pu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function al(t){var n=rl;return rl+=1,Ka===null&&(Ka=[]),t=Wd(Ka,t,n),n=wt,(fe===null?n.memoizedState:fe.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?ea:nr),t}function Bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===H)return ke(t)}throw Error(a(438,String(t)))}function Fc(t){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Pu(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=Ct;return n.index++,r}function Ei(t,n){return typeof n=="function"?n(t):n}function ju(t){var n=de();return Kc(n,Kt,t)}function Kc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,M=n,q=!1;do{var K=M.lane&-536870913;if(K!==M.lane?(zt&K)===K:(er&K)===K){var B=M.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),K===Ga&&(q=!0);else if((er&B)===B){M=M.next,B===Ga&&(q=!0);continue}else K={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},b===null?(E=b=K,y=f):b=b.next=K,wt.lanes|=B,hr|=B;K=M.action,ta&&r(f,K),f=M.hasEagerState?M.eagerState:r(f,K)}else B={lane:K,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,wt.lanes|=K,hr|=K;M=M.next}while(M!==null&&M!==n);if(b===null?y=f:b.next=E,!ln(f,t.memoizedState)&&(Ve=!0,q&&(r=Qa,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Yc(t){var n=de(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);ln(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function hm(t,n,r){var l=wt,c=de(),f=qt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!ln((Kt||c).memoizedState,r);if(y&&(c.memoizedState=r,Ve=!0),c=c.queue,$c(mm.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||fe!==null&&fe.memoizedState.tag&1){if(l.flags|=2048,Ya(9,dm.bind(null,l,c,r,n),{destroy:void 0},null),Zt===null)throw Error(a(349));f||(er&60)!==0||fm(l,n,r)}return r}function fm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=Pu(),wt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function dm(t,n,r,l){n.value=r,n.getSnapshot=l,gm(n)&&pm(t)}function mm(t,n,r){return r(function(){gm(n)&&pm(t)})}function gm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function pm(t){var n=Ji(t,2);n!==null&&Je(n,t,2)}function Xc(t){var n=en();if(typeof t=="function"){var r=t;if(t=r(),ta){Ln(!0);try{r()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function ym(t,n,r,l){return t.baseState=r,Kc(t,Kt,typeof l=="function"?l:Ei)}function Jv(t,n,r,l,c){if(Hu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};S.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,_m(n,f)):(f.next=r.next,n.pending=r.next=f)}}function _m(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=S.T,y={};S.T=y;try{var E=r(c,l),b=S.S;b!==null&&b(y,E),vm(t,n,E)}catch(M){Zc(t,n,M)}finally{S.T=f}}else try{f=r(c,l),vm(t,n,f)}catch(M){Zc(t,n,M)}}function vm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Em(t,n,l)},function(l){return Zc(t,n,l)}):Em(t,n,r)}function Em(t,n,r){n.status="fulfilled",n.value=r,Tm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,_m(t,r)))}function Zc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Tm(n),n=n.next;while(n!==l)}t.action=null}function Tm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Am(t,n){return n}function Sm(t,n){if(qt){var r=Zt.formState;if(r!==null){t:{var l=wt;if(qt){if(xe){e:{for(var c=xe,f=Yn;c.nodeType!==8;){if(!f){c=null;break e}if(c=zn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){xe=zn(c.nextSibling),l=c.data==="F!";break t}}$r(l)}l=!1}l&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Am,lastRenderedState:n},r.queue=l,r=km.bind(null,wt,l),l.dispatch=r,l=Xc(!1),f=nh.bind(null,wt,!1,l.queue),l=en(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=Jv.bind(null,wt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function bm(t){var n=de();return Rm(n,Kt,t)}function Rm(t,n,r){n=Kc(t,n,Am)[0],t=ju(Ei)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?al(n):n;var l=de(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(wt.flags|=2048,Ya(9,Wv.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function Wv(t,n){t.action=n}function wm(t){var n=de(),r=Kt;if(r!==null)return Rm(n,r,t);de(),n=n.memoizedState,r=de();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ya(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=wt.updateQueue,n===null&&(n=Pu(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Dm(){return de().memoizedState}function ku(t,n,r,l){var c=en();wt.flags|=t,c.memoizedState=Ya(1|n,r,{destroy:void 0},l===void 0?null:l)}function qu(t,n,r,l){var c=de();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&kc(l,Kt.memoizedState.deps)?c.memoizedState=Ya(n,r,f,l):(wt.flags|=t,c.memoizedState=Ya(1|n,r,f,l))}function Cm(t,n){ku(8390656,8,t,n)}function $c(t,n){qu(2048,8,t,n)}function Vm(t,n){return qu(4,2,t,n)}function Nm(t,n){return qu(4,4,t,n)}function Om(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Mm(t,n,r){r=r!=null?r.concat([t]):null,qu(4,4,Om.bind(null,n,t),r)}function Jc(){}function Im(t,n){var r=de();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&kc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function xm(t,n){var r=de();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&kc(n,l[1]))return l[0];if(l=t(),ta){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[l,n],l}function Wc(t,n,r){return r===void 0||(er&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=zg(),wt.lanes|=t,hr|=t,r)}function Um(t,n,r,l){return ln(r,n)?r:Ha.current!==null?(t=Wc(t,r,l),ln(t,n)||(Ve=!0),t):(er&42)===0?(Ve=!0,t.memoizedState=r):(t=zg(),wt.lanes|=t,hr|=t,n)}function zm(t,n,r,l,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=S.T,E={};S.T=E,nh(t,!1,n,r);try{var b=c(),M=S.S;if(M!==null&&M(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var q=Xv(b,l);sl(t,n,q,hn(t))}else sl(t,n,l,hn(t))}catch(K){sl(t,n,{then:function(){},status:"rejected",reason:K},hn())}finally{nt.p=f,S.T=y}}function tE(){}function th(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Lm(t).queue;zm(t,c,n,Rt,r===null?tE:function(){return Pm(t),r(l)})}function Lm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:Rt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Pm(t){var n=Lm(t).next.queue;sl(t,n,{},hn())}function eh(){return ke(wl)}function Bm(){return de().memoizedState}function jm(){return de().memoizedState}function eE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=ar(r);var l=sr(n,t,r);l!==null&&(Je(l,n,r),ol(l,n,r)),n={cache:Pc()},t.payload=n;return}n=n.return}}function nE(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Hu(t)?qm(n,r):(r=Oc(t,n,r,l),r!==null&&(Je(r,t,l),Hm(r,n,l)))}function km(t,n,r){var l=hn();sl(t,n,r,l)}function sl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hu(t))qm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,ln(E,y))return wu(t,n,c,0),Zt===null&&Ru(),!1}catch{}finally{}if(r=Oc(t,n,c,l),r!==null)return Je(r,t,l),Hm(r,n,l),!0}return!1}function nh(t,n,r,l){if(l={lane:2,revertLane:Qh(),action:l,hasEagerState:!1,eagerState:null,next:null},Hu(t)){if(n)throw Error(a(479))}else n=Oc(t,r,l,2),n!==null&&Je(n,t,2)}function Hu(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function qm(t,n){Fa=zu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Hm(t,n,r){if((r&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qi(t,r)}}var Zn={readContext:ke,use:Bu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe};Zn.useCacheRefresh=oe,Zn.useMemoCache=oe,Zn.useHostTransitionStatus=oe,Zn.useFormState=oe,Zn.useActionState=oe,Zn.useOptimistic=oe;var ea={readContext:ke,use:Bu,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:Cm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ku(4194308,4,Om.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ku(4194308,4,t,n)},useInsertionEffect:function(t,n){ku(4,2,t,n)},useMemo:function(t,n){var r=en();n=n===void 0?null:n;var l=t();if(ta){Ln(!0);try{t()}finally{Ln(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=en();if(r!==void 0){var c=r(n);if(ta){Ln(!0);try{r(n)}finally{Ln(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=nE.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=Xc(t);var n=t.queue,r=km.bind(null,wt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Jc,useDeferredValue:function(t,n){var r=en();return Wc(r,t,n)},useTransition:function(){var t=Xc(!1);return t=zm.bind(null,wt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=wt,c=en();if(qt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Zt===null)throw Error(a(349));(zt&60)!==0||fm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Cm(mm.bind(null,l,f,t),[t]),l.flags|=2048,Ya(9,dm.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=en(),n=Zt.identifierPrefix;if(qt){var r=_i,l=yi;r=(l&~(1<<32-Ye(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Lu++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Zv++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return en().memoizedState=eE.bind(null,wt)}};ea.useMemoCache=Fc,ea.useHostTransitionStatus=eh,ea.useFormState=Sm,ea.useActionState=Sm,ea.useOptimistic=function(t){var n=en();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=nh.bind(null,wt,!0,r),r.dispatch=n,[t,n]};var nr={readContext:ke,use:Bu,useCallback:Im,useContext:ke,useEffect:$c,useImperativeHandle:Mm,useInsertionEffect:Vm,useLayoutEffect:Nm,useMemo:xm,useReducer:ju,useRef:Dm,useState:function(){return ju(Ei)},useDebugValue:Jc,useDeferredValue:function(t,n){var r=de();return Um(r,Kt.memoizedState,t,n)},useTransition:function(){var t=ju(Ei)[0],n=de().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:hm,useId:Bm};nr.useCacheRefresh=jm,nr.useMemoCache=Fc,nr.useHostTransitionStatus=eh,nr.useFormState=bm,nr.useActionState=bm,nr.useOptimistic=function(t,n){var r=de();return ym(r,Kt,t,n)};var na={readContext:ke,use:Bu,useCallback:Im,useContext:ke,useEffect:$c,useImperativeHandle:Mm,useInsertionEffect:Vm,useLayoutEffect:Nm,useMemo:xm,useReducer:Yc,useRef:Dm,useState:function(){return Yc(Ei)},useDebugValue:Jc,useDeferredValue:function(t,n){var r=de();return Kt===null?Wc(r,t,n):Um(r,Kt.memoizedState,t,n)},useTransition:function(){var t=Yc(Ei)[0],n=de().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:hm,useId:Bm};na.useCacheRefresh=jm,na.useMemoCache=Fc,na.useHostTransitionStatus=eh,na.useFormState=wm,na.useActionState=wm,na.useOptimistic=function(t,n){var r=de();return Kt!==null?ym(r,Kt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function ih(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:C({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var rh={isMounted:function(t){return(t=t._reactInternals)?ut(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=ar(l);c.payload=n,r!=null&&(c.callback=r),n=sr(t,c,l),n!==null&&(Je(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=ar(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=sr(t,c,l),n!==null&&(Je(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=ar(r);l.tag=2,n!=null&&(l.callback=n),n=sr(t,l,r),n!==null&&(Je(n,t,r),ol(n,t,r))}};function Gm(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ks(r,l)||!Ks(c,f):!0}function Qm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&rh.enqueueReplaceState(n,n.state,null)}function ia(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=C({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Fm(t){Gu(t)}function Km(t){console.error(t)}function Ym(t){Gu(t)}function Qu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Xm(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ah(t,n,r){return r=ar(r),r.tag=3,r.payload={element:null},r.callback=function(){Qu(t,n)},r}function Zm(t){return t=ar(t),t.tag=3,t}function $m(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Xm(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Xm(n,r,l),typeof c!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function iE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ul(n,r,c,!0),r=Rn.current,r!==null){switch(r.tag){case 13:return Xn===null?jh():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Uc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),qh(t,l,c)),!1;case 22:return r.flags|=65536,l===Uc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),qh(t,l,c)),!1}throw Error(a(435,r.tag))}return qh(t,l,c),jh(),!1}if(qt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==xc&&(t=Error(a(422),{cause:l}),$s(An(t,r)))):(l!==xc&&(n=Error(a(423),{cause:l}),$s(An(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=An(l,r),c=ah(t.stateNode,l,c),Eh(t,c),se!==4&&(se=2)),!1;var f=Error(a(520),{cause:l});if(f=An(f,r),yl===null?yl=[f]:yl.push(f),se!==4&&(se=2),n===null)return!0;l=An(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=ah(r.stateNode,l,t),Eh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(fr===null||!fr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Zm(c),$m(c,t,r,l),Eh(r,c),!1}r=r.return}while(r!==null);return!1}var Jm=Error(a(461)),Ve=!1;function Ue(t,n,r,l){n.child=t===null?im(n,null,r,l):Jr(n,t.child,r,l)}function Wm(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return aa(n),l=qc(t,n,r,y,f,c),E=Hc(),t!==null&&!Ve?(Gc(t,n,c),Ti(t,n,c)):(qt&&E&&Mc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function tg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Ch(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,eg(t,n,f,l,c)):(t=Zu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!mh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ks,r(y,l)&&t.ref===n.ref)return Ti(t,n,c)}return n.flags|=1,t=cr(f,l),t.ref=n.ref,t.return=n,n.child=t}function eg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Ks(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,mh(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Ti(t,n,c)}return sh(t,n,r,l,c)}function ng(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(ll(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=y!==null?y.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return ig(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,y!==null?y.cachePool:null),y!==null?rm(n,y):zc(),am(n);else return n.lanes=n.childLanes=536870912,ig(t,n,y!==null?y.baseLanes|r:r,r)}else y!==null?(Uu(n,y.cachePool),rm(n,y),tr(),n.memoizedState=null):(t!==null&&Uu(n,null),zc(),tr());return Ue(t,n,c,r),n.child}function ig(t,n,r,l){var c=jc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Uu(n,null),zc(),am(n),t!==null&&ul(t,n,l,!0),null}function ll(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function sh(t,n,r,l,c){return aa(n),r=qc(t,n,r,l,void 0,c),l=Hc(),t!==null&&!Ve?(Gc(t,n,c),Ti(t,n,c)):(qt&&l&&Mc(n),n.flags|=1,Ue(t,n,r,c),n.child)}function rg(t,n,r,l,c,f){return aa(n),n.updateQueue=null,r=cm(n,l,r,c),om(t),l=Hc(),t!==null&&!Ve?(Gc(t,n,f),Ti(t,n,f)):(qt&&l&&Mc(n),n.flags|=1,Ue(t,n,r,f),n.child)}function ag(t,n,r,l,c){if(aa(n),n.stateNode===null){var f=Ba,y=r.contextType;typeof y=="object"&&y!==null&&(f=ke(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},_h(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?ke(y):Ba,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(ih(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&rh.enqueueReplaceState(f,f.state,null),hl(n,l,f,c),cl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ia(r,E);f.props=b;var M=f.context,q=r.contextType;y=Ba,typeof q=="object"&&q!==null&&(y=ke(q));var K=r.getDerivedStateFromProps;q=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||M!==y)&&Qm(n,f,l,y),rr=!1;var B=n.memoizedState;f.state=B,hl(n,l,f,c),cl(),M=n.memoizedState,E||B!==M||rr?(typeof K=="function"&&(ih(n,r,K,l),M=n.memoizedState),(b=rr||Gm(n,r,b,l,B,M,y))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=M),f.props=l,f.state=M,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,vh(t,n),y=n.memoizedProps,q=ia(r,y),f.props=q,K=n.pendingProps,B=f.context,M=r.contextType,b=Ba,typeof M=="object"&&M!==null&&(b=ke(M)),E=r.getDerivedStateFromProps,(M=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||B!==b)&&Qm(n,f,l,b),rr=!1,B=n.memoizedState,f.state=B,hl(n,l,f,c),cl();var k=n.memoizedState;y!==K||B!==k||rr||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof E=="function"&&(ih(n,r,E,l),k=n.memoizedState),(q=rr||Gm(n,r,q,l,B,k,b)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(M||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=b,l=q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ll(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Jr(n,t.child,null,c),n.child=Jr(n,null,r,c)):Ue(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ti(t,n,c),t}function sg(t,n,r,l){return Zs(),n.flags|=256,Ue(t,n,r,l),n.child}var lh={dehydrated:null,treeContext:null,retryLane:0};function uh(t){return{baseLanes:t,cachePool:um()}}function oh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Vn),t}function lg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(qt){if(c?Wi(n):tr(),qt){var E=xe,b;if(b=E){t:{for(b=E,E=Yn;b.nodeType!==8;){if(!E){E=null;break t}if(b=zn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Xr!==null?{id:yi,overflow:_i}:null,retryLane:536870912},b=Cn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,$e=n,xe=null,b=!0):b=!1}b||$r(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;vi(n)}return E=l.children,l=l.fallback,c?(tr(),c=n.mode,E=hh({mode:"hidden",children:E},c),l=la(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=uh(r),c.childLanes=oh(t,y,r),n.memoizedState=lh,l):(Wi(n),ch(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Wi(n),n.flags&=-257,n=fh(t,n,r)):n.memoizedState!==null?(tr(),n.child=t.child,n.flags|=128,n=null):(tr(),c=l.fallback,E=n.mode,l=hh({mode:"visible",children:l.children},E),c=la(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Jr(n,t.child,null,r),l=n.child,l.memoizedState=uh(r),l.childLanes=oh(t,y,r),n.memoizedState=lh,n=c);else if(Wi(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var M=y.dgst;y=M,l=Error(a(419)),l.stack="",l.digest=y,$s({value:l,source:null,stack:null}),n=fh(t,n,r)}else if(Ve||ul(t,n,r,!1),y=(r&t.childLanes)!==0,Ve||y){if(y=Zt,y!==null){if(l=r&-r,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,Ji(t,l),Je(y,t,l),Jm}E.data==="$?"||jh(),n=fh(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=_E.bind(null,t),E._reactRetry=n,n=null):(t=b.treeContext,xe=zn(E.nextSibling),$e=n,qt=!0,xn=null,Yn=!1,t!==null&&(Sn[bn++]=yi,Sn[bn++]=_i,Sn[bn++]=Xr,yi=t.id,_i=t.overflow,Xr=n),n=ch(n,l.children),n.flags|=4096);return n}return c?(tr(),c=l.fallback,E=n.mode,b=t.child,M=b.sibling,l=cr(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,M!==null?c=cr(M,c):(c=la(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=uh(r):(b=E.cachePool,b!==null?(M=Te._currentValue,b=b.parent!==M?{parent:M,pool:M}:b):b=um(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=oh(t,y,r),n.memoizedState=lh,l):(Wi(n),r=t.child,t=r.sibling,r=cr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function ch(t,n){return n=hh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function hh(t,n){return Ig(t,n,0,null)}function fh(t,n,r){return Jr(n,t.child,null,r),t=ch(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ug(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ph(t.return,n,r)}function dh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function og(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,r),l=Ee.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ug(t,r,n);else if(t.tag===19)ug(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ft(Ee,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&xu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),dh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&xu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}dh(n,!0,r,null,f);break;case"together":dh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ti(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),hr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ul(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=cr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=cr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function mh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function rE(t,n,r){switch(n.tag){case 3:zi(n,n.stateNode.containerInfo),ir(n,Te,t.memoizedState.cache),Zs();break;case 27:case 5:ws(n);break;case 4:zi(n,n.stateNode.containerInfo);break;case 10:ir(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Wi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?lg(t,n,r):(Wi(n),t=Ti(t,n,r),t!==null?t.sibling:null);Wi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ul(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return og(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ft(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,ng(t,n,r);case 24:ir(n,Te,t.memoizedState.cache)}return Ti(t,n,r)}function cg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!mh(t,r)&&(n.flags&128)===0)return Ve=!1,rE(t,n,r);Ve=(t.flags&131072)!==0}else Ve=!1,qt&&(n.flags&1048576)!==0&&Yd(n,Vu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Ch(l)?(t=ia(l,t),n.tag=1,n=ag(null,n,l,t,r)):(n.tag=0,n=sh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===$){n.tag=11,n=Wm(null,n,l,t,r);break t}else if(c===At){n.tag=14,n=tg(null,n,l,t,r);break t}}throw n=D(l)||l,Error(a(306,n,""))}}return n;case 0:return sh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ia(l,n.pendingProps),ag(t,n,l,c,r);case 3:t:{if(zi(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,vh(t,n),hl(n,f,null,r);var y=n.memoizedState;if(f=y.cache,ir(n,Te,f),f!==c.cache&&yh(n,[Te],r,!0),cl(),f=y.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=sg(t,n,f,r);break t}else if(f!==l){l=An(Error(a(424)),n),$s(l),n=sg(t,n,f,r);break t}else for(xe=zn(n.stateNode.containerInfo.firstChild),$e=n,qt=!0,xn=null,Yn=!0,r=im(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zs(),f===l){n=Ti(t,n,r);break t}Ue(t,n,f,r)}n=n.child}return n;case 26:return ll(t,n),t===null?(r=dp(n.type,null,n.pendingProps,null))?n.memoizedState=r:qt||(r=n.type,t=n.pendingProps,l=uo(mn.current).createElement(r),l[we]=n,l[ye]=t,ze(l,r,t),Wt(l),n.stateNode=l):n.memoizedState=dp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ws(n),t===null&&qt&&(l=n.stateNode=cp(n.type,n.pendingProps,mn.current),$e=n,Yn=!0,xe=zn(l.firstChild)),l=n.pendingProps.children,t!==null||qt?Ue(t,n,l,r):n.child=Jr(n,null,l,r),ll(t,n),n.child;case 5:return t===null&&qt&&((c=l=xe)&&(l=xE(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,$e=n,xe=zn(l.firstChild),Yn=!1,c=!0):c=!1),c||$r(n)),ws(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,tf(c,f)?l=null:y!==null&&tf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=qc(t,n,$v,null,null,r),wl._currentValue=c),ll(t,n),Ue(t,n,l,r),n.child;case 6:return t===null&&qt&&((t=r=xe)&&(r=UE(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,$e=n,xe=null,t=!0):t=!1),t||$r(n)),null;case 13:return lg(t,n,r);case 4:return zi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Jr(n,null,l,r):Ue(t,n,l,r),n.child;case 11:return Wm(t,n,n.type,n.pendingProps,r);case 7:return Ue(t,n,n.pendingProps,r),n.child;case 8:return Ue(t,n,n.pendingProps.children,r),n.child;case 12:return Ue(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ir(n,n.type,l.value),Ue(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,aa(n),c=ke(c),l=l(c),n.flags|=1,Ue(t,n,l,r),n.child;case 14:return tg(t,n,n.type,n.pendingProps,r);case 15:return eg(t,n,n.type,n.pendingProps,r);case 19:return og(t,n,r);case 22:return ng(t,n,r);case 24:return aa(n),l=ke(Te),t===null?(c=jc(),c===null&&(c=Zt,f=Pc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},_h(n),ir(n,Te,c)):((t.lanes&r)!==0&&(vh(t,n),hl(n,null,null,r),cl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ir(n,Te,l)):(l=f.cache,ir(n,Te,l),l!==c.cache&&yh(n,[Te],r,!0))),Ue(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var gh=jt(null),ra=null,Ai=null;function ir(t,n,r){Ft(gh,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=gh.current,ie(gh)}function ph(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function yh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),ph(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),ph(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ul(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;ln(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ui.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}c=c.return}t!==null&&yh(n,t,r,l),n.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function aa(t){ra=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return hg(ra,t)}function Ku(t,n){return ra===null&&aa(t),hg(t,n)}function hg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(a(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var rr=!1;function _h(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ar(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function sr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ee&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Du(t),Fd(t,null,r),n}return wu(t,l,n,r),Du(t)}function ol(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qi(t,r)}}function Eh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Th=!1;function cl(){if(Th){var t=Qa;if(t!==null)throw t}}function hl(t,n,r,l){Th=!1;var c=t.updateQueue;rr=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,M=b.next;b.next=null,y===null?f=M:y.next=M,y=b;var q=t.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==y&&(E===null?q.firstBaseUpdate=M:E.next=M,q.lastBaseUpdate=b))}if(f!==null){var K=c.baseState;y=0,q=M=b=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(zt&B)===B:(l&B)===B){B!==0&&B===Ga&&(Th=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=t,_t=E;B=n;var le=r;switch(_t.tag){case 1:if(st=_t.payload,typeof st=="function"){K=st.call(le,K,B);break t}K=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=_t.payload,B=typeof st=="function"?st.call(le,K,B):st,B==null)break t;K=C({},K,B);break t;case 2:rr=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(M=q=k,b=K):q=q.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);q===null&&(b=K),c.baseState=b,c.firstBaseUpdate=M,c.lastBaseUpdate=q,f===null&&(c.shared.lanes=0),hr|=y,t.lanes=y,t.memoizedState=K}}function fg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function dg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)fg(r[t],n)}function fl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function lr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r;try{E()}catch(M){Xt(c,b,M)}}}l=l.next}while(l!==f)}}catch(M){Xt(n,n.return,M)}}function mg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{dg(n,r)}catch(l){Xt(t,t.return,l)}}}function gg(t,n,r){r.props=ia(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function sa(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Xt(t,n,f)}}function un(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function pg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function yg(t,n,r){try{var l=t.stateNode;VE(l,t.type,r,n),l[ye]=n}catch(c){Xt(t,t.return,c)}}function _g(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Ah(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||_g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=lo));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Sh(t,n,r),t=t.sibling;t!==null;)Sh(t,n,r),t=t.sibling}function Yu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Yu(t,n,r),t=t.sibling;t!==null;)Yu(t,n,r),t=t.sibling}var bi=!1,ae=!1,bh=!1,vg=typeof WeakSet=="function"?WeakSet:Set,Ne=null,Eg=!1;function aE(t,n){if(t=t.containerInfo,Jh=go,t=Ld(t),wc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,M=0,q=0,K=t,B=null;e:for(;;){for(var k;K!==r||c!==0&&K.nodeType!==3||(E=y+c),K!==f||l!==0&&K.nodeType!==3||(b=y+l),K.nodeType===3&&(y+=K.nodeValue.length),(k=K.firstChild)!==null;)B=K,K=k;for(;;){if(K===t)break e;if(B===r&&++M===c&&(E=y),B===f&&++q===l&&(b=y),(k=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=k}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wh={focusedElem:t,selectionRange:r},go=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var st=ia(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(st,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_t){Xt(r,r.return,_t)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)rf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}return st=Eg,Eg=!1,st}function Tg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:wi(t,r),l&4&&fl(5,r);break;case 1:if(wi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Xt(r,r.return,E)}else{var c=ia(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Xt(r,r.return,E)}}l&64&&mg(r),l&512&&sa(r,r.return);break;case 3:if(wi(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{dg(l,t)}catch(E){Xt(r,r.return,E)}}break;case 26:wi(t,r),l&512&&sa(r,r.return);break;case 27:case 5:wi(t,r),n===null&&l&4&&pg(r),l&512&&sa(r,r.return);break;case 12:wi(t,r);break;case 13:wi(t,r),l&4&&bg(t,r);break;case 22:if(c=r.memoizedState!==null||bi,!c){n=n!==null&&n.memoizedState!==null||ae;var f=bi,y=ae;bi=c,(ae=n)&&!y?ur(t,r,(r.subtreeFlags&8772)!==0):wi(t,r),bi=f,ae=y}l&512&&(r.memoizedProps.mode==="manual"?sa(r,r.return):un(r,r.return));break;default:wi(t,r)}}function Ag(t){var n=t.alternate;n!==null&&(t.alternate=null,Ag(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&zr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var me=null,on=!1;function Ri(t,n,r){for(r=r.child;r!==null;)Sg(t,n,r),r=r.sibling}function Sg(t,n,r){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Li,r)}catch{}switch(r.tag){case 26:ae||un(r,n),Ri(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ae||un(r,n);var l=me,c=on;for(me=r.stateNode,Ri(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);zr(r),me=l,on=c;break;case 5:ae||un(r,n);case 6:c=me;var f=on;if(me=null,Ri(t,n,r),me=c,on=f,me!==null)if(on)try{t=me,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Xt(r,n,y)}else try{me.removeChild(r.stateNode)}catch(y){Xt(r,n,y)}break;case 18:me!==null&&(on?(n=me,r=r.stateNode,n.nodeType===8?nf(n.parentNode,r):n.nodeType===1&&nf(n,r),Nl(n)):nf(me,r.stateNode));break;case 4:l=me,c=on,me=r.stateNode.containerInfo,on=!0,Ri(t,n,r),me=l,on=c;break;case 0:case 11:case 14:case 15:ae||lr(2,r,n),ae||lr(4,r,n),Ri(t,n,r);break;case 1:ae||(un(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&gg(r,n,l)),Ri(t,n,r);break;case 21:Ri(t,n,r);break;case 22:ae||un(r,n),ae=(l=ae)||r.memoizedState!==null,Ri(t,n,r),ae=l;break;default:Ri(t,n,r)}}function bg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Nl(t)}catch(r){Xt(n,n.return,r)}}function sE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new vg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new vg),n;default:throw Error(a(435,t.tag))}}function Rh(t,n){var r=sE(t);n.forEach(function(l){var c=vE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function wn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:me=E.stateNode,on=!1;break t;case 3:me=E.stateNode.containerInfo,on=!0;break t;case 4:me=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(me===null)throw Error(a(160));Sg(f,y,c),me=null,on=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Rg(n,t),n=n.sibling}var Un=null;function Rg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(n,t),Dn(t),l&4&&(lr(3,t,t.return),fl(3,t),lr(5,t,t.return));break;case 1:wn(n,t),Dn(t),l&512&&(ae||r===null||un(r,r.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Un;if(wn(n,t),Dn(t),l&512&&(ae||r===null||un(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Gi]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[we]=t,Wt(f),l=f;break t;case"link":var y=pp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(y=pp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[we]=t,Wt(f),l=f}t.stateNode=l}else yp(c,t.type,t.stateNode);else t.stateNode=gp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?yp(c,t.type,t.stateNode):gp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var b=c.firstChild;b;){var M=b.nextSibling,q=b.nodeName;b[Gi]||q==="HEAD"||q==="BODY"||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=M}for(var K=t.type,B=c.attributes;B.length;)c.removeAttributeNode(B[0]);ze(c,K,f),c[we]=t,c[ye]=f}catch(st){Xt(t,t.return,st)}}case 5:if(wn(n,t),Dn(t),l&512&&(ae||r===null||un(r,r.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(st){Xt(t,t.return,st)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,yg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(bh=!0);break;case 6:if(wn(n,t),Dn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(st){Xt(t,t.return,st)}}break;case 3:if(ho=null,c=Un,Un=oo(n.containerInfo),wn(n,t),Un=c,Dn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Nl(n.containerInfo)}catch(st){Xt(t,t.return,st)}bh&&(bh=!1,wg(t));break;case 4:l=Un,Un=oo(t.stateNode.containerInfo),wn(n,t),Dn(t),Un=l;break;case 12:wn(n,t),Dn(t);break;case 13:wn(n,t),Dn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(xh=We()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rh(t,l)));break;case 22:if(l&512&&(ae||r===null||un(r,r.return)),b=t.memoizedState!==null,M=r!==null&&r.memoizedState!==null,q=bi,K=ae,bi=q||b,ae=K||M,wn(n,t),ae=K,bi=q,Dn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=bi||ae,r===null||M||n||Xa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){M=r=n;try{if(c=M.stateNode,b)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=M.stateNode,E=M.memoizedProps.style;var k=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(st){Xt(M,M.return,st)}}}else if(n.tag===6){if(r===null){M=n;try{M.stateNode.nodeValue=b?"":M.memoizedProps}catch(st){Xt(M,M.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Rh(t,r))));break;case 19:wn(n,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rh(t,l)));break;case 21:break;default:wn(n,t),Dn(t)}}function Dn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(_g(r)){var l=r;break t}r=r.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,f=Ah(t);Yu(t,f,c);break;case 5:var y=l.stateNode;l.flags&32&&(yn(y,""),l.flags&=-33);var E=Ah(t);Yu(t,E,y);break;case 3:case 4:var b=l.stateNode.containerInfo,M=Ah(t);Sh(t,M,b);break;default:throw Error(a(161))}}}catch(q){Xt(t,t.return,q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function wg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;wg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Tg(t,n.alternate,n),n=n.sibling}function Xa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:lr(4,n,n.return),Xa(n);break;case 1:un(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&gg(n,n.return,r),Xa(n);break;case 26:case 27:case 5:un(n,n.return),Xa(n);break;case 22:un(n,n.return),n.memoizedState===null&&Xa(n);break;default:Xa(n)}t=t.sibling}}function ur(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ur(c,f,r),fl(4,f);break;case 1:if(ur(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(M){Xt(l,l.return,M)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)fg(b[c],E)}catch(M){Xt(l,l.return,M)}}r&&y&64&&mg(f),sa(f,f.return);break;case 26:case 27:case 5:ur(c,f,r),r&&l===null&&y&4&&pg(f),sa(f,f.return);break;case 12:ur(c,f,r);break;case 13:ur(c,f,r),r&&y&4&&bg(c,f);break;case 22:f.memoizedState===null&&ur(c,f,r),sa(f,f.return);break;default:ur(c,f,r)}n=n.sibling}}function wh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&nl(r))}function Dh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t))}function or(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dg(t,n,r,l),n=n.sibling}function Dg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:or(t,n,r,l),c&2048&&fl(9,n);break;case 3:or(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t)));break;case 12:if(c&2048){or(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else or(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?or(t,n,r,l):dl(t,n):f._visibility&4?or(t,n,r,l):(f._visibility|=4,Za(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&wh(n.alternate,n);break;case 24:or(t,n,r,l),c&2048&&Dh(n.alternate,n);break;default:or(t,n,r,l)}}function Za(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,M=y.flags;switch(y.tag){case 0:case 11:case 15:Za(f,y,E,b,c),fl(8,y);break;case 23:break;case 22:var q=y.stateNode;y.memoizedState!==null?q._visibility&4?Za(f,y,E,b,c):dl(f,y):(q._visibility|=4,Za(f,y,E,b,c)),c&&M&2048&&wh(y.alternate,y);break;case 24:Za(f,y,E,b,c),c&&M&2048&&Dh(y.alternate,y);break;default:Za(f,y,E,b,c)}n=n.sibling}}function dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:dl(r,l),c&2048&&wh(l.alternate,l);break;case 24:dl(r,l),c&2048&&Dh(l.alternate,l);break;default:dl(r,l)}n=n.sibling}}var ml=8192;function $a(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)Cg(t),t=t.sibling}function Cg(t){switch(t.tag){case 26:$a(t),t.flags&ml&&t.memoizedState!==null&&YE(Un,t.memoizedState,t.memoizedProps);break;case 5:$a(t);break;case 3:case 4:var n=Un;Un=oo(t.stateNode.containerInfo),$a(t),Un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ml,ml=16777216,$a(t),ml=n):$a(t));break;default:$a(t)}}function Vg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function gl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,Og(l,t)}Vg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ng(t),t=t.sibling}function Ng(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&lr(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Xu(t)):gl(t);break;default:gl(t)}}function Xu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,Og(l,t)}Vg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:lr(8,n,n.return),Xu(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Xu(n));break;default:Xu(n)}t=t.sibling}}function Og(t,n){for(;Ne!==null;){var r=Ne;switch(r.tag){case 0:case 11:case 15:lr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ne=l;else t:for(r=t;Ne!==null;){l=Ne;var c=l.sibling,f=l.return;if(Ag(l),l===r){Ne=null;break t}if(c!==null){c.return=f,Ne=c;break t}Ne=f}}}function lE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,n,r,l){return new lE(t,n,r,l)}function Ch(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cr(t,n){var r=t.alternate;return r===null?(r=Cn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Mg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Zu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Ch(t)&&(y=1);else if(typeof t=="string")y=FE(t,r,Ke.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return la(r.children,c,f,n);case v:y=8,c|=24;break;case R:return t=Cn(12,r,n,c|2),t.elementType=R,t.lanes=f,t;case tt:return t=Cn(13,r,n,c),t.elementType=tt,t.lanes=f,t;case Z:return t=Cn(19,r,n,c),t.elementType=Z,t.lanes=f,t;case Et:return Ig(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I:case H:y=10;break t;case P:y=9;break t;case $:y=11;break t;case At:y=14;break t;case gt:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Cn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function la(t,n,r,l){return t=Cn(7,t,l,n),t.lanes=r,t}function Ig(t,n,r,l){t=Cn(22,t,l,n),t.elementType=Et,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(a(456));if((c._pendingVisibility&2)===0){var y=Ji(f,2);y!==null&&(c._pendingVisibility|=2,Je(y,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(a(456));if((c._pendingVisibility&2)!==0){var y=Ji(f,2);y!==null&&(c._pendingVisibility&=-3,Je(y,f,2))}}};return t.stateNode=c,t}function Vh(t,n,r){return t=Cn(6,t,null,n),t.lanes=r,t}function Nh(t,n,r){return n=Cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Di(t){t.flags|=4}function xg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!_p(n)){if(n=Rn.current,n!==null&&((zt&4194176)===zt?Xn!==null:(zt&62914560)!==zt&&(zt&536870912)===0||n!==Xn))throw Ws=Uc,$d;t.flags|=8192}}function $u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ji():536870912,t.lanes|=n,Wa|=n)}function pl(t,n){if(!qt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function uE(t,n,r){var l=n.pendingProps;switch(Ic(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Te),si(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xs(n)?Di(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,xn!==null&&(Ph(xn),xn=null))),te(n),null;case 26:return r=n.memoizedState,t===null?(Di(n),r!==null?(te(n),xg(n,r)):(te(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Di(n),te(n),xg(n,r)):(te(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),te(n),n.flags&=-16777217),null;case 27:_a(n),r=mn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return te(n),null}t=Ke.current,Xs(n)?Xd(n):(t=cp(c,l,r),n.stateNode=t,Di(n))}return te(n),null;case 5:if(_a(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return te(n),null}if(t=Ke.current,Xs(n))Xd(n);else{switch(c=uo(mn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[we]=n,t[ye]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return te(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=mn.current,Xs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[we]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||rp(t.nodeValue,r)),t||$r(n)}else t=uo(t).createTextNode(l),t[we]=n,n.stateNode=t}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Xs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[we]=n}else Zs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else xn!==null&&(Ph(xn),xn=null),c=!0;if(!c)return n.flags&256?(vi(n),n):(vi(n),null)}if(vi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),$u(n,n.updateQueue),te(n),null;case 4:return si(),t===null&&Xh(n.stateNode.containerInfo),te(n),null;case 10:return Si(n.type),te(n),null;case 19:if(ie(Ee),c=n.memoizedState,c===null)return te(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)pl(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=xu(t),f!==null){for(n.flags|=128,pl(c,!1),t=f.updateQueue,n.updateQueue=t,$u(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Mg(r,t),r=r.sibling;return Ft(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&We()>Ju&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304)}else{if(!l)if(t=xu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,$u(n,t),pl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!qt)return te(n),null}else 2*We()-c.renderingStartTime>Ju&&r!==536870912&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=We(),n.sibling=null,t=Ee.current,Ft(Ee,l?t&1|2:t&1),n):(te(n),null);case 22:case 23:return vi(n),Lc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),r=n.updateQueue,r!==null&&$u(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ie(Wr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Te),te(n),null;case 25:return null}throw Error(a(156,n.tag))}function oE(t,n){switch(Ic(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Te),si(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return _a(n),null;case 13:if(vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Zs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ie(Ee),null;case 4:return si(),null;case 10:return Si(n.type),null;case 22:case 23:return vi(n),Lc(),t!==null&&ie(Wr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Te),null;case 25:return null;default:return null}}function Ug(t,n){switch(Ic(n),n.tag){case 3:Si(Te),si();break;case 26:case 27:case 5:_a(n);break;case 4:si();break;case 13:vi(n);break;case 19:ie(Ee);break;case 10:Si(n.type);break;case 22:case 23:vi(n),Lc(),t!==null&&ie(Wr);break;case 24:Si(Te)}}var cE={getCacheForType:function(t){var n=ke(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},hE=typeof WeakMap=="function"?WeakMap:Map,ee=0,Zt=null,Vt=null,zt=0,$t=0,cn=null,Ci=!1,Ja=!1,Oh=!1,Vi=0,se=0,hr=0,ua=0,Mh=0,Vn=0,Wa=0,yl=null,$n=null,Ih=!1,xh=0,Ju=1/0,Wu=null,fr=null,to=!1,oa=null,_l=0,Uh=0,zh=null,vl=0,Lh=null;function hn(){if((ee&2)!==0&&zt!==0)return zt&-zt;if(S.T!==null){var t=Ga;return t!==0?t:Qh()}return su()}function zg(){Vn===0&&(Vn=(zt&536870912)===0||qt?Os():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),Vn}function Je(t,n,r){(t===Zt&&$t===2||t.cancelPendingCommit!==null)&&(ts(t,0),Ni(t,zt,Vn,!1)),ue(t,r),((ee&2)===0||t!==Zt)&&(t===Zt&&((ee&2)===0&&(ua|=r),se===4&&Ni(t,zt,Vn,!1)),Jn(t))}function Lg(t,n,r){if((ee&6)!==0)throw Error(a(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Bi(t,n),c=l?mE(t,n):kh(t,n,!0),f=l;do{if(c===0){Ja&&!l&&Ni(t,n,0,!1);break}else if(c===6)Ni(t,n,0,!Ci);else{if(r=t.current.alternate,f&&!fE(r)){c=kh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=yl;var b=E.current.memoizedState.isDehydrated;if(b&&(ts(E,y).flags|=256),y=kh(E,y,!1),y!==2){if(Oh&&!b){E.errorRecoveryDisabledLanes|=f,ua|=f,c=4;break t}f=$n,$n=c,f!==null&&Ph(f)}c=y}if(f=!1,c!==2)continue}}if(c===1){ts(t,0),Ni(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Ni(l,n,Vn,!Ci);break t}break;case 2:$n=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=xh+300-We(),10<f)){if(Ni(l,n,Vn,!Ci),gn(l,0)!==0)break t;l.timeoutHandle=lp(Pg.bind(null,l,r,$n,Wu,Ih,n,Vn,ua,Wa,Ci,2,-0,0),f);break t}Pg(l,r,$n,Wu,Ih,n,Vn,ua,Wa,Ci,0,-0,0)}}break}while(!0);Jn(t)}function Ph(t){$n===null?$n=t:$n.push.apply($n,t)}function Pg(t,n,r,l,c,f,y,E,b,M,q,K,B){var k=n.subtreeFlags;if((k&8192||(k&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:KE},Cg(n),n=XE(),n!==null)){t.cancelPendingCommit=n(Qg.bind(null,t,r,l,c,y,E,b,1,K,B)),Ni(t,f,y,!M);return}Qg(t,r,l,c,y,E,b,q,K,B)}function fE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ni(t,n,r,l){n&=~Mh,n&=~ua,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ye(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&ki(t,r,n)}function eo(){return(ee&6)===0?(El(0),!1):!0}function Bh(){if(Vt!==null){if($t===0)var t=Vt.return;else t=Vt,Ai=ra=null,Qc(t),qa=null,tl=0,t=Vt;for(;t!==null;)Ug(t.alternate,t),t=t.return;Vt=null}}function ts(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,OE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Bh(),Zt=t,Vt=r=cr(t.current,null),zt=n,$t=0,cn=null,Ci=!1,Ja=Bi(t,n),Oh=!1,Wa=Vn=Mh=ua=hr=se=0,$n=yl=null,Ih=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ye(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,Ru(),r}function Bg(t,n){wt=null,S.H=Zn,n===Js?(n=tm(),$t=3):n===$d?(n=tm(),$t=4):$t=n===Jm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Vt===null&&(se=1,Qu(t,An(n,t.current)))}function jg(){var t=S.H;return S.H=Zn,t===null?Zn:t}function kg(){var t=S.A;return S.A=cE,t}function jh(){se=4,Ci||(zt&4194176)!==zt&&Rn.current!==null||(Ja=!0),(hr&134217727)===0&&(ua&134217727)===0||Zt===null||Ni(Zt,zt,Vn,!1)}function kh(t,n,r){var l=ee;ee|=2;var c=jg(),f=kg();(Zt!==t||zt!==n)&&(Wu=null,ts(t,n)),n=!1;var y=se;t:do try{if($t!==0&&Vt!==null){var E=Vt,b=cn;switch($t){case 8:Bh(),y=6;break t;case 3:case 2:case 6:Rn.current===null&&(n=!0);var M=$t;if($t=0,cn=null,es(t,E,b,M),r&&Ja){y=0;break t}break;default:M=$t,$t=0,cn=null,es(t,E,b,M)}}dE(),y=se;break}catch(q){Bg(t,q)}while(!0);return n&&t.shellSuspendCounter++,Ai=ra=null,ee=l,S.H=c,S.A=f,Vt===null&&(Zt=null,zt=0,Ru()),y}function dE(){for(;Vt!==null;)qg(Vt)}function mE(t,n){var r=ee;ee|=2;var l=jg(),c=kg();Zt!==t||zt!==n?(Wu=null,Ju=We()+500,ts(t,n)):Ja=Bi(t,n);t:do try{if($t!==0&&Vt!==null){n=Vt;var f=cn;e:switch($t){case 1:$t=0,cn=null,es(t,n,f,1);break;case 2:if(Jd(f)){$t=0,cn=null,Hg(n);break}n=function(){$t===2&&Zt===t&&($t=7),Jn(t)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Jd(f)?($t=0,cn=null,Hg(n)):($t=0,cn=null,es(t,n,f,7));break;case 5:var y=null;switch(Vt.tag){case 26:y=Vt.memoizedState;case 5:case 27:var E=Vt;if(!y||_p(y)){$t=0,cn=null;var b=E.sibling;if(b!==null)Vt=b;else{var M=E.return;M!==null?(Vt=M,no(M)):Vt=null}break e}}$t=0,cn=null,es(t,n,f,5);break;case 6:$t=0,cn=null,es(t,n,f,6);break;case 8:Bh(),se=6;break t;default:throw Error(a(462))}}gE();break}catch(q){Bg(t,q)}while(!0);return Ai=ra=null,S.H=l,S.A=c,ee=r,Vt!==null?0:(Zt=null,zt=0,Ru(),se)}function gE(){for(;Vt!==null&&!gc();)qg(Vt)}function qg(t){var n=cg(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?no(t):Vt=n}function Hg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=rg(r,n,n.pendingProps,n.type,void 0,zt);break;case 11:n=rg(r,n,n.pendingProps,n.type.render,n.ref,zt);break;case 5:Qc(n);default:Ug(r,n),n=Vt=Mg(n,Vi),n=cg(r,n,Vi)}t.memoizedProps=t.pendingProps,n===null?no(t):Vt=n}function es(t,n,r,l){Ai=ra=null,Qc(n),qa=null,tl=0;var c=n.return;try{if(iE(t,c,n,r,zt)){se=1,Qu(t,An(r,t.current)),Vt=null;return}}catch(f){if(c!==null)throw Vt=c,f;se=1,Qu(t,An(r,t.current)),Vt=null;return}n.flags&32768?(qt||l===1?t=!0:Ja||(zt&536870912)!==0?t=!1:(Ci=t=!0,(l===2||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gg(n,t)):no(n)}function no(t){var n=t;do{if((n.flags&32768)!==0){Gg(n,Ci);return}t=n.return;var r=uE(n.alternate,n,Vi);if(r!==null){Vt=r;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=t}while(n!==null);se===0&&(se=5)}function Gg(t,n){do{var r=oE(t.alternate,t);if(r!==null){r.flags&=32767,Vt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=r}while(t!==null);se=6,Vt=null}function Qg(t,n,r,l,c,f,y,E,b,M){var q=S.T,K=nt.p;try{nt.p=2,S.T=null,pE(t,n,r,l,K,c,f,y,E,b,M)}finally{S.T=q,nt.p=K}}function pE(t,n,r,l,c,f,y,E){do ns();while(oa!==null);if((ee&6)!==0)throw Error(a(327));var b=t.finishedWork;if(l=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var M=b.lanes|b.childLanes;if(M|=Nc,ru(t,l,M,f,y,E),t===Zt&&(Vt=Zt=null,zt=0),(b.subtreeFlags&10256)===0&&(b.flags&10256)===0||to||(to=!0,Uh=M,zh=r,EE(li,function(){return ns(),null})),r=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||r?(r=S.T,S.T=null,f=nt.p,nt.p=2,y=ee,ee|=4,aE(t,b),Rg(b,t),jv(Wh,t.containerInfo),go=!!Jh,Wh=Jh=null,t.current=b,Tg(t,b.alternate,b),Ds(),ee=y,nt.p=f,S.T=r):t.current=b,to?(to=!1,oa=t,_l=l):Fg(t,M),M=t.pendingLanes,M===0&&(fr=null),Vs(b.stateNode),Jn(t),n!==null)for(c=t.onRecoverableError,b=0;b<n.length;b++)M=n[b],c(M.value,{componentStack:M.stack});return(_l&3)!==0&&ns(),M=t.pendingLanes,(l&4194218)!==0&&(M&42)!==0?t===Lh?vl++:(vl=0,Lh=t):vl=0,El(0),null}function Fg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,nl(n)))}function ns(){if(oa!==null){var t=oa,n=Uh;Uh=0;var r=au(_l),l=S.T,c=nt.p;try{if(nt.p=32>r?32:r,S.T=null,oa===null)var f=!1;else{r=zh,zh=null;var y=oa,E=_l;if(oa=null,_l=0,(ee&6)!==0)throw Error(a(331));var b=ee;if(ee|=4,Ng(y.current),Dg(y,y.current,E,r),ee=b,El(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Li,y)}catch{}f=!0}return f}finally{nt.p=c,S.T=l,Fg(t,n)}}return!1}function Kg(t,n,r){n=An(r,n),n=ah(t.stateNode,n,2),t=sr(t,n,2),t!==null&&(ue(t,2),Jn(t))}function Xt(t,n,r){if(t.tag===3)Kg(t,t,r);else for(;n!==null;){if(n.tag===3){Kg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fr===null||!fr.has(l))){t=An(r,t),r=Zm(2),l=sr(n,r,2),l!==null&&($m(r,l,n,t),ue(l,2),Jn(l));break}}n=n.return}}function qh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new hE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Oh=!0,c.add(r),t=yE.bind(null,t,n,r),n.then(t,t))}function yE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Zt===t&&(zt&r)===r&&(se===4||se===3&&(zt&62914560)===zt&&300>We()-xh?(ee&2)===0&&ts(t,0):Mh|=r,Wa===zt&&(Wa=0)),Jn(t)}function Yg(t,n){n===0&&(n=ji()),t=Ji(t,n),t!==null&&(ue(t,n),Jn(t))}function _E(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Yg(t,r)}function vE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Yg(t,r)}function EE(t,n){return Ir(t,n)}var io=null,is=null,Hh=!1,ro=!1,Gh=!1,ca=0;function Jn(t){t!==is&&t.next===null&&(is===null?io=is=t:is=is.next=t),ro=!0,Hh||(Hh=!0,AE(TE))}function El(t,n){if(!Gh&&ro){Gh=!0;do for(var r=!1,l=io;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ye(42|t)+1)-1,f&=c&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,$g(l,f))}else f=zt,f=gn(l,l===Zt?f:0),(f&3)===0||Bi(l,f)||(r=!0,$g(l,f));l=l.next}while(r);Gh=!1}}function TE(){ro=Hh=!1;var t=0;ca!==0&&(NE()&&(t=ca),ca=0);for(var n=We(),r=null,l=io;l!==null;){var c=l.next,f=Xg(l,n);f===0?(l.next=null,r===null?io=c:r.next=c,c===null&&(is=r)):(r=l,(t!==0||(f&3)!==0)&&(ro=!0)),l=c}El(t)}function Xg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Ye(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ta(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Zt,r=zt,r=gn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&$t===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ea(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Bi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ea(l),au(r)){case 2:case 8:r=Re;break;case 32:r=li;break;case 268435456:r=Cs;break;default:r=li}return l=Zg.bind(null,t),r=Ir(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ea(l),t.callbackPriority=2,t.callbackNode=null,2}function Zg(t,n){var r=t.callbackNode;if(ns()&&t.callbackNode!==r)return null;var l=zt;return l=gn(t,t===Zt?l:0),l===0?null:(Lg(t,l,n),Xg(t,We()),t.callbackNode!=null&&t.callbackNode===r?Zg.bind(null,t):null)}function $g(t,n){if(ns())return null;Lg(t,n,!0)}function AE(t){ME(function(){(ee&6)!==0?Ir(pe,t):t()})}function Qh(){return ca===0&&(ca=Os()),ca}function Jg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:kn(""+t)}function Wg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function SE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Jg((c[ye]||null).action),y=l.submitter;y&&(n=(n=y[ye]||null)?Jg(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ca("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ca!==0){var b=y?Wg(c,y):new FormData(c);th(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Wg(c,y):new FormData(c),th(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Fh=0;Fh<Qd.length;Fh++){var Kh=Qd[Fh],bE=Kh.toLowerCase(),RE=Kh[0].toUpperCase()+Kh.slice(1);In(bE,"on"+RE)}In(jd,"onAnimationEnd"),In(kd,"onAnimationIteration"),In(qd,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(qv,"onTransitionRun"),In(Hv,"onTransitionStart"),In(Gv,"onTransitionCancel"),In(Hd,"onTransitionEnd"),tn("onMouseEnter",["mouseout","mouseover"]),tn("onMouseLeave",["mouseout","mouseover"]),tn("onPointerEnter",["pointerout","pointerover"]),tn("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function tp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,M=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=M;try{f(c)}catch(q){Gu(q)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,M=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=M;try{f(c)}catch(q){Gu(q)}c.currentTarget=null,f=b}}}}function Ot(t,n){var r=n[Ur];r===void 0&&(r=n[Ur]=new Set);var l=t+"__bubble";r.has(l)||(ep(n,t,2,!1),r.add(l))}function Yh(t,n,r){var l=0;n&&(l|=4),ep(r,t,l,n)}var ao="_reactListening"+Math.random().toString(36).slice(2);function Xh(t){if(!t[ao]){t[ao]=!0,Is.forEach(function(r){r!=="selectionchange"&&(wE.has(r)||Yh(r,!1,t),Yh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ao]||(n[ao]=!0,Yh("selectionchange",!1,n))}}function ep(t,n,r,l){switch(bp(n)){case 2:var c=JE;break;case 8:c=WE;break;default:c=of}r=c.bind(null,n,r,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Zh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;y=y.return}for(;E!==null;){if(y=Mn(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}cu(function(){var M=f,q=Da(r),K=[];t:{var B=Gd.get(t);if(B!==void 0){var k=Ca,st=t;switch(t){case"keypress":if(Hn(r)===0)break t;case"keydown":case"keyup":k=xa;break;case"focusin":st="focus",k=Oa;break;case"focusout":st="blur",k=Oa;break;case"beforeblur":case"afterblur":k=Oa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=_u;break;case jd:case kd:case qd:k=Ma;break;case Hd:k=Eu;break;case"scroll":case"scrollend":k=hu;break;case"wheel":k=Ua;break;case"copy":case"cut":case"paste":k=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Qs;break;case"toggle":case"beforetoggle":k=Au}var _t=(n&4)!==0,le=!_t&&(t==="scroll"||t==="scrollend"),U=_t?B!==null?B+"Capture":null:B;_t=[];for(var N=M,L;N!==null;){var G=N;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||U===null||(G=jr(N,U),G!=null&&_t.push(Al(N,G,L))),le)break;N=N.return}0<_t.length&&(B=new k(B,st,null,r,q),K.push({event:B,listeners:_t}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&r!==_n&&(st=r.relatedTarget||r.fromElement)&&(Mn(st)||st[ui]))break t;if((k||B)&&(B=q.window===q?q:(B=q.ownerDocument)?B.defaultView||B.parentWindow:window,k?(st=r.relatedTarget||r.toElement,k=M,st=st?Mn(st):null,st!==null&&(le=ut(st),_t=st.tag,st!==le||_t!==5&&_t!==27&&_t!==6)&&(st=null)):(k=null,st=M),k!==st)){if(_t=En,G="onMouseLeave",U="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(_t=Qs,G="onPointerLeave",U="onPointerEnter",N="pointer"),le=k==null?B:Qi(k),L=st==null?B:Qi(st),B=new _t(G,N+"leave",k,r,q),B.target=le,B.relatedTarget=L,G=null,Mn(q)===M&&(_t=new _t(U,N+"enter",st,r,q),_t.target=L,_t.relatedTarget=le,G=_t),le=G,k&&st)e:{for(_t=k,U=st,N=0,L=_t;L;L=rs(L))N++;for(L=0,G=U;G;G=rs(G))L++;for(;0<N-L;)_t=rs(_t),N--;for(;0<L-N;)U=rs(U),L--;for(;N--;){if(_t===U||U!==null&&_t===U.alternate)break e;_t=rs(_t),U=rs(U)}_t=null}else _t=null;k!==null&&np(K,B,k,_t,!1),st!==null&&le!==null&&np(K,le,st,_t,!0)}}t:{if(B=M?Qi(M):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var at=Vd;else if(ve(B))if(Nd)at=Pv;else{at=zv;var Dt=Uv}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?M&&Ps(M.elementType)&&(at=Vd):at=Lv;if(at&&(at=at(t,M))){pi(K,at,r,q);break t}Dt&&Dt(t,B,M),t==="focusout"&&M&&B.type==="number"&&M.memoizedProps.value!=null&&wa(B,"number",B.value)}switch(Dt=M?Qi(M):window,t){case"focusin":(ve(Dt)||Dt.contentEditable==="true")&&(za=Dt,Dc=M,Ys=null);break;case"focusout":Ys=Dc=za=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,Pd(K,r,q);break;case"selectionchange":if(kv)break;case"keydown":case"keyup":Pd(K,r,q)}var ot;if(Fn)t:{switch(t){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else xt?j(t,r)&&(dt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(dt="onCompositionStart");dt&&(p&&r.locale!=="ko"&&(xt||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&xt&&(ot=js()):(qn=q,$i="value"in qn?qn.value:qn.textContent,xt=!0)),Dt=so(M,dt),0<Dt.length&&(dt=new Hs(dt,t,null,r,q),K.push({event:dt,listeners:Dt}),ot?dt.data=ot:(ot=J(r),ot!==null&&(dt.data=ot)))),(ot=m?_e(t,r):Ut(t,r))&&(dt=so(M,"onBeforeInput"),0<dt.length&&(Dt=new Hs("onBeforeInput","beforeinput",null,r,q),K.push({event:Dt,listeners:dt}),Dt.data=ot)),SE(K,t,M,r,q)}tp(K,n)})}function Al(t,n,r){return{instance:t,listener:n,currentTarget:r}}function so(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=jr(t,r),c!=null&&l.unshift(Al(t,c,f)),c=jr(t,n),c!=null&&l.push(Al(t,c,f))),t=t.return}return l}function rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function np(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,M=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||M===null||(b=M,c?(M=jr(r,f),M!=null&&y.unshift(Al(r,M,b))):c||(M=jr(r,f),M!=null&&y.push(Al(r,M,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var DE=/\r\n?/g,CE=/\u0000|\uFFFD/g;function ip(t){return(typeof t=="string"?t:""+t).replace(DE,`
`).replace(CE,"")}function rp(t,n){return n=ip(n),ip(t)===n}function lo(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":Yi(t,"class",l);break;case"tabIndex":Yi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yi(t,r,l);break;case"style":ou(t,l,f);break;case"data":if(n!=="object"){Yi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=kn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=kn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=lo);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=kn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),Ki(t,"popover",l);break;case"xlinkActuate":pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":pn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":pn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":pn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":pn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ki(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ec.get(r)||r,Ki(t,r,l))}}function $h(t,n,r,l,c,f){switch(r){case"style":ou(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&Ot("scroll",t);break;case"onScrollEnd":l!=null&&Ot("scrollend",t);break;case"onClick":l!=null&&(t.onclick=lo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ye]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ki(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,f,y,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":Ot("invalid",t);var E=f=y=c=null,b=null,M=null;for(l in r)if(r.hasOwnProperty(l)){var q=r[l];if(q!=null)switch(l){case"name":c=q;break;case"type":y=q;break;case"checked":b=q;break;case"defaultChecked":M=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Yt(t,n,l,q,r,null)}}Pr(t,f,E,b,M,y,c,!1),Lr(t);return;case"select":Ot("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?kt(t,!!l,n,!1):r!=null&&kt(t,!!l,r,!0);return;case"textarea":Ot("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Yt(t,n,y,E,r,null)}Zi(t,l,c,f),Lr(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,r,null)}return;case"dialog":Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Ot(Tl[l],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in r)if(r.hasOwnProperty(M)&&(l=r[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,M,l,r,null)}return;default:if(Ps(n)){for(q in r)r.hasOwnProperty(q)&&(l=r[q],l!==void 0&&$h(t,n,q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function VE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,M=null,q=null;for(k in r){var K=r[k];if(r.hasOwnProperty(k)&&K!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=K;default:l.hasOwnProperty(k)||Yt(t,n,k,null,l,K)}}for(var B in l){var k=l[B];if(K=r[B],l.hasOwnProperty(B)&&(k!=null||K!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":M=k;break;case"defaultChecked":q=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==K&&Yt(t,n,B,k,l,K)}}Xi(t,y,E,b,M,q,f,c);return;case"select":k=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":k=b;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Yt(t,n,c,f,l,b)}n=E,r=y,l=k,B!=null?kt(t,!!r,B,!1):!!l!=!!r&&(n!=null?kt(t,!!r,n,!0):kt(t,!!r,r?[]:"",!1));return;case"textarea":k=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Br(t,B,k);return;case"option":for(var st in r)if(B=r[st],r.hasOwnProperty(st)&&B!=null&&!l.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:Yt(t,n,st,null,l,B)}for(b in l)if(B=l[b],k=r[b],l.hasOwnProperty(b)&&B!==k&&(B!=null||k!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,b,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in r)B=r[_t],r.hasOwnProperty(_t)&&B!=null&&!l.hasOwnProperty(_t)&&Yt(t,n,_t,null,l,B);for(M in l)if(B=l[M],k=r[M],l.hasOwnProperty(M)&&B!==k&&(B!=null||k!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Yt(t,n,M,B,l,k)}return;default:if(Ps(n)){for(var le in r)B=r[le],r.hasOwnProperty(le)&&B!==void 0&&!l.hasOwnProperty(le)&&$h(t,n,le,void 0,l,B);for(q in l)B=l[q],k=r[q],!l.hasOwnProperty(q)||B===k||B===void 0&&k===void 0||$h(t,n,q,B,l,k);return}}for(var U in r)B=r[U],r.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Yt(t,n,U,null,l,B);for(K in l)B=l[K],k=r[K],!l.hasOwnProperty(K)||B===k||B==null&&k==null||Yt(t,n,K,B,l,k)}var Jh=null,Wh=null;function uo(t){return t.nodeType===9?t:t.ownerDocument}function ap(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function tf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ef=null;function NE(){var t=window.event;return t&&t.type==="popstate"?t===ef?!1:(ef=t,!0):(ef=null,!1)}var lp=typeof setTimeout=="function"?setTimeout:void 0,OE=typeof clearTimeout=="function"?clearTimeout:void 0,up=typeof Promise=="function"?Promise:void 0,ME=typeof queueMicrotask=="function"?queueMicrotask:typeof up<"u"?function(t){return up.resolve(null).then(t).catch(IE)}:lp;function IE(t){setTimeout(function(){throw t})}function nf(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Nl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Nl(n)}function rf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":rf(r),zr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function xE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Gi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function UE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=zn(t.nextSibling),t===null))return null;return t}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function op(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function cp(t,n,r){switch(n=uo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Nn=new Map,hp=new Set;function oo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Oi=nt.d;nt.d={f:zE,r:LE,D:PE,C:BE,L:jE,m:kE,X:HE,S:qE,M:GE};function zE(){var t=Oi.f(),n=eo();return t||n}function LE(t){var n=oi(t);n!==null&&n.tag===5&&n.type==="form"?Pm(n):Oi.r(t)}var as=typeof document>"u"?null:document;function fp(t,n,r){var l=as;if(l&&typeof n=="string"&&n){var c=re(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),hp.has(c)||(hp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),Wt(n),l.head.appendChild(n)))}}function PE(t){Oi.D(t),fp("dns-prefetch",t,null)}function BE(t,n){Oi.C(t,n),fp("preconnect",t,n)}function jE(t,n,r){Oi.L(t,n,r);var l=as;if(l&&t&&n){var c='link[rel="preload"][as="'+re(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+re(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+re(r.imageSizes)+'"]')):c+='[href="'+re(t)+'"]';var f=c;switch(n){case"style":f=ss(t);break;case"script":f=ls(t)}Nn.has(f)||(t=C({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Nn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Sl(f))||n==="script"&&l.querySelector(bl(f))||(n=l.createElement("link"),ze(n,"link",t),Wt(n),l.head.appendChild(n)))}}function kE(t,n){Oi.m(t,n);var r=as;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+re(l)+'"][href="'+re(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ls(t)}if(!Nn.has(f)&&(t=C({rel:"modulepreload",href:t},n),Nn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(bl(f)))return}l=r.createElement("link"),ze(l,"link",t),Wt(l),r.head.appendChild(l)}}}function qE(t,n,r){Oi.S(t,n,r);var l=as;if(l&&t){var c=Fi(l).hoistableStyles,f=ss(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Sl(f)))E.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Nn.get(f))&&af(t,r);var b=y=l.createElement("link");Wt(b),ze(b,"link",t),b._p=new Promise(function(M,q){b.onload=M,b.onerror=q}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,co(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function HE(t,n){Oi.X(t,n);var r=as;if(r&&t){var l=Fi(r).hoistableScripts,c=ls(t),f=l.get(c);f||(f=r.querySelector(bl(c)),f||(t=C({src:t,async:!0},n),(n=Nn.get(c))&&sf(t,n),f=r.createElement("script"),Wt(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function GE(t,n){Oi.M(t,n);var r=as;if(r&&t){var l=Fi(r).hoistableScripts,c=ls(t),f=l.get(c);f||(f=r.querySelector(bl(c)),f||(t=C({src:t,async:!0,type:"module"},n),(n=Nn.get(c))&&sf(t,n),f=r.createElement("script"),Wt(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function dp(t,n,r,l){var c=(c=mn.current)?oo(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ss(r.href),r=Fi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ss(r.href);var f=Fi(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Sl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Nn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Nn.set(t,r),f||QE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ls(r),r=Fi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ss(t){return'href="'+re(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function mp(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function QE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),Wt(n),t.head.appendChild(n))}function ls(t){return'[src="'+re(t)+'"]'}function bl(t){return"script[async]"+t}function gp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+re(r.href)+'"]');if(l)return n.instance=l,Wt(l),l;var c=C({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Wt(l),ze(l,"style",c),co(l,r.precedence,t),n.instance=l;case"stylesheet":c=ss(r.href);var f=t.querySelector(Sl(c));if(f)return n.state.loading|=4,n.instance=f,Wt(f),f;l=mp(r),(c=Nn.get(c))&&af(l,c),f=(t.ownerDocument||t).createElement("link"),Wt(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",l),n.state.loading|=4,co(f,r.precedence,t),n.instance=f;case"script":return f=ls(r.src),(c=t.querySelector(bl(f)))?(n.instance=c,Wt(c),c):(l=r,(c=Nn.get(f))&&(l=C({},r),sf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Wt(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,co(l,r.precedence,t));return n.instance}function co(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ho=null;function pp(t,n,r){if(ho===null){var l=new Map,c=ho=new Map;c.set(r,l)}else c=ho,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Gi]||f[we]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function yp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function FE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function _p(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Rl=null;function KE(){}function YE(t,n,r){if(Rl===null)throw Error(a(475));var l=Rl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ss(r.href),f=t.querySelector(Sl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=fo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Wt(f);return}f=t.ownerDocument||t,r=mp(r),(c=Nn.get(c))&&af(r,c),f=f.createElement("link"),Wt(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=fo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function XE(){if(Rl===null)throw Error(a(475));var t=Rl;return t.stylesheets&&t.count===0&&lf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&lf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function fo(){if(this.count--,this.count===0){if(this.stylesheets)lf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mo=null;function lf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mo=new Map,n.forEach(ZE,t),mo=null,fo.call(t))}function ZE(t,n){if(!(n.state.loading&4)){var r=mo.get(t);if(r)var l=r.get(null);else{r=new Map,mo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=fo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var wl={$$typeof:H,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function $E(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Aa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aa(0),this.hiddenUpdates=Aa(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function vp(t,n,r,l,c,f,y,E,b,M,q,K){return t=new $E(t,n,r,y,E,b,M,K),n=1,f===!0&&(n|=24),f=Cn(3,null,null,n),t.current=f,f.stateNode=t,n=Pc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},_h(f),t}function Ep(t){return t?(t=Ba,t):Ba}function Tp(t,n,r,l,c,f){c=Ep(c),l.context===null?l.context=c:l.pendingContext=c,l=ar(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=sr(t,l,n),r!==null&&(Je(r,t,n),ol(r,t,n))}function Ap(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function uf(t,n){Ap(t,n),(t=t.alternate)&&Ap(t,n)}function Sp(t){if(t.tag===13){var n=Ji(t,67108864);n!==null&&Je(n,t,67108864),uf(t,67108864)}}var go=!0;function JE(t,n,r,l){var c=S.T;S.T=null;var f=nt.p;try{nt.p=2,of(t,n,r,l)}finally{nt.p=f,S.T=c}}function WE(t,n,r,l){var c=S.T;S.T=null;var f=nt.p;try{nt.p=8,of(t,n,r,l)}finally{nt.p=f,S.T=c}}function of(t,n,r,l){if(go){var c=cf(l);if(c===null)Zh(t,n,l,po,r),Rp(t,l);else if(e0(c,t,n,r,l))l.stopPropagation();else if(Rp(t,l),n&4&&-1<t0.indexOf(t)){for(;c!==null;){var f=oi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=On(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Ye(y);E.entanglements[1]|=b,y&=~b}Jn(f),(ee&6)===0&&(Ju=We()+500,El(0))}}break;case 13:E=Ji(f,2),E!==null&&Je(E,f,2),eo(),uf(f,2)}if(f=cf(l),f===null&&Zh(t,n,l,po,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Zh(t,n,l,null,r)}}function cf(t){return t=Da(t),hf(t)}var po=null;function hf(t){if(po=null,t=Mn(t),t!==null){var n=ut(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=Bt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return po=t,null}function bp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tu()){case pe:return 2;case Re:return 8;case li:case eu:return 32;case Cs:return 268435456;default:return 32}default:return 32}}var ff=!1,dr=null,mr=null,gr=null,Dl=new Map,Cl=new Map,pr=[],t0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rp(t,n){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(n.pointerId)}}function Vl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=oi(n),n!==null&&Sp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function e0(t,n,r,l,c){switch(n){case"focusin":return dr=Vl(dr,t,n,r,l,c),!0;case"dragenter":return mr=Vl(mr,t,n,r,l,c),!0;case"mouseover":return gr=Vl(gr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Dl.set(f,Vl(Dl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Cl.set(f,Vl(Cl.get(f)||null,t,n,r,l,c)),!0}return!1}function wp(t){var n=Mn(t.target);if(n!==null){var r=ut(n);if(r!==null){if(n=r.tag,n===13){if(n=Bt(r),n!==null){t.blockedOn=n,Hi(t.priority,function(){if(r.tag===13){var l=hn(),c=Ji(r,l);c!==null&&Je(c,r,l),uf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=cf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);_n=l,r.target.dispatchEvent(l),_n=null}else return n=oi(r),n!==null&&Sp(n),t.blockedOn=r,!1;n.shift()}return!0}function Dp(t,n,r){yo(t)&&r.delete(n)}function n0(){ff=!1,dr!==null&&yo(dr)&&(dr=null),mr!==null&&yo(mr)&&(mr=null),gr!==null&&yo(gr)&&(gr=null),Dl.forEach(Dp),Cl.forEach(Dp)}function _o(t,n){t.blockedOn===n&&(t.blockedOn=null,ff||(ff=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,n0)))}var vo=null;function Cp(t){vo!==t&&(vo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){vo===t&&(vo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(hf(l||r)===null)continue;break}var f=oi(r);f!==null&&(t.splice(n,3),n-=3,th(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Nl(t){function n(b){return _o(b,t)}dr!==null&&_o(dr,t),mr!==null&&_o(mr,t),gr!==null&&_o(gr,t),Dl.forEach(n),Cl.forEach(n);for(var r=0;r<pr.length;r++){var l=pr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<pr.length&&(r=pr[0],r.blockedOn===null);)wp(r),r.blockedOn===null&&pr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[ye]||null;if(typeof f=="function")y||Cp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ye]||null)E=y.formAction;else if(hf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Cp(r)}}}function df(t){this._internalRoot=t}Eo.prototype.render=df.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=hn();Tp(r,l,t,n,null,null)},Eo.prototype.unmount=df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&ns(),Tp(t.current,2,null,t,null,null),eo(),n[ui]=null}};function Eo(t){this._internalRoot=t}Eo.prototype.unstable_scheduleHydration=function(t){if(t){var n=su();t={blockedOn:null,target:t,priority:n};for(var r=0;r<pr.length&&n!==0&&n<pr[r].priority;r++);pr.splice(r,0,t),r===0&&wp(t)}};var Vp=e.version;if(Vp!=="19.0.0")throw Error(a(527,Vp,"19.0.0"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=F(n),t=t!==null?rt(t):null,t=t===null?null:t.stateNode,t};var i0={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Mn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var To=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!To.isDisabled&&To.supportsFiber)try{Li=To.inject(i0),je=To}catch{}}return Ml.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=Fm,f=Km,y=Ym,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=vp(t,1,!1,null,null,r,l,c,f,y,E,null),t[ui]=n.current,Xh(t.nodeType===8?t.parentNode:t),new df(n)},Ml.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=Fm,y=Km,E=Ym,b=null,M=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(M=r.formState)),n=vp(t,1,!0,n,r??null,l,c,f,y,E,b,M),n.context=Ep(null),r=n.current,l=hn(),c=ar(l),c.callback=null,sr(r,c,l),n.current.lanes=l,ue(n,l),Jn(n),t[ui]=n.current,Xh(t),new Eo(n)},Ml.version="19.0.0",Ml}var Bp;function d0(){if(Bp)return pf.exports;Bp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),pf.exports=f0(),pf.exports}var m0=d0();const g0=()=>{};var jp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},p0=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],g=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Xy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,g=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,R=h>>2,I=(h&3)<<4|g>>4;let P=(g&15)<<2|v>>6,H=v&63;_||(H=64,d||(P=64)),a.push(i[R],i[I],i[P],i[H])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Yy(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):p0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const I=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||g==null||v==null||I==null)throw new y0;const P=h<<2|g>>4;if(a.push(P),v!==64){const H=g<<4&240|v>>2;if(a.push(H),I!==64){const $=v<<6&192|I;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class y0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _0=function(s){const e=Yy(s);return Xy.encodeByteArray(e,!0)},Uo=function(s){return _0(s).replace(/\./g,"")},v0=function(s){try{return Xy.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=()=>E0().__FIREBASE_DEFAULTS__,A0=()=>{if(typeof process>"u"||typeof jp>"u")return;const s=jp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},S0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&v0(s[1]);return e&&JSON.parse(e)},$f=()=>{try{return g0()||T0()||A0()||S0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},b0=s=>{var e,i;return(i=(e=$f())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},R0=s=>{const e=b0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Zy=()=>{var s;return(s=$f())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Uo(JSON.stringify(i)),Uo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V0(){var s;const e=(s=$f())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N0(){return!V0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O0(){try{return typeof indexedDB=="object"}catch{return!1}}function M0(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="FirebaseError";class Ts extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=I0,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$y.prototype.create)}}class $y{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?x0(h,a):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Ts(u,g,a)}}function x0(s,e){return s.replace(U0,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const U0=/\{\$([^}]+)}/g;function zo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(kp(h)&&kp(d)){if(!zo(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function kp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(s){return s&&s._delegate?s._delegate:s}class ql{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new w0;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P0(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:L0(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L0(s){return s===ha?void 0:s}function P0(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new z0(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pt||(Pt={}));const j0={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},k0=Pt.INFO,q0={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},H0=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=q0[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jy{constructor(e){this.name=e,this._logLevel=k0,this._logHandler=H0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const G0=(s,e)=>e.some(i=>s instanceof i);let qp,Hp;function Q0(){return qp||(qp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F0(){return Hp||(Hp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wy=new WeakMap,Vf=new WeakMap,t_=new WeakMap,Ef=new WeakMap,Jf=new WeakMap;function K0(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(vr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Wy.set(i,s)}).catch(()=>{}),Jf.set(e,s),e}function Y0(s){if(Vf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Vf.set(s,e)}let Nf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Vf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||t_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return vr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function X0(s){Nf=s(Nf)}function Z0(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Tf(this),e,...i);return t_.set(a,e.sort?e.sort():[e]),vr(a)}:F0().includes(s)?function(...e){return s.apply(Tf(this),e),vr(Wy.get(this))}:function(...e){return vr(s.apply(Tf(this),e))}}function $0(s){return typeof s=="function"?Z0(s):(s instanceof IDBTransaction&&Y0(s),G0(s,Q0())?new Proxy(s,Nf):s)}function vr(s){if(s instanceof IDBRequest)return K0(s);if(Ef.has(s))return Ef.get(s);const e=$0(s);return e!==s&&(Ef.set(s,e),Jf.set(e,s)),e}const Tf=s=>Jf.get(s);function J0(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),g=vr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(vr(d.result),_.oldVersion,_.newVersion,vr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const W0=["get","getKey","getAll","getAllKeys","count"],tT=["put","add","delete","clear"],Af=new Map;function Gp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Af.get(e))return Af.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=tT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||W0.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return Af.set(e,h),h}X0(s=>({...s,get:(e,i,a)=>Gp(e,i)||s.get(e,i,a),has:(e,i)=>!!Gp(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(nT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function nT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Of="@firebase/app",Qp="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Jy("@firebase/app"),iT="@firebase/app-compat",rT="@firebase/analytics-compat",aT="@firebase/analytics",sT="@firebase/app-check-compat",lT="@firebase/app-check",uT="@firebase/auth",oT="@firebase/auth-compat",cT="@firebase/database",hT="@firebase/data-connect",fT="@firebase/database-compat",dT="@firebase/functions",mT="@firebase/functions-compat",gT="@firebase/installations",pT="@firebase/installations-compat",yT="@firebase/messaging",_T="@firebase/messaging-compat",vT="@firebase/performance",ET="@firebase/performance-compat",TT="@firebase/remote-config",AT="@firebase/remote-config-compat",ST="@firebase/storage",bT="@firebase/storage-compat",RT="@firebase/firestore",wT="@firebase/vertexai",DT="@firebase/firestore-compat",CT="firebase",VT="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="[DEFAULT]",NT={[Of]:"fire-core",[iT]:"fire-core-compat",[aT]:"fire-analytics",[rT]:"fire-analytics-compat",[lT]:"fire-app-check",[sT]:"fire-app-check-compat",[uT]:"fire-auth",[oT]:"fire-auth-compat",[cT]:"fire-rtdb",[hT]:"fire-data-connect",[fT]:"fire-rtdb-compat",[dT]:"fire-fn",[mT]:"fire-fn-compat",[gT]:"fire-iid",[pT]:"fire-iid-compat",[yT]:"fire-fcm",[_T]:"fire-fcm-compat",[vT]:"fire-perf",[ET]:"fire-perf-compat",[TT]:"fire-rc",[AT]:"fire-rc-compat",[ST]:"fire-gcs",[bT]:"fire-gcs-compat",[RT]:"fire-fst",[DT]:"fire-fst-compat",[wT]:"fire-vertex","fire-js":"fire-js",[CT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new Map,OT=new Map,If=new Map;function Fp(s,e){try{s.container.addComponent(e)}catch(i){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Po(s){const e=s.name;if(If.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;If.set(e,s);for(const i of Lo.values())Fp(i,s);for(const i of OT.values())Fp(i,s);return!0}function MT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function IT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new $y("app","Firebase",xT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=VT;function e_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Mf,automaticDataCollectionEnabled:!1},e),u=a.name;if(typeof u!="string"||!u)throw Er.create("bad-app-name",{appName:String(u)});if(i||(i=Zy()),!i)throw Er.create("no-options");const h=Lo.get(u);if(h){if(zo(i,h.options)&&zo(a,h.config))return h;throw Er.create("duplicate-app",{appName:u})}const d=new B0(u);for(const _ of If.values())d.addComponent(_);const g=new UT(i,a,d);return Lo.set(u,g),g}function LT(s=Mf){const e=Lo.get(s);if(!e&&s===Mf&&Zy())return e_();if(!e)throw Er.create("no-app",{appName:s});return e}function fs(s,e,i){var a;let u=(a=NT[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(g.join(" "));return}Po(new ql(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firebase-heartbeat-database",BT=1,Hl="firebase-heartbeat-store";let Sf=null;function n_(){return Sf||(Sf=J0(PT,BT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Hl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Er.create("idb-open",{originalErrorMessage:s.message})})),Sf}async function jT(s){try{const i=(await n_()).transaction(Hl),a=await i.objectStore(Hl).get(i_(s));return await i.done,a}catch(e){if(e instanceof Ts)Mi.warn(e.message);else{const i=Er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(i.message)}}}async function Kp(s,e){try{const a=(await n_()).transaction(Hl,"readwrite");await a.objectStore(Hl).put(e,i_(s)),await a.done}catch(i){if(i instanceof Ts)Mi.warn(i.message);else{const a=Er.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Mi.warn(a.message)}}}function i_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=1024,qT=30;class HT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new QT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Yp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>qT){const d=FT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Mi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Yp(),{heartbeatsToSend:a,unsentEntries:u}=GT(this._heartbeatsCache.heartbeats),h=Uo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Mi.warn(i),""}}}function Yp(){return new Date().toISOString().substring(0,10)}function GT(s,e=kT){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Xp(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Xp(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class QT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O0()?M0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await jT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Kp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Kp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function Xp(s){return Uo(JSON.stringify({version:2,heartbeats:s})).length}function FT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(s){Po(new ql("platform-logger",e=>new eT(e),"PRIVATE")),Po(new ql("heartbeat",e=>new HT(e),"PRIVATE")),fs(Of,Qp,s),fs(Of,Qp,"esm2017"),fs("fire-js","")}KT("");var YT="firebase",XT="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(YT,XT,"app");var Zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tr,r_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,D){function S(){}S.prototype=D.prototype,x.D=D.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(C,O,w){for(var A=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)A[ht-2]=arguments[ht];return D.prototype[O].apply(C,A)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(x,D,S){S||(S=0);var C=Array(16);if(typeof D=="string")for(var O=0;16>O;++O)C[O]=D.charCodeAt(S++)|D.charCodeAt(S++)<<8|D.charCodeAt(S++)<<16|D.charCodeAt(S++)<<24;else for(O=0;16>O;++O)C[O]=D[S++]|D[S++]<<8|D[S++]<<16|D[S++]<<24;D=x.g[0],S=x.g[1],O=x.g[2];var w=x.g[3],A=D+(w^S&(O^w))+C[0]+3614090360&4294967295;D=S+(A<<7&4294967295|A>>>25),A=w+(O^D&(S^O))+C[1]+3905402710&4294967295,w=D+(A<<12&4294967295|A>>>20),A=O+(S^w&(D^S))+C[2]+606105819&4294967295,O=w+(A<<17&4294967295|A>>>15),A=S+(D^O&(w^D))+C[3]+3250441966&4294967295,S=O+(A<<22&4294967295|A>>>10),A=D+(w^S&(O^w))+C[4]+4118548399&4294967295,D=S+(A<<7&4294967295|A>>>25),A=w+(O^D&(S^O))+C[5]+1200080426&4294967295,w=D+(A<<12&4294967295|A>>>20),A=O+(S^w&(D^S))+C[6]+2821735955&4294967295,O=w+(A<<17&4294967295|A>>>15),A=S+(D^O&(w^D))+C[7]+4249261313&4294967295,S=O+(A<<22&4294967295|A>>>10),A=D+(w^S&(O^w))+C[8]+1770035416&4294967295,D=S+(A<<7&4294967295|A>>>25),A=w+(O^D&(S^O))+C[9]+2336552879&4294967295,w=D+(A<<12&4294967295|A>>>20),A=O+(S^w&(D^S))+C[10]+4294925233&4294967295,O=w+(A<<17&4294967295|A>>>15),A=S+(D^O&(w^D))+C[11]+2304563134&4294967295,S=O+(A<<22&4294967295|A>>>10),A=D+(w^S&(O^w))+C[12]+1804603682&4294967295,D=S+(A<<7&4294967295|A>>>25),A=w+(O^D&(S^O))+C[13]+4254626195&4294967295,w=D+(A<<12&4294967295|A>>>20),A=O+(S^w&(D^S))+C[14]+2792965006&4294967295,O=w+(A<<17&4294967295|A>>>15),A=S+(D^O&(w^D))+C[15]+1236535329&4294967295,S=O+(A<<22&4294967295|A>>>10),A=D+(O^w&(S^O))+C[1]+4129170786&4294967295,D=S+(A<<5&4294967295|A>>>27),A=w+(S^O&(D^S))+C[6]+3225465664&4294967295,w=D+(A<<9&4294967295|A>>>23),A=O+(D^S&(w^D))+C[11]+643717713&4294967295,O=w+(A<<14&4294967295|A>>>18),A=S+(w^D&(O^w))+C[0]+3921069994&4294967295,S=O+(A<<20&4294967295|A>>>12),A=D+(O^w&(S^O))+C[5]+3593408605&4294967295,D=S+(A<<5&4294967295|A>>>27),A=w+(S^O&(D^S))+C[10]+38016083&4294967295,w=D+(A<<9&4294967295|A>>>23),A=O+(D^S&(w^D))+C[15]+3634488961&4294967295,O=w+(A<<14&4294967295|A>>>18),A=S+(w^D&(O^w))+C[4]+3889429448&4294967295,S=O+(A<<20&4294967295|A>>>12),A=D+(O^w&(S^O))+C[9]+568446438&4294967295,D=S+(A<<5&4294967295|A>>>27),A=w+(S^O&(D^S))+C[14]+3275163606&4294967295,w=D+(A<<9&4294967295|A>>>23),A=O+(D^S&(w^D))+C[3]+4107603335&4294967295,O=w+(A<<14&4294967295|A>>>18),A=S+(w^D&(O^w))+C[8]+1163531501&4294967295,S=O+(A<<20&4294967295|A>>>12),A=D+(O^w&(S^O))+C[13]+2850285829&4294967295,D=S+(A<<5&4294967295|A>>>27),A=w+(S^O&(D^S))+C[2]+4243563512&4294967295,w=D+(A<<9&4294967295|A>>>23),A=O+(D^S&(w^D))+C[7]+1735328473&4294967295,O=w+(A<<14&4294967295|A>>>18),A=S+(w^D&(O^w))+C[12]+2368359562&4294967295,S=O+(A<<20&4294967295|A>>>12),A=D+(S^O^w)+C[5]+4294588738&4294967295,D=S+(A<<4&4294967295|A>>>28),A=w+(D^S^O)+C[8]+2272392833&4294967295,w=D+(A<<11&4294967295|A>>>21),A=O+(w^D^S)+C[11]+1839030562&4294967295,O=w+(A<<16&4294967295|A>>>16),A=S+(O^w^D)+C[14]+4259657740&4294967295,S=O+(A<<23&4294967295|A>>>9),A=D+(S^O^w)+C[1]+2763975236&4294967295,D=S+(A<<4&4294967295|A>>>28),A=w+(D^S^O)+C[4]+1272893353&4294967295,w=D+(A<<11&4294967295|A>>>21),A=O+(w^D^S)+C[7]+4139469664&4294967295,O=w+(A<<16&4294967295|A>>>16),A=S+(O^w^D)+C[10]+3200236656&4294967295,S=O+(A<<23&4294967295|A>>>9),A=D+(S^O^w)+C[13]+681279174&4294967295,D=S+(A<<4&4294967295|A>>>28),A=w+(D^S^O)+C[0]+3936430074&4294967295,w=D+(A<<11&4294967295|A>>>21),A=O+(w^D^S)+C[3]+3572445317&4294967295,O=w+(A<<16&4294967295|A>>>16),A=S+(O^w^D)+C[6]+76029189&4294967295,S=O+(A<<23&4294967295|A>>>9),A=D+(S^O^w)+C[9]+3654602809&4294967295,D=S+(A<<4&4294967295|A>>>28),A=w+(D^S^O)+C[12]+3873151461&4294967295,w=D+(A<<11&4294967295|A>>>21),A=O+(w^D^S)+C[15]+530742520&4294967295,O=w+(A<<16&4294967295|A>>>16),A=S+(O^w^D)+C[2]+3299628645&4294967295,S=O+(A<<23&4294967295|A>>>9),A=D+(O^(S|~w))+C[0]+4096336452&4294967295,D=S+(A<<6&4294967295|A>>>26),A=w+(S^(D|~O))+C[7]+1126891415&4294967295,w=D+(A<<10&4294967295|A>>>22),A=O+(D^(w|~S))+C[14]+2878612391&4294967295,O=w+(A<<15&4294967295|A>>>17),A=S+(w^(O|~D))+C[5]+4237533241&4294967295,S=O+(A<<21&4294967295|A>>>11),A=D+(O^(S|~w))+C[12]+1700485571&4294967295,D=S+(A<<6&4294967295|A>>>26),A=w+(S^(D|~O))+C[3]+2399980690&4294967295,w=D+(A<<10&4294967295|A>>>22),A=O+(D^(w|~S))+C[10]+4293915773&4294967295,O=w+(A<<15&4294967295|A>>>17),A=S+(w^(O|~D))+C[1]+2240044497&4294967295,S=O+(A<<21&4294967295|A>>>11),A=D+(O^(S|~w))+C[8]+1873313359&4294967295,D=S+(A<<6&4294967295|A>>>26),A=w+(S^(D|~O))+C[15]+4264355552&4294967295,w=D+(A<<10&4294967295|A>>>22),A=O+(D^(w|~S))+C[6]+2734768916&4294967295,O=w+(A<<15&4294967295|A>>>17),A=S+(w^(O|~D))+C[13]+1309151649&4294967295,S=O+(A<<21&4294967295|A>>>11),A=D+(O^(S|~w))+C[4]+4149444226&4294967295,D=S+(A<<6&4294967295|A>>>26),A=w+(S^(D|~O))+C[11]+3174756917&4294967295,w=D+(A<<10&4294967295|A>>>22),A=O+(D^(w|~S))+C[2]+718787259&4294967295,O=w+(A<<15&4294967295|A>>>17),A=S+(w^(O|~D))+C[9]+3951481745&4294967295,x.g[0]=x.g[0]+D&4294967295,x.g[1]=x.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+w&4294967295}a.prototype.u=function(x,D){D===void 0&&(D=x.length);for(var S=D-this.blockSize,C=this.B,O=this.h,w=0;w<D;){if(O==0)for(;w<=S;)u(this,x,w),w+=this.blockSize;if(typeof x=="string"){for(;w<D;)if(C[O++]=x.charCodeAt(w++),O==this.blockSize){u(this,C),O=0;break}}else for(;w<D;)if(C[O++]=x[w++],O==this.blockSize){u(this,C),O=0;break}}this.h=O,this.o+=D},a.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var D=1;D<x.length-8;++D)x[D]=0;var S=8*this.o;for(D=x.length-8;D<x.length;++D)x[D]=S&255,S/=256;for(this.u(x),x=Array(16),D=S=0;4>D;++D)for(var C=0;32>C;C+=8)x[S++]=this.g[D]>>>C&255;return x};function h(x,D){var S=g;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=D(x)}function d(x,D){this.h=D;for(var S=[],C=!0,O=x.length-1;0<=O;O--){var w=x[O]|0;C&&w==D||(S[O]=w,C=!1)}this.g=S}var g={};function _(x){return-128<=x&&128>x?h(x,function(D){return new d([D|0],0>D?-1:0)}):new d([x|0],0>x?-1:0)}function v(x){if(isNaN(x)||!isFinite(x))return I;if(0>x)return Z(v(-x));for(var D=[],S=1,C=0;x>=S;C++)D[C]=x/S|0,S*=4294967296;return new d(D,0)}function R(x,D){if(x.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x.charAt(0)=="-")return Z(R(x.substring(1),D));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=v(Math.pow(D,8)),C=I,O=0;O<x.length;O+=8){var w=Math.min(8,x.length-O),A=parseInt(x.substring(O,O+w),D);8>w?(w=v(Math.pow(D,w)),C=C.j(w).add(v(A))):(C=C.j(S),C=C.add(v(A)))}return C}var I=_(0),P=_(1),H=_(16777216);s=d.prototype,s.m=function(){if(tt(this))return-Z(this).m();for(var x=0,D=1,S=0;S<this.g.length;S++){var C=this.i(S);x+=(0<=C?C:4294967296+C)*D,D*=4294967296}return x},s.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if($(this))return"0";if(tt(this))return"-"+Z(this).toString(x);for(var D=v(Math.pow(x,6)),S=this,C="";;){var O=Ct(S,D).g;S=At(S,O.j(D));var w=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=O,$(S))return w+C;for(;6>w.length;)w="0"+w;C=w+C}},s.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function $(x){if(x.h!=0)return!1;for(var D=0;D<x.g.length;D++)if(x.g[D]!=0)return!1;return!0}function tt(x){return x.h==-1}s.l=function(x){return x=At(this,x),tt(x)?-1:$(x)?0:1};function Z(x){for(var D=x.g.length,S=[],C=0;C<D;C++)S[C]=~x.g[C];return new d(S,~x.h).add(P)}s.abs=function(){return tt(this)?Z(this):this},s.add=function(x){for(var D=Math.max(this.g.length,x.g.length),S=[],C=0,O=0;O<=D;O++){var w=C+(this.i(O)&65535)+(x.i(O)&65535),A=(w>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);C=A>>>16,w&=65535,A&=65535,S[O]=A<<16|w}return new d(S,S[S.length-1]&-2147483648?-1:0)};function At(x,D){return x.add(Z(D))}s.j=function(x){if($(this)||$(x))return I;if(tt(this))return tt(x)?Z(this).j(Z(x)):Z(Z(this).j(x));if(tt(x))return Z(this.j(Z(x)));if(0>this.l(H)&&0>x.l(H))return v(this.m()*x.m());for(var D=this.g.length+x.g.length,S=[],C=0;C<2*D;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var O=0;O<x.g.length;O++){var w=this.i(C)>>>16,A=this.i(C)&65535,ht=x.i(O)>>>16,Tt=x.i(O)&65535;S[2*C+2*O]+=A*Tt,gt(S,2*C+2*O),S[2*C+2*O+1]+=w*Tt,gt(S,2*C+2*O+1),S[2*C+2*O+1]+=A*ht,gt(S,2*C+2*O+1),S[2*C+2*O+2]+=w*ht,gt(S,2*C+2*O+2)}for(C=0;C<D;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=D;C<2*D;C++)S[C]=0;return new d(S,0)};function gt(x,D){for(;(x[D]&65535)!=x[D];)x[D+1]+=x[D]>>>16,x[D]&=65535,D++}function Et(x,D){this.g=x,this.h=D}function Ct(x,D){if($(D))throw Error("division by zero");if($(x))return new Et(I,I);if(tt(x))return D=Ct(Z(x),D),new Et(Z(D.g),Z(D.h));if(tt(D))return D=Ct(x,Z(D)),new Et(Z(D.g),D.h);if(30<x.g.length){if(tt(x)||tt(D))throw Error("slowDivide_ only works with positive integers.");for(var S=P,C=D;0>=C.l(x);)S=yt(S),C=yt(C);var O=It(S,1),w=It(C,1);for(C=It(C,2),S=It(S,2);!$(C);){var A=w.add(C);0>=A.l(x)&&(O=O.add(S),w=A),C=It(C,1),S=It(S,1)}return D=At(x,O.j(D)),new Et(O,D)}for(O=I;0<=x.l(D);){for(S=Math.max(1,Math.floor(x.m()/D.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),w=v(S),A=w.j(D);tt(A)||0<A.l(x);)S-=C,w=v(S),A=w.j(D);$(w)&&(w=P),O=O.add(w),x=At(x,A)}return new Et(O,x)}s.A=function(x){return Ct(this,x).h},s.and=function(x){for(var D=Math.max(this.g.length,x.g.length),S=[],C=0;C<D;C++)S[C]=this.i(C)&x.i(C);return new d(S,this.h&x.h)},s.or=function(x){for(var D=Math.max(this.g.length,x.g.length),S=[],C=0;C<D;C++)S[C]=this.i(C)|x.i(C);return new d(S,this.h|x.h)},s.xor=function(x){for(var D=Math.max(this.g.length,x.g.length),S=[],C=0;C<D;C++)S[C]=this.i(C)^x.i(C);return new d(S,this.h^x.h)};function yt(x){for(var D=x.g.length+1,S=[],C=0;C<D;C++)S[C]=x.i(C)<<1|x.i(C-1)>>>31;return new d(S,x.h)}function It(x,D){var S=D>>5;D%=32;for(var C=x.g.length-S,O=[],w=0;w<C;w++)O[w]=0<D?x.i(w+S)>>>D|x.i(w+S+1)<<32-D:x.i(w+S);return new d(O,x.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,r_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=R,Tr=d}).apply(typeof Zp<"u"?Zp:typeof self<"u"?self:typeof window<"u"?window:{});var Ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a_,Ul,s_,Vo,xf,l_,u_,o_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ao=="object"&&Ao];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var p=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var z=o[T];if(!(z in p))break t;p=p[z]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,z={next:function(){if(!T&&p<o.length){var j=p++;return{value:m(j,o[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function R(o,m,p){return o.call.apply(o.bind,arguments)}function I(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),o.apply(m,z)}}return function(){return o.apply(m,arguments)}}function P(o,m,p){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R:I,P.apply(null,arguments)}function H(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function $(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,z,j){for(var J=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)J[xt-2]=arguments[xt];return m.prototype[z].apply(T,J)}}function tt(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function Z(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const z=o.length||0,j=T.length||0;o.length=z+j;for(let J=0;J<j;J++)o[z+J]=T[J]}else o.push(T)}}class At{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function gt(o){return/^[\s\xa0]*$/.test(o)}function Et(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function Ct(o){return Ct[" "](o),o}Ct[" "]=function(){};var yt=Et().indexOf("Gecko")!=-1&&!(Et().toLowerCase().indexOf("webkit")!=-1&&Et().indexOf("Edge")==-1)&&!(Et().indexOf("Trident")!=-1||Et().indexOf("MSIE")!=-1)&&Et().indexOf("Edge")==-1;function It(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function x(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function D(o){const m={};for(const p in o)m[p]=o[p];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(o,m){let p,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(p in T)o[p]=T[p];for(let j=0;j<S.length;j++)p=S[j],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function O(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function w(o){g.setTimeout(()=>{throw o},0)}function A(){var o=Bt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class ht{constructor(){this.h=this.g=null}add(m,p){const T=Tt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var Tt=new At(()=>new X,o=>o.reset());class X{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,ut=!1,Bt=new ht,V=()=>{const o=g.Promise.resolve(void 0);lt=()=>{o.then(F)}};var F=()=>{for(var o;o=A();){try{o.h.call(o.g)}catch(p){w(p)}var m=Tt;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ut=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var nt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function Rt(o,m){if(et.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(yt){t:{try{Ct(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:St[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Rt.aa.h.call(this)}}$(Rt,et);var St={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),jt=0;function ie(o,m,p,T,z){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=z,this.key=++jt,this.da=this.fa=!1}function Ft(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ke(o){this.src=o,this.g={},this.h=0}Ke.prototype.add=function(o,m,p,T,z){var j=o.toString();o=this.g[j],o||(o=this.g[j]=[],this.h++);var J=mn(o,m,T,z);return-1<J?(m=o[J],p||(m.fa=!1)):(m=new ie(m,this.src,j,!!T,z),m.fa=p,o.push(m)),m};function ai(o,m){var p=m.type;if(p in o.g){var T=o.g[p],z=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=z)&&Array.prototype.splice.call(T,z,1),j&&(Ft(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function mn(o,m,p,T){for(var z=0;z<o.length;++z){var j=o[z];if(!j.da&&j.listener==m&&j.capture==!!p&&j.ha==T)return z}return-1}var Ui="closure_lm_"+(1e6*Math.random()|0),zi={};function si(o,m,p,T,z){if(Array.isArray(m)){for(var j=0;j<m.length;j++)si(o,m[j],p,T,z);return null}return p=tu(p),o&&o[he]?o.K(m,p,v(T)?!!T.capture:!1,z):ws(o,m,p,!1,T,z)}function ws(o,m,p,T,z,j){if(!m)throw Error("Invalid event type");var J=v(z)?!!z.capture:!!z,xt=Ds(o);if(xt||(o[Ui]=xt=new Ke(o)),p=xt.add(m,p,T,J,j),p.proxy)return p;if(T=_a(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)nt||(z=J),z===void 0&&(z=!1),o.addEventListener(m.toString(),T,z);else if(o.attachEvent)o.attachEvent(Ea(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function _a(){function o(p){return m.call(o.src,o.listener,p)}const m=gc;return o}function va(o,m,p,T,z){if(Array.isArray(m))for(var j=0;j<m.length;j++)va(o,m[j],p,T,z);else T=v(T)?!!T.capture:!!T,p=tu(p),o&&o[he]?(o=o.i,m=String(m).toString(),m in o.g&&(j=o.g[m],p=mn(j,p,T,z),-1<p&&(Ft(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete o.g[m],o.h--)))):o&&(o=Ds(o))&&(m=o.g[m.toString()],o=-1,m&&(o=mn(m,p,T,z)),(p=-1<o?m[o]:null)&&Ir(p))}function Ir(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[he])ai(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Ea(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ds(m))?(ai(p,o),p.h==0&&(p.src=null,m[Ui]=null)):Ft(o)}}}function Ea(o){return o in zi?zi[o]:zi[o]="on"+o}function gc(o,m){if(o.da)o=!0;else{m=new Rt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&Ir(o),o=p.call(T,m)}return o}function Ds(o){return o=o[Ui],o instanceof Ke?o:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function tu(o){return typeof o=="function"?o:(o[We]||(o[We]=function(m){return o.handleEvent(m)}),o[We])}function pe(){rt.call(this),this.i=new Ke(this),this.M=this,this.F=null}$(pe,rt),pe.prototype[he]=!0,pe.prototype.removeEventListener=function(o,m,p,T){va(this,o,m,p,T)};function Re(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new et(m,o);else if(m instanceof et)m.target=m.target||o;else{var z=m;m=new et(T,o),C(m,z)}if(z=!0,p)for(var j=p.length-1;0<=j;j--){var J=m.g=p[j];z=li(J,T,!0,m)&&z}if(J=m.g=o,z=li(J,T,!0,m)&&z,z=li(J,T,!1,m)&&z,p)for(j=0;j<p.length;j++)J=m.g=p[j],z=li(J,T,!1,m)&&z}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Ft(p[T]);delete o.g[m],o.h--}}this.F=null},pe.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},pe.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function li(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,j=0;j<m.length;++j){var J=m[j];if(J&&!J.da&&J.capture==p){var xt=J.listener,_e=J.ha||J.src;J.fa&&ai(o.i,J),z=xt.call(_e,T)!==!1&&z}}return z&&!T.defaultPrevented}function eu(o,m,p){if(typeof o=="function")p&&(o=P(o,p));else if(o&&typeof o.handleEvent=="function")o=P(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function Cs(o){o.g=eu(()=>{o.g=null,o.i&&(o.i=!1,Cs(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class pc extends rt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Cs(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(o){rt.call(this),this.h=o,this.g={}}$(xr,rt);var Li=[];function je(o){It(o.g,function(m,p){this.g.hasOwnProperty(p)&&Ir(m)},o),o.g={}}xr.prototype.N=function(){xr.aa.N.call(this),je(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vs=g.JSON.stringify,Ln=g.JSON.parse,Ye=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Ns(){}Ns.prototype.h=null;function nu(o){return o.h||(o.h=o.i())}function iu(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pi(){et.call(this,"d")}$(Pi,et);function On(){et.call(this,"c")}$(On,et);var gn={},Bi=null;function Ta(){return Bi=Bi||new pe}gn.La="serverreachability";function Os(o){et.call(this,gn.La,o)}$(Os,et);function ji(o){const m=Ta();Re(m,new Os(m))}gn.STAT_EVENT="statevent";function Aa(o,m){et.call(this,gn.STAT_EVENT,o),this.stat=m}$(Aa,et);function ue(o){const m=Ta();Re(m,new Aa(m,o))}gn.Ma="timingevent";function ru(o,m){et.call(this,gn.Ma,o),this.size=m}$(ru,et);function ki(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function qi(){this.g=!0}qi.prototype.xa=function(){this.g=!1};function au(o,m,p,T,z,j){o.info(function(){if(o.g)if(j)for(var J="",xt=j.split("&"),_e=0;_e<xt.length;_e++){var Ut=xt[_e].split("=");if(1<Ut.length){var Ce=Ut[0];Ut=Ut[1];var ve=Ce.split("_");J=2<=ve.length&&ve[1]=="type"?J+(Ce+"="+Ut+"&"):J+(Ce+"=redacted&")}}else J=null;else J=j;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+p+`
`+J})}function su(o,m,p,T,z,j,J){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+p+`
`+j+" "+J})}function Hi(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+we(o,p)+(T?" "+T:"")})}function Bn(o,m){o.info(function(){return"TIMEOUT: "+m})}qi.prototype.info=function(){};function we(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var j=z[0];if(j!="noop"&&j!="stop"&&j!="close")for(var J=1;J<z.length;J++)z[J]=""}}}}return Vs(p)}catch{return m}}var ye={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ur;function Sa(){}$(Sa,Ns),Sa.prototype.g=function(){return new XMLHttpRequest},Sa.prototype.i=function(){return{}},Ur=new Sa;function jn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ms}function Ms(){this.i=null,this.g="",this.h=!1}var Gi={},zr={};function Mn(o,m,p){o.L=1,o.v=Br(re(m)),o.m=p,o.P=!0,oi(o,null)}function oi(o,m){o.F=Date.now(),Wt(o),o.A=re(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),fi(p.i,"t",T),o.C=0,p=o.j.J,o.h=new Ms,o.g=Eu(o.j,p?m:null,!o.m),0<o.O&&(o.M=new pc(P(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var z="readystatechange";Array.isArray(z)||(z&&(Li[0]=z.toString()),z=Li);for(var j=0;j<z.length;j++){var J=si(p,z[j],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=o.H?D(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),ji(),au(o.i,o.u,o.A,o.l,o.R,o.m)}jn.prototype.ca=function(o){o=o.target;const m=this.M;m&&En(o)==3?m.j():this.Y(o)},jn.prototype.Y=function(o){try{if(o==this.g)t:{const ve=En(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||fu(this.g)))){this.J||ve!=4||m==7||(m==8||0>=pi?ji(3):ji(2)),ba(this);var p=this.g.Z();this.X=p;e:if(Qi(this)){var T=fu(this.g);o="";var z=T.length,j=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),an(this);var J="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(j&&m==z-1)});T.length=0,this.h.g+=o,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=p==200,su(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,_e=this.g;if((xt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gt(xt)){var Ut=xt;break e}}Ut=null}if(p=Ut)Hi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sn(this,p);else{this.o=!1,this.s=3,ue(12),tn(this),an(this);break t}}if(this.P){p=!0;let Ie;for(;!this.J&&this.C<J.length;)if(Ie=Fi(this,J),Ie==zr){ve==4&&(this.s=4,ue(14),p=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==Gi){this.s=4,ue(15),Hi(this.i,this.l,J,"[Invalid Chunk]"),p=!1;break}else Hi(this.i,this.l,Ie,null),sn(this,Ie);if(Qi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||J.length!=0||this.h.h||(this.s=1,ue(16),p=!1),this.o=this.o&&p,!p)Hi(this.i,this.l,J,"[Invalid Chunked Response]"),tn(this),an(this);else if(0<J.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),Fr(Ce),Ce.M=!0,ue(11))}}else Hi(this.i,this.l,J,null),sn(this,J);ve==4&&tn(this),this.o&&!this.J&&(ve==4?yu(this.j,this):(this.o=!1,Wt(this)))}else Ac(this.g),p==400&&0<J.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),tn(this),an(this)}}}catch{}finally{}};function Qi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Fi(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?zr:(p=Number(m.substring(p,T)),isNaN(p)?Gi:(T+=1,T+p>m.length?zr:(m=m.slice(T,T+p),o.C=T+p,m)))}jn.prototype.cancel=function(){this.J=!0,tn(this)};function Wt(o){o.S=Date.now()+o.I,Is(o,o.I)}function Is(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ki(P(o.ba,o),m)}function ba(o){o.B&&(g.clearTimeout(o.B),o.B=null)}jn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Bn(this.i,this.A),this.L!=2&&(ji(),ue(17)),tn(this),this.s=2,an(this)):Is(this,this.S-o)};function an(o){o.j.G==0||o.J||yu(o.j,o)}function tn(o){ba(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,je(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function sn(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Ki(p.h,o))){if(!o.K&&Ki(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)xa(p),Ma(p);else break t;Gs(p),ue(18)}}else p.za=z[1],0<p.za-p.T&&37500>z[2]&&p.F&&p.v==0&&!p.C&&(p.C=ki(P(p.Za,p),6e3));if(1>=lu(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else gi(p,11)}else if((o.K||p.g==o)&&xa(p),!gt(m))for(z=p.Da.g.parse(m),m=0;m<z.length;m++){let Ut=z[m];if(p.T=Ut[0],Ut=Ut[1],p.G==2)if(Ut[0]=="c"){p.K=Ut[1],p.ia=Ut[2];const Ce=Ut[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const ve=Ut[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const pi=Ut[5];pi!=null&&typeof pi=="number"&&0<pi&&(T=1.5*pi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ie=o.g;if(Ie){const Kn=Ie.g?Ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var j=T.h;j.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Yi(j,j.h),j.h=null))}if(T.D){const Fs=Ie.g?Ie.g.getResponseHeader("X-HTTP-Session-Id"):null;Fs&&(T.ya=Fs,kt(T.I,T.D,Fs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var J=o;if(T.qa=vu(T,T.J?T.ia:null,T.W),J.K){pn(T.h,J);var xt=J,_e=T.L;_e&&(xt.I=_e),xt.B&&(ba(xt),Wt(xt)),T.g=J}else gu(T);0<p.i.length&&Ia(p)}else Ut[0]!="stop"&&Ut[0]!="close"||gi(p,7);else p.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?gi(p,7):qs(p):Ut[0]!="noop"&&p.l&&p.l.ta(Ut),p.v=0)}}ji(4)}catch{}}var yc=class{constructor(o,m){this.g=o,this.map=m}};function xs(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Us(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function lu(o){return o.h?1:o.g?o.g.size:0}function Ki(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Yi(o,m){o.g?o.g.add(m):o.h=m}function pn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}xs.prototype.cancel=function(){if(this.i=Xe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Xe(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return tt(o.i)}function uu(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function _c(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function Lr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=_c(o),T=uu(o),z=T.length,j=0;j<z;j++)m.call(void 0,T[j],p&&p[j],o)}var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),z=null;if(0<=T){var j=o[p].substring(0,T);z=o[p].substring(T+1)}else j=o[p];m(j,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ci(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof ci){this.h=o.h,Xi(this,o.j),this.o=o.o,this.g=o.g,Pr(this,o.s),this.l=o.l;var m=o.i,p=new kn;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),wa(this,p),this.m=o.m}else o&&(m=String(o).match(zs))?(this.h=!1,Xi(this,m[1]||"",!0),this.o=Zi(m[2]||""),this.g=Zi(m[3]||"",!0),Pr(this,m[4]),this.l=Zi(m[5]||"",!0),wa(this,m[6]||"",!0),this.m=Zi(m[7]||"")):(this.h=!1,this.i=new kn(null,this.h))}ci.prototype.toString=function(){var o=[],m=this.j;m&&o.push(yn(m,Ls,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(yn(m,Ls,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(yn(p,p.charAt(0)=="/"?Ps:ou,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",yn(p,Tc)),o.join("")};function re(o){return new ci(o)}function Xi(o,m,p){o.j=p?Zi(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Pr(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function wa(o,m,p){m instanceof kn?(o.i=m,Bs(o.i,o.h)):(p||(m=yn(m,Ec)),o.i=new kn(m,o.h))}function kt(o,m,p){o.i.set(m,p)}function Br(o){return kt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Zi(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function yn(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,vc),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function vc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ls=/[#\/\?@]/g,ou=/[#\?:]/g,Ps=/[#\?]/g,Ec=/[#\?@]/g,Tc=/#/g;function kn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function _n(o){o.g||(o.g=new Map,o.h=0,o.i&&Ra(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=kn.prototype,s.add=function(o,m){_n(this),this.i=null,o=di(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Da(o,m){_n(o),m=di(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function hi(o,m){return _n(o),m=di(o,m),o.g.has(m)}s.forEach=function(o,m){_n(this),this.g.forEach(function(p,T){p.forEach(function(z){o.call(m,z,T,this)},this)},this)},s.na=function(){_n(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const z=o[T];for(let j=0;j<z.length;j++)p.push(m[T])}return p},s.V=function(o){_n(this);let m=[];if(typeof o=="string")hi(this,o)&&(m=m.concat(this.g.get(di(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return _n(this),this.i=null,o=di(this,o),hi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function fi(o,m,p){Da(o,m),0<p.length&&(o.i=null,o.g.set(di(o,m),tt(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const j=encodeURIComponent(String(T)),J=this.V(T);for(T=0;T<J.length;T++){var z=j;J[T]!==""&&(z+="="+encodeURIComponent(String(J[T]))),o.push(z)}}return this.i=o.join("&")};function di(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Bs(o,m){m&&!o.j&&(_n(o),o.i=null,o.g.forEach(function(p,T){var z=T.toLowerCase();T!=z&&(Da(this,T),fi(this,z,p))},o)),o.j=m}function cu(o,m){const p=new qi;if(g.Image){const T=new Image;T.onload=H(vn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=H(vn,p,"TestLoadImage: error",!1,m,T),T.onabort=H(vn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(vn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function jr(o,m){const p=new qi,T=new AbortController,z=setTimeout(()=>{T.abort(),vn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(j=>{clearTimeout(z),j.ok?vn(p,"TestPingServer: ok",!0,m):vn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),vn(p,"TestPingServer: error",!1,m)})}function vn(o,m,p,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(p)}catch{}}function kr(){this.g=new Ye}function qn(o,m,p){const T=p||"";try{Lr(o,function(z,j){let J=z;v(z)&&(J=Vs(z)),m.push(T+j+"="+encodeURIComponent(J))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function $i(o){this.l=o.Ub||null,this.j=o.eb||!1}$($i,Ns),$i.prototype.g=function(){return new mi(this.l,this.j)},$i.prototype.i=function(o){return function(){return o}}({});function mi(o,m){pe.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(mi,pe),s=mi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Gn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;js(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function js(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Hn(this):Gn(this),this.readyState==3&&js(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,Hn(this))},s.Qa=function(o){this.g&&(this.response=o,Hn(this))},s.ga=function(){this.g&&Hn(this)};function Hn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Gn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Gn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function ks(o){let m="";return It(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=ks(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):kt(o,m,p))}function Gt(o){pe.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Gt,pe);var Ca=/^https?$/i,qr=["POST","PUT"];s=Gt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ur.g(),this.v=this.o?nu(this.o):nu(Ur),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(j){hu(this,j);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)p.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())p.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),z=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(qr,m,void 0))||T||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,J]of p)this.g.setRequestHeader(j,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hr(this),this.u=!0,this.g.send(o),this.u=!1}catch(j){hu(this,j)}};function hu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Va(o),Qn(o)}function Va(o){o.A||(o.A=!0,Re(o,"complete"),Re(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Re(this,"complete"),Re(this,"abort"),Qn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),Gt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},s.bb=function(){Na(this)};function Na(o){if(o.h&&typeof d<"u"&&(!o.v[1]||En(o)!=4||o.Z()!=2)){if(o.u&&En(o)==4)eu(o.Ea,0,o);else if(Re(o,"readystatechange"),En(o)==4){o.h=!1;try{const J=o.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=J===0){var z=String(o.D).match(zs)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),T=!Ca.test(z?z.toLowerCase():"")}p=T}if(p)Re(o,"complete"),Re(o,"success");else{o.m=6;try{var j=2<En(o)?o.g.statusText:""}catch{j=""}o.l=j+" ["+o.Z()+"]",Va(o)}}finally{Qn(o)}}}}function Qn(o,m){if(o.g){Hr(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Re(o,"ready");try{p.onreadystatechange=T}catch{}}}function Hr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function En(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Ln(m)}};function fu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ac(o){const m={};o=(o.g&&2<=En(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(gt(o[T]))continue;var p=O(o[T]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=m[z]||[];m[z]=j,j.push(p)}x(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Oa(o){this.Aa=0,this.i=[],this.j=new qi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,o),this.cb=Gr("retryDelaySeedMs",1e4,o),this.Wa=Gr("forwardChannelMaxRetries",2,o),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new xs(o&&o.concurrentRequestLimit),this.Da=new kr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Oa.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){ue(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=vu(this,null,this.W),Ia(this)};function qs(o){if(du(o),o.G==3){var m=o.U++,p=re(o.I);if(kt(p,"SID",o.K),kt(p,"RID",m),kt(p,"TYPE","terminate"),Qr(o,p),m=new jn(o,o.j,m),m.L=2,m.v=Br(re(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Eu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Wt(m)}_u(o)}function Ma(o){o.g&&(Fr(o),o.g.cancel(),o.g=null)}function du(o){Ma(o),o.u&&(g.clearTimeout(o.u),o.u=null),xa(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Ia(o){if(!Us(o.h)&&!o.s){o.s=!0;var m=o.Ga;lt||V(),ut||(lt(),ut=!0),Bt.add(m,o),o.B=0}}function Sc(o,m){return lu(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ki(P(o.Ga,o,m),Qs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const z=new jn(this,this.j,o);let j=this.o;if(this.S&&(j?(j=D(j),C(j,this.S)):j=this.S),this.m!==null||this.O||(z.H=j,j=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=mu(this,z,m),p=re(this.I),kt(p,"RID",o),kt(p,"CVER",22),this.D&&kt(p,"X-HTTP-Session-Id",this.D),Qr(this,p),j&&(this.O?m="headers="+encodeURIComponent(String(ks(j)))+"&"+m:this.m&&De(p,this.m,j)),Yi(this.h,z),this.Ua&&kt(p,"TYPE","init"),this.P?(kt(p,"$req",m),kt(p,"SID","null"),z.T=!0,Mn(z,p,null)):Mn(z,p,m),this.G=2}}else this.G==3&&(o?Hs(this,o):this.i.length==0||Us(this.h)||Hs(this))};function Hs(o,m){var p;m?p=m.l:p=o.U++;const T=re(o.I);kt(T,"SID",o.K),kt(T,"RID",p),kt(T,"AID",o.T),Qr(o,T),o.m&&o.o&&De(T,o.m,o.o),p=new jn(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=mu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Yi(o.h,p),Mn(p,T,m)}function Qr(o,m){o.H&&It(o.H,function(p,T){kt(m,T,p)}),o.l&&Lr({},function(p,T){kt(m,T,p)})}function mu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?P(o.l.Na,o.l,o):null;t:{var z=o.i;let j=-1;for(;;){const J=["count="+p];j==-1?0<p?(j=z[0].g,J.push("ofs="+j)):j=0:J.push("ofs="+j);let xt=!0;for(let _e=0;_e<p;_e++){let Ut=z[_e].g;const Ce=z[_e].map;if(Ut-=j,0>Ut)j=Math.max(0,z[_e].g-100),xt=!1;else try{qn(Ce,J,"req"+Ut+"_")}catch{T&&T(Ce)}}if(xt){T=J.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function gu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;lt||V(),ut||(lt(),ut=!0),Bt.add(m,o),o.v=0}}function Gs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ki(P(o.Fa,o),Qs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ki(P(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),Ma(this),pu(this))};function Fr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function pu(o){o.g=new jn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=re(o.qa);kt(m,"RID","rpc"),kt(m,"SID",o.K),kt(m,"AID",o.T),kt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&kt(m,"TO",o.ja),kt(m,"TYPE","xmlhttp"),Qr(o,m),o.m&&o.o&&De(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=Br(re(m)),p.m=null,p.P=!0,oi(p,o)}s.Za=function(){this.C!=null&&(this.C=null,Ma(this),Gs(this),ue(19))};function xa(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function yu(o,m){var p=null;if(o.g==m){xa(o),Fr(o),o.g=null;var T=2}else if(Ki(o.h,m))p=m.D,pn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var z=o.B;T=Ta(),Re(T,new ru(T,p)),Ia(o)}else gu(o);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&Sc(o,m)||T==2&&Gs(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),z){case 1:gi(o,5);break;case 4:gi(o,10);break;case 3:gi(o,6);break;default:gi(o,2)}}}function Qs(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function gi(o,m){if(o.j.info("Error code "+m),m==2){var p=P(o.fb,o),T=o.Xa;const z=!T;T=new ci(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Xi(T,"https"),Br(T),z?cu(T.toString(),p):jr(T.toString(),p)}else ue(2);o.G=0,o.l&&o.l.sa(m),_u(o),du(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function _u(o){if(o.G=0,o.ka=[],o.l){const m=Xe(o.h);(m.length!=0||o.i.length!=0)&&(Z(o.ka,m),Z(o.ka,o.i),o.h.i.length=0,tt(o.i),o.i.length=0),o.l.ra()}}function vu(o,m,p){var T=p instanceof ci?re(p):new ci(p);if(T.g!="")m&&(T.g=m+"."+T.g),Pr(T,T.s);else{var z=g.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var j=new ci(null);T&&Xi(j,T),m&&(j.g=m),z&&Pr(j,z),p&&(j.l=p),T=j}return p=o.D,m=o.ya,p&&m&&kt(T,p,m),kt(T,"VER",o.la),Qr(o,T),T}function Eu(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Gt(new $i({eb:p})):new Gt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ua(){}Ua.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){pe.call(this),this.g=new Oa(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!gt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!gt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Fn(this)}$(Ze,pe),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){qs(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Vs(o),o=p);m.i.push(new yc(m.Ya++,o)),m.G==3&&Ia(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,qs(this.g),delete this.g,Ze.aa.N.call(this)};function Au(o){Pi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}$(Au,Pi);function Su(){On.call(this),this.status=1}$(Su,On);function Fn(o){this.g=o}$(Fn,Tu),Fn.prototype.ua=function(){Re(this.g,"a")},Fn.prototype.ta=function(o){Re(this.g,new Au(o))},Fn.prototype.sa=function(o){Re(this.g,new Su)},Fn.prototype.ra=function(){Re(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,o_=function(){return new Ua},u_=function(){return Ta()},l_=gn,xf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,Vo=ye,ui.COMPLETE="complete",s_=ui,iu.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Ul=iu,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,a_=Gt}).apply(typeof Ao<"u"?Ao:typeof self<"u"?self:typeof window<"u"?window:{});const $p="@firebase/firestore",Jp="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let As="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new Jy("@firebase/firestore");function us(){return da.logLevel}function it(s,...e){if(da.logLevel<=Pt.DEBUG){const i=e.map(Wf);da.debug(`Firestore (${As}): ${s}`,...i)}}function Ii(s,...e){if(da.logLevel<=Pt.ERROR){const i=e.map(Wf);da.error(`Firestore (${As}): ${s}`,...i)}}function ms(s,...e){if(da.logLevel<=Pt.WARN){const i=e.map(Wf);da.warn(`Firestore (${As}): ${s}`,...i)}}function Wf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(s="Unexpected state"){const e=`FIRESTORE (${As}) INTERNAL ASSERTION FAILED: `+s;throw Ii(e),new Error(e)}function Qt(s,e){s||mt()}function vt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Ts{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class $T{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class JT{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Qt(this.o===void 0);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ar,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ar)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qt(typeof a.accessToken=="string"),new c_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qt(e===null||typeof e=="string"),new Qe(e)}}class WT{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class tA{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new WT(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,IT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Qt(this.o===void 0);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Wp(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Qt(typeof i.token=="string"),this.R=i.token,new Wp(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=nA(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function Mt(s,e){return s<e?-1:s>e?1:0}function gs(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=-62135596800,ey=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*ey);return new Se(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ct(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<ty)throw new ct(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ey}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ty;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new Se(0,0))}static max(){return new pt(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="__name__";class Wn{constructor(e,i,a){i===void 0?i=0:i>e.length&&mt(),a===void 0?a=e.length-i:a>e.length-i&&mt(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=Wn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Math.sign(e.length-i.length)}static compareSegments(e,i){const a=Wn.isNumericId(e),u=Wn.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}}class Jt extends Wn{construct(e,i,a){return new Jt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ct(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new Jt(i)}static emptyPath(){return new Jt([])}}const iA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends Wn{construct(e,i,a){return new Pe(e,i,a)}static isValidIdentifier(e){return iA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ny}static keyField(){return new Pe([ny])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new ct(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new ct(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(a+=g,u++):(h(),u++)}if(h(),d)throw new ct(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Jt.fromString(e))}static fromName(e){return new ft(Jt.fromString(e).popFirst(5))}static empty(){return new ft(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=-1;function rA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=pt.fromTimestamp(a===1e9?new Se(i+1,0):new Se(i,a));return new Rr(u,ft.empty(),e)}function aA(s){return new Rr(s.readTime,s.key,Gl)}class Rr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Rr(pt.min(),ft.empty(),Gl)}static max(){return new Rr(pt.max(),ft.empty(),Gl)}}function sA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:Mt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ss(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==lA)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Q((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.reject(i)}static resolve(e){return new Q((i,a)=>{i(e)})}static reject(e){return new Q((i,a)=>{a(e)})}static waitFor(e){return new Q((i,a)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},_=>a(_))}),d=!0,h===u&&i()})}static or(e){let i=Q.resolve(!1);for(const a of e)i=i.next(u=>u?Q.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new Q((a,u)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(R=>{d[v]=R,++g,g===h&&a(d)},R=>u(R))}})}static doWhile(e,i){return new Q((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function oA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$o.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=-1;function Jo(s){return s==null}function Bo(s){return s===0&&1/s==-1/0}function cA(s){return typeof s=="number"&&Number.isInteger(s)&&!Bo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="";function hA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=iy(e)),e=fA(s.get(i),e);return iy(e)}function fA(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case f_:i+="";break;default:i+=h}}return i}function iy(s){return s+f_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Or(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function d_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||Le.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new So(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new So(this.root,e,this.comparator,!1)}getReverseIterator(){return new So(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new So(this.root,e,this.comparator,!0)}}class So{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??Le.RED,this.left=u??Le.EMPTY,this.right=h??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new Le(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Le.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(e,i,a,u,h){return this}insert(e,i,a){return new Le(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ay(this.data.getIterator())}getIteratorFrom(e){return new ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class ay{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new fn([])}unionWith(e){let i=new be(Pe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return gs(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new m_("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const dA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(s){if(Qt(!!s),typeof s=="string"){let e=0;const i=dA.exec(s);if(Qt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ce(s.seconds),nanos:ce(s.nanos)}}function ce(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Dr(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="server_timestamp",p_="__type__",y_="__previous_value__",__="__local_write_time__";function ed(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[p_])===null||i===void 0?void 0:i.stringValue)===g_}function Wo(s){const e=s.mapValue.fields[y_];return ed(e)?Wo(e):e}function Ql(s){const e=wr(s.mapValue.fields[__].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,i,a,u,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const jo="(default)";class Fl{constructor(e,i){this.projectId=e,this.database=i||jo}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===jo}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="__type__",gA="__max__",bo={mapValue:{}},E_="__vector__",ko="value";function Cr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ed(s)?4:yA(s)?9007199254740991:pA(s)?10:11:mt()}function ii(s,e){if(s===e)return!0;const i=Cr(s);if(i!==Cr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ql(s).isEqual(Ql(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=wr(u.timestampValue),g=wr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return Dr(u.bytesValue).isEqual(Dr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ce(u.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(u.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ce(u.integerValue)===ce(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ce(u.doubleValue),g=ce(h.doubleValue);return d===g?Bo(d)===Bo(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return gs(s.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(ry(d)!==ry(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ii(d[_],g[_])))return!1;return!0}(s,e);default:return mt()}}function Kl(s,e){return(s.values||[]).find(i=>ii(i,e))!==void 0}function ps(s,e){if(s===e)return 0;const i=Cr(s),a=Cr(e);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ce(h.integerValue||h.doubleValue),_=ce(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return sy(s.timestampValue,e.timestampValue);case 4:return sy(Ql(s),Ql(e));case 5:return Mt(s.stringValue,e.stringValue);case 6:return function(h,d){const g=Dr(h),_=Dr(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const R=Mt(g[v],_[v]);if(R!==0)return R}return Mt(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Mt(ce(h.latitude),ce(d.latitude));return g!==0?g:Mt(ce(h.longitude),ce(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return ly(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,R;const I=h.fields||{},P=d.fields||{},H=(g=I[ko])===null||g===void 0?void 0:g.arrayValue,$=(_=P[ko])===null||_===void 0?void 0:_.arrayValue,tt=Mt(((v=H==null?void 0:H.values)===null||v===void 0?void 0:v.length)||0,((R=$==null?void 0:$.values)===null||R===void 0?void 0:R.length)||0);return tt!==0?tt:ly(H,$)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===bo.mapValue&&d===bo.mapValue)return 0;if(h===bo.mapValue)return 1;if(d===bo.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},R=Object.keys(v);_.sort(),R.sort();for(let I=0;I<_.length&&I<R.length;++I){const P=Mt(_[I],R[I]);if(P!==0)return P;const H=ps(g[_[I]],v[R[I]]);if(H!==0)return H}return Mt(_.length,R.length)}(s.mapValue,e.mapValue);default:throw mt()}}function sy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Mt(s,e);const i=wr(s),a=wr(e),u=Mt(i.seconds,a.seconds);return u!==0?u:Mt(i.nanos,a.nanos)}function ly(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=ps(i[u],a[u]);if(h)return h}return Mt(i.length,a.length)}function ys(s){return Uf(s)}function Uf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=wr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Dr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ft.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Uf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Uf(i.fields[d])}`;return u+"}"}(s.mapValue):mt()}function No(s){switch(Cr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wo(s);return e?16+No(e):16;case 5:return 2*s.stringValue.length;case 6:return Dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+No(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return Or(a.fields,(h,d)=>{u+=h.length+No(d)}),u}(s.mapValue);default:throw mt()}}function zf(s){return!!s&&"integerValue"in s}function nd(s){return!!s&&"arrayValue"in s}function uy(s){return!!s&&"nullValue"in s}function oy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Oo(s){return!!s&&"mapValue"in s}function pA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[v_])===null||i===void 0?void 0:i.stringValue)===E_}function Pl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Or(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Pl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Pl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function yA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===gA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Oo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(i)}setAll(e){let i=Pe.emptyPath(),a={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=g.popLast()}d?a[g.lastSegment()]=Pl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Oo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Oo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){Or(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new rn(Pl(this.value))}}function T_(s){const e=[];return Or(s.fields,(i,a)=>{const u=new Pe([i]);if(Oo(a)){const h=T_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,a,u,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Fe(e,0,pt.min(),pt.min(),pt.min(),rn.empty(),0)}static newFoundDocument(e,i,a,u){return new Fe(e,1,i,pt.min(),a,u,0)}static newNoDocument(e,i){return new Fe(e,2,i,pt.min(),pt.min(),rn.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,pt.min(),pt.min(),rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,i){this.position=e,this.inclusive=i}}function cy(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=ps(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function hy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ii(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,i="asc"){this.field=e,this.dir=i}}function _A(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{}class Ae extends A_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new EA(e,i,a):i==="array-contains"?new SA(e,a):i==="in"?new bA(e,a):i==="not-in"?new RA(e,a):i==="array-contains-any"?new wA(e,a):new Ae(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new TA(e,a):new AA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ps(i,this.value)):i!==null&&Cr(this.value)===Cr(i)&&this.matchesComparison(ps(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends A_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ri(e,i)}matches(e){return S_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function S_(s){return s.op==="and"}function b_(s){return vA(s)&&S_(s)}function vA(s){for(const e of s.filters)if(e instanceof ri)return!1;return!0}function Lf(s){if(s instanceof Ae)return s.field.canonicalString()+s.op.toString()+ys(s.value);if(b_(s))return s.filters.map(e=>Lf(e)).join(",");{const e=s.filters.map(i=>Lf(i)).join(",");return`${s.op}(${e})`}}function R_(s,e){return s instanceof Ae?function(a,u){return u instanceof Ae&&a.op===u.op&&a.field.isEqual(u.field)&&ii(a.value,u.value)}(s,e):s instanceof ri?function(a,u){return u instanceof ri&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,g)=>h&&R_(d,u.filters[g]),!0):!1}(s,e):void mt()}function w_(s){return s instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${ys(i.value)}`}(s):s instanceof ri?function(i){return i.op.toString()+" {"+i.getFilters().map(w_).join(" ,")+"}"}(s):"Filter"}class EA extends Ae{constructor(e,i,a){super(e,i,a),this.key=ft.fromName(a.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class TA extends Ae{constructor(e,i){super(e,"in",i),this.keys=D_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class AA extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=D_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function D_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ft.fromName(a.referenceValue))}class SA extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return nd(i)&&Kl(i.arrayValue,this.value)}}class bA extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Kl(this.value.arrayValue,i)}}class RA extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Kl(this.value.arrayValue,i)}}class wA extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!nd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Kl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,i=null,a=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function fy(s,e=null,i=[],a=[],u=null,h=null,d=null){return new DA(s,e,i,a,u,h,d)}function id(s){const e=vt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Lf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Jo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ys(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ys(a)).join(",")),e.le=i}return e.le}function rd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!_A(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!R_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!hy(s.startAt,e.startAt)&&hy(s.endAt,e.endAt)}function Pf(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i=null,a=[],u=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function CA(s,e,i,a,u,h,d,g){return new tc(s,e,i,a,u,h,d,g)}function C_(s){return new tc(s)}function dy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function VA(s){return s.collectionGroup!==null}function Bl(s){const e=vt(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(Pe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Ho(h,a))}),i.has(Pe.keyField().canonicalString())||e.he.push(new Ho(Pe.keyField(),a))}return e.he}function ti(s){const e=vt(s);return e.Pe||(e.Pe=NA(e,Bl(s))),e.Pe}function NA(s,e){if(s.limitType==="F")return fy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Ho(u.field,h)});const i=s.endAt?new qo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new qo(s.startAt.position,s.startAt.inclusive):null;return fy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Bf(s,e,i){return new tc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function ec(s,e){return rd(ti(s),ti(e))&&s.limitType===e.limitType}function V_(s){return`${id(ti(s))}|lt:${s.limitType}`}function os(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>w_(u)).join(", ")}]`),Jo(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>ys(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>ys(u)).join(",")),`Target(${a})`}(ti(s))}; limitType=${s.limitType})`}function nc(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ft.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of Bl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,g,_){const v=cy(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,Bl(a),u)||a.endAt&&!function(d,g,_){const v=cy(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,Bl(a),u))}(s,e)}function OA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function N_(s){return(e,i)=>{let a=!1;for(const u of Bl(s)){const h=MA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function MA(s,e,i){const a=s.field.isKeyField()?ft.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?ps(_,v):mt()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return mt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Or(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return d_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=new ne(ft.comparator);function xi(){return IA}const O_=new ne(ft.comparator);function zl(...s){let e=O_;for(const i of s)e=e.insert(i.key,i);return e}function M_(s){let e=O_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function fa(){return jl()}function I_(){return jl()}function jl(){return new pa(s=>s.toString(),(s,e)=>s.isEqual(e))}const xA=new ne(ft.comparator),UA=new be(ft.comparator);function Nt(...s){let e=UA;for(const i of s)e=e.add(i);return e}const zA=new be(Mt);function LA(){return zA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bo(e)?"-0":e}}function x_(s){return{integerValue:""+s}}function PA(s,e){return cA(e)?x_(e):ad(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(){this._=void 0}}function BA(s,e,i){return s instanceof Go?function(u,h){const d={fields:{[p_]:{stringValue:g_},[__]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&ed(h)&&(h=Wo(h)),h&&(d.fields[y_]=h),{mapValue:d}}(i,e):s instanceof Yl?z_(s,e):s instanceof Xl?L_(s,e):function(u,h){const d=U_(u,h),g=my(d)+my(u.Ie);return zf(d)&&zf(u.Ie)?x_(g):ad(u.serializer,g)}(s,e)}function jA(s,e,i){return s instanceof Yl?z_(s,e):s instanceof Xl?L_(s,e):i}function U_(s,e){return s instanceof Qo?function(a){return zf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Go extends ic{}class Yl extends ic{constructor(e){super(),this.elements=e}}function z_(s,e){const i=P_(e);for(const a of s.elements)i.some(u=>ii(u,a))||i.push(a);return{arrayValue:{values:i}}}class Xl extends ic{constructor(e){super(),this.elements=e}}function L_(s,e){let i=P_(e);for(const a of s.elements)i=i.filter(u=>!ii(u,a));return{arrayValue:{values:i}}}class Qo extends ic{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function my(s){return ce(s.integerValue||s.doubleValue)}function P_(s){return nd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function kA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Yl&&u instanceof Yl||a instanceof Xl&&u instanceof Xl?gs(a.elements,u.elements,ii):a instanceof Qo&&u instanceof Qo?ii(a.Ie,u.Ie):a instanceof Go&&u instanceof Go}(s.transform,e.transform)}class qA{constructor(e,i){this.version=e,this.transformResults=i}}class ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class rc{}function B_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new k_(s.key,ei.none()):new Zl(s.key,s.data,ei.none());{const i=s.data,a=rn.empty();let u=new be(Pe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new Mr(s.key,a,new fn(u.toArray()),ei.none())}}function HA(s,e,i){s instanceof Zl?function(u,h,d){const g=u.value.clone(),_=py(u.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof Mr?function(u,h,d){if(!Mo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=py(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(j_(u)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function kl(s,e,i,a){return s instanceof Zl?function(h,d,g,_){if(!Mo(h.precondition,d))return g;const v=h.value.clone(),R=yy(h.fieldTransforms,_,d);return v.setAll(R),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof Mr?function(h,d,g,_){if(!Mo(h.precondition,d))return g;const v=yy(h.fieldTransforms,_,d),R=d.data;return R.setAll(j_(h)),R.setAll(v),d.convertToFoundDocument(d.version,R).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(I=>I.field))}(s,e,i,a):function(h,d,g){return Mo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function GA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=U_(a.transform,u||null);h!=null&&(i===null&&(i=rn.empty()),i.set(a.field,h))}return i||null}function gy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&gs(a,u,(h,d)=>kA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Zl extends rc{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Mr extends rc{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function j_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function py(s,e,i){const a=new Map;Qt(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,g=e.data.field(h.field);a.set(h.field,jA(d,g,i[u]))}return a}function yy(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,BA(h,d,e))}return a}class k_ extends rc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QA extends rc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&HA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=I_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const _=B_(d,g);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(pt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Nt())}isEqual(e){return this.batchId===e.batchId&&gs(this.mutations,e.mutations,(i,a)=>gy(i,a))&&gs(this.baseMutations,e.baseMutations,(i,a)=>gy(i,a))}}class sd{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){Qt(e.mutations.length===a.length);let u=function(){return xA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new sd(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Lt;function XA(s){switch(s){case Y.OK:return mt();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return mt()}}function q_(s){if(s===void 0)return Ii("GRPC error has no .code"),Y.UNKNOWN;switch(s){case ge.OK:return Y.OK;case ge.CANCELLED:return Y.CANCELLED;case ge.UNKNOWN:return Y.UNKNOWN;case ge.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ge.INTERNAL:return Y.INTERNAL;case ge.UNAVAILABLE:return Y.UNAVAILABLE;case ge.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ge.NOT_FOUND:return Y.NOT_FOUND;case ge.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ge.ABORTED:return Y.ABORTED;case ge.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ge.DATA_LOSS:return Y.DATA_LOSS;default:return mt()}}(Lt=ge||(ge={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=new Tr([4294967295,4294967295],0);function _y(s){const e=ZA().encode(s),i=new r_;return i.update(e),new Uint8Array(i.digest())}function vy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Tr([i,a],0),new Tr([u,h],0)]}class ld{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ll(`Invalid padding: ${i}`);if(a<0)throw new Ll(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Tr.fromNumber(this.Ee)}Ae(e,i,a){let u=e.add(i.multiply(Tr.fromNumber(a)));return u.compare($A)===1&&(u=new Tr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=_y(e),[a,u]=vy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new ld(h,u,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=_y(e),[a,u]=vy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new ac(pt.min(),u,new ne(Mt),xi(),Nt())}}class $l{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new $l(a,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,i,a,u){this.me=e,this.removedTargetIds=i,this.key=a,this.fe=u}}class H_{constructor(e,i){this.targetId=e,this.ge=i}}class G_{constructor(e,i,a=Be.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class Ey{constructor(){this.pe=0,this.ye=Ty(),this.we=Be.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Nt(),i=Nt(),a=Nt();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:mt()}}),new $l(this.we,this.be,e,i,a)}Me(){this.Se=!1,this.ye=Ty()}xe(e,i){this.Se=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Qt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class JA{constructor(e){this.ke=e,this.qe=new Map,this.Qe=xi(),this.$e=Ro(),this.Ke=Ro(),this.Ue=new ne(Mt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const a=this.He(i);switch(e.state){case 0:this.Je(i)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(e.resumeToken));break;default:mt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((a,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,a=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(Pf(h))if(a===0){const d=new ft(h.path);this.ze(i,d,Fe.newNoDocument(d,pt.min()))}else Qt(a===1);else{const d=this.et(i);if(d!==a){const g=this.tt(e),_=g?this.nt(g,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=Dr(a).toUint8Array()}catch(_){if(_ instanceof m_)return ms("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new ld(d,u,h)}catch(_){return ms(_ instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(e,i,a){return i.ge.count===a-this.st(e,i.targetId)?0:2}st(e,i){const a=this.ke.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&Pf(g.target)){const _=new ft(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Fe.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let a=Nt();this.Ke.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new ac(e,i,this.Ue,this.Qe,a);return this.Qe=xi(),this.$e=Ro(),this.Ke=Ro(),this.Ue=new ne(Mt),u}Ge(e,i){if(!this.Je(e))return;const a=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,a){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new Ey,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new be(Mt),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new be(Mt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ey),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Ro(){return new ne(ft.comparator)}function Ty(){return new ne(ft.comparator)}const WA={asc:"ASCENDING",desc:"DESCENDING"},tS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eS={and:"AND",or:"OR"};class nS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function jf(s,e){return s.useProto3Json||Jo(e)?e:{value:e}}function Fo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function iS(s,e){return Fo(s,e.toTimestamp())}function ni(s){return Qt(!!s),pt.fromTimestamp(function(i){const a=wr(i);return new Se(a.seconds,a.nanos)}(s))}function ud(s,e){return kf(s,e).canonicalString()}function kf(s,e){const i=function(u){return new Jt(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function F_(s){const e=Jt.fromString(s);return Qt($_(e)),e}function qf(s,e){return ud(s.databaseId,e.path)}function bf(s,e){const i=F_(e);if(i.get(1)!==s.databaseId.projectId)throw new ct(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ct(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(Y_(i))}function K_(s,e){return ud(s.databaseId,e)}function rS(s){const e=F_(s);return e.length===4?Jt.emptyPath():Y_(e)}function Hf(s){return new Jt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Y_(s){return Qt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Ay(s,e,i){return{name:qf(s,e),fields:i.value.mapValue.fields}}function aS(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:mt()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,R){return v.useProto3Json?(Qt(R===void 0||typeof R=="string"),Be.fromBase64String(R||"")):(Qt(R===void 0||R instanceof Buffer||R instanceof Uint8Array),Be.fromUint8Array(R||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const R=v.code===void 0?Y.UNKNOWN:q_(v.code);return new ct(R,v.message||"")}(d);i=new G_(a,u,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=bf(s,a.document.name),h=ni(a.document.updateTime),d=a.document.createTime?ni(a.document.createTime):pt.min(),g=new rn({mapValue:{fields:a.document.fields}}),_=Fe.newFoundDocument(u,h,d,g),v=a.targetIds||[],R=a.removedTargetIds||[];i=new Io(v,R,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=bf(s,a.document),h=a.readTime?ni(a.readTime):pt.min(),d=Fe.newNoDocument(u,h),g=a.removedTargetIds||[];i=new Io([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=bf(s,a.document),h=a.removedTargetIds||[];i=new Io([],h,u,null)}else{if(!("filter"in e))return mt();{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new YA(u,h),g=a.targetId;i=new H_(g,d)}}return i}function sS(s,e){let i;if(e instanceof Zl)i={update:Ay(s,e.key,e.value)};else if(e instanceof k_)i={delete:qf(s,e.key)};else if(e instanceof Mr)i={update:Ay(s,e.key,e.data),updateMask:gS(e.fieldMask)};else{if(!(e instanceof QA))return mt();i={verify:qf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof Go)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Qo)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw mt()}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:iS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:mt()}(s,e.precondition)),i}function lS(s,e){return s&&s.length>0?(Qt(e!==void 0),s.map(i=>function(u,h){let d=u.updateTime?ni(u.updateTime):ni(h);return d.isEqual(pt.min())&&(d=ni(h)),new qA(d,u.transformResults||[])}(i,e))):[]}function uS(s,e){return{documents:[K_(s,e.path)]}}function oS(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=K_(s,u);const h=function(v){if(v.length!==0)return Z_(ri.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(R=>function(P){return{field:cs(P.field),direction:fS(P.dir)}}(R))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=jf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:u}}function cS(s){let e=rS(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){Qt(a===1);const R=i.from[0];R.allDescendants?u=R.collectionId:e=e.child(R.collectionId)}let h=[];i.where&&(h=function(I){const P=X_(I);return P instanceof ri&&b_(P)?P.getFilters():[P]}(i.where));let d=[];i.orderBy&&(d=function(I){return I.map(P=>function($){return new Ho(hs($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(P))}(i.orderBy));let g=null;i.limit&&(g=function(I){let P;return P=typeof I=="object"?I.value:I,Jo(P)?null:P}(i.limit));let _=null;i.startAt&&(_=function(I){const P=!!I.before,H=I.values||[];return new qo(H,P)}(i.startAt));let v=null;return i.endAt&&(v=function(I){const P=!I.before,H=I.values||[];return new qo(H,P)}(i.endAt)),CA(e,u,d,h,g,"F",_,v)}function hS(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function X_(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=hs(i.unaryFilter.field);return Ae.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=hs(i.unaryFilter.field);return Ae.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=hs(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=hs(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(s):s.fieldFilter!==void 0?function(i){return Ae.create(hs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ri.create(i.compositeFilter.filters.map(a=>X_(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return mt()}}(i.compositeFilter.op))}(s):mt()}function fS(s){return WA[s]}function dS(s){return tS[s]}function mS(s){return eS[s]}function cs(s){return{fieldPath:s.canonicalString()}}function hs(s){return Pe.fromServerFormat(s.fieldPath)}function Z_(s){return s instanceof Ae?function(i){if(i.op==="=="){if(oy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NAN"}};if(uy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(oy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NAN"}};if(uy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(i.field),op:dS(i.op),value:i.value}}}(s):s instanceof ri?function(i){const a=i.getFilters().map(u=>Z_(u));return a.length===1?a[0]:{compositeFilter:{op:mS(i.op),filters:a}}}(s):mt()}function gS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function $_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i,a,u,h=pt.min(),d=pt.min(),g=Be.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.Tt=e}}function yS(s){const e=cS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.Tn=new vS}addToCollectionParentIndex(e,i){return this.Tn.add(i),Q.resolve()}getCollectionParents(e,i){return Q.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Q.resolve()}deleteFieldIndex(e,i){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,i){return Q.resolve()}getDocumentsMatchingTarget(e,i){return Q.resolve(null)}getIndexType(e,i){return Q.resolve(0)}getFieldIndexes(e,i){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,i){return Q.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,i){return Q.resolve(Rr.min())}updateCollectionGroup(e,i,a){return Q.resolve()}updateIndexEntries(e,i){return Q.resolve()}}class vS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new be(Jt.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new be(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J_=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(J_,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new _s(0)}static Un(){return new _s(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="LruGarbageCollector",ES=1048576;function Ry([s,e],[i,a]){const u=Mt(s,i);return u===0?Mt(e,a):u}class TS{constructor(e){this.Hn=e,this.buffer=new be(Ry),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Ry(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class AS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){it(by,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bs(i)?it(by,"Ignoring IndexedDB error during garbage collection: ",i):await Ss(i)}await this.er(3e5)})}}class SS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Q.resolve($o.ae);const a=new TS(i);return this.tr.forEachTarget(e,u=>a.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>a.Zn(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Sy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sy):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,u,h,d,g,_,v;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),u=this.params.maximumSequenceNumbersToCollect):u=I,d=Date.now(),this.nthSequenceNumber(e,u))).next(I=>(a=I,g=Date.now(),this.removeTargets(e,a,i))).next(I=>(h=I,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(I=>(v=Date.now(),us()<=Pt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-R}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${I} documents in `+(v-_)+`ms
Total Duration: ${v-R}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:I})))}}function bS(s,e){return new SS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.changes=new pa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Q.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&kl(a.mutation,u,fn.empty(),Se.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Nt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Nt()){const u=fa();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=zl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=fa();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Nt()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,u){let h=xi();const d=jl(),g=function(){return jl()}();return i.forEach((_,v)=>{const R=a.get(v.key);u.has(v.key)&&(R===void 0||R.mutation instanceof Mr)?h=h.insert(v.key,v):R!==void 0?(d.set(v.key,R.mutation.getFieldMask()),kl(R.mutation,v,R.mutation.getFieldMask(),Se.now())):d.set(v.key,fn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,R)=>d.set(v,R)),i.forEach((v,R)=>{var I;return g.set(v,new wS(R,(I=d.get(v))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(e,i){const a=jl();let u=new ne((d,g)=>d-g),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let R=a.get(_)||fn.empty();R=g.applyToLocalView(v,R),a.set(_,R);const I=(u.get(g.batchId)||Nt()).add(_);u=u.insert(g.batchId,I)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,R=_.value,I=I_();R.forEach(P=>{if(!h.has(P)){const H=B_(i.get(P),a.get(P));H!==null&&I.set(P,H),h=h.add(P)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,I))}return Q.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):VA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):Q.resolve(fa());let g=Gl,_=h;return d.next(v=>Q.forEach(v,(R,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),h.get(R)?Q.resolve():this.remoteDocumentCache.getEntry(e,R).next(P=>{_=_.insert(R,P)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Nt())).next(R=>({batchId:g,changes:M_(R)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next(a=>{let u=zl();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=zl();return this.indexManager.getCollectionParents(e,h).next(g=>Q.forEach(g,_=>{const v=function(I,P){return new tc(P,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(R=>{R.forEach((I,P)=>{d=d.insert(I,P)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((_,v)=>{const R=v.getKey();d.get(R)===null&&(d=d.insert(R,Fe.newInvalidDocument(R)))});let g=zl();return d.forEach((_,v)=>{const R=h.get(_);R!==void 0&&kl(R.mutation,v,fn.empty(),Se.now()),nc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Q.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}}(i)),Q.resolve()}getNamedQuery(e,i){return Q.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:yS(u.bundledQuery),readTime:ni(u.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.overlays=new ne(ft.comparator),this.Rr=new Map}getOverlay(e,i){return Q.resolve(this.overlays.get(i))}getOverlays(e,i){const a=fa();return Q.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.Et(e,i,h)}),Q.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Rr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),Q.resolve()}getOverlaysForCollection(e,i,a){const u=fa(),h=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return Q.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new ne((v,R)=>v-R);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let R=h.get(v.largestBatchId);R===null&&(R=fa(),h=h.insert(v.largestBatchId,R)),R.set(v.getKey(),v)}}const g=fa(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,R)=>g.set(v,R)),!(g.size()>=u)););return Q.resolve(g)}Et(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(a.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new KA(i,a));let h=this.Rr.get(i);h===void 0&&(h=Nt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this.Vr=new be(Me.mr),this.gr=new be(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Me(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Me(e,i))}br(e,i){e.forEach(a=>this.removeReference(a,i))}Sr(e){const i=new ft(new Jt([])),a=new Me(i,e),u=new Me(i,e+1),h=[];return this.gr.forEachInRange([a,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ft(new Jt([])),a=new Me(i,e),u=new Me(i,e+1);let h=Nt();return this.gr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Me{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ft.comparator(e.key,i.key)||Mt(e.Cr,i.Cr)}static pr(e,i){return Mt(e.Cr,i.Cr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new be(Me.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new FA(h,i,a,u);this.mutationQueue.push(d);for(const g of u)this.Mr=this.Mr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,i){return Q.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.Nr(a),h=u<0?0:u;return Q.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?td:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Me(i,0),u=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,u],d=>{const g=this.Or(d.Cr);h.push(g)}),Q.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new be(Mt);return i.forEach(u=>{const h=new Me(u,0),d=new Me(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{a=a.add(g.Cr)})}),Q.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ft.isDocumentKey(h)||(h=h.child(""));const d=new Me(new ft(h),0);let g=new be(Mt);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.Cr)),!0)},d),Q.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(a=>{const u=this.Or(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){Qt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Q.forEach(i.mutations,u=>{const h=new Me(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Me(i,0),u=this.Mr.firstAfterOrEqual(a);return Q.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.kr=e,this.docs=function(){return new ne(ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Q.resolve(a?a.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let a=xi();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Fe.newInvalidDocument(u))}),Q.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=xi();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:R}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||sA(aA(R),a)<=0||(u.has(R.key)||nc(i,R))&&(h=h.insert(R.key,R.mutableCopy()))}return Q.resolve(h)}getAllFromCollectionGroup(e,i,a,u){mt()}qr(e,i){return Q.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new IS(this)}getSize(e){return Q.resolve(this.size)}}class IS extends RS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(a)}),Q.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.persistence=e,this.Qr=new pa(i=>id(i),rd),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new od,this.targetCount=0,this.Ur=_s.Kn()}forEachTarget(e,i){return this.Qr.forEach((a,u)=>i(u)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),Q.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new _s(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Q.resolve()}updateTargetData(e,i){return this.zn(i),Q.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.Sr(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),Q.waitFor(h).next(()=>u)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return Q.resolve(a)}addMatchingKeys(e,i,a){return this.Kr.yr(i,a),Q.resolve()}removeMatchingKeys(e,i,a){this.Kr.br(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Q.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Kr.Sr(i),Q.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Kr.vr(i);return Q.resolve(a)}containsKey(e,i){return Q.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new $o(0),this.zr=!1,this.zr=!0,this.jr=new NS,this.referenceDelegate=e(this),this.Hr=new xS(this),this.indexManager=new _S,this.remoteDocumentCache=function(u){return new MS(u)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new pS(i),this.Yr=new CS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new VS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new OS(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const u=new US(this.Gr.next());return this.referenceDelegate.Zr(),a(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return Q.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class US extends uA{constructor(e){super(),this.currentSequenceNumber=e}}class cd{constructor(e){this.persistence=e,this.ti=new od,this.ni=null}static ri(e){return new cd(e)}get ii(){if(this.ni)return this.ni;throw mt()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),Q.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),Q.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Q.resolve()}removeTarget(e,i){this.ti.Sr(i.targetId).forEach(u=>this.ii.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,a=>{const u=ft.fromPath(a);return this.si(e,u).next(h=>{h||i.removeEntry(u,pt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Q.or([()=>Q.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Ko{constructor(e,i){this.persistence=e,this.oi=new pa(a=>hA(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=bS(this,i)}static ri(e,i){return new Ko(e,i)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return Q.forEach(this.oi,(a,u)=>this.ar(e,a,u).next(h=>h?Q.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(g=>{g||(a++,h.removeEntry(d,pt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=No(e.data.value)),i}ar(e,i,a){return Q.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return Q.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=u}static Yi(e,i){let a=Nt(),u=Nt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new hd(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return N0()?8:oA(C0())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new zS;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,a,u){return a.documentReadCount<this.es?(us()<=Pt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",os(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(us()<=Pt.DEBUG&&it("QueryEngine","Query:",os(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ts*u?(us()<=Pt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",os(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):Q.resolve())}rs(e,i){if(dy(i))return Q.resolve(null);let a=ti(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Bf(i,null,"F"),a=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Nt(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(e,Bf(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,a,u){return dy(i)||u.isEqual(pt.min())?Q.resolve(null):this.ns.getDocuments(e,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,u)?Q.resolve(null):(us()<=Pt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),os(i)),this.hs(e,d,i,rA(u,Gl)).next(g=>g))})}cs(e,i){let a=new be(N_(e));return i.forEach((u,h)=>{nc(e,h)&&(a=a.add(h))}),a}ls(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,a){return us()<=Pt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",os(i)),this.ns.getDocumentsMatchingQuery(e,i,Rr.min(),a)}hs(e,i,a,u){return this.ns.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="LocalStore",PS=3e8;class BS{constructor(e,i,a,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new ne(Mt),this.Is=new pa(h=>id(h),rd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function jS(s,e,i,a){return new BS(s,e,i,a)}async function tv(s,e){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let _=Nt();for(const v of u){d.push(v.batchId);for(const R of v.mutations)_=_.add(R.key)}for(const v of h){g.push(v.batchId);for(const R of v.mutations)_=_.add(R.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function kS(s,e){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,_,v,R){const I=v.batch,P=I.keys();let H=Q.resolve();return P.forEach($=>{H=H.next(()=>R.getEntry(_,$)).next(tt=>{const Z=v.docVersions.get($);Qt(Z!==null),tt.version.compareTo(Z)<0&&(I.applyToRemoteDocument(tt,v),tt.isValidDocument()&&(tt.setReadTime(v.commitVersion),R.addEntry(tt)))})}),H.next(()=>g.mutationQueue.removeMutationBatch(_,I))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=Nt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function ev(s){const e=vt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function qS(s,e){const i=vt(s),a=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const g=[];e.targetChanges.forEach((R,I)=>{const P=u.get(I);if(!P)return;g.push(i.Hr.removeMatchingKeys(h,R.removedDocuments,I).next(()=>i.Hr.addMatchingKeys(h,R.addedDocuments,I)));let H=P.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(I)!==null?H=H.withResumeToken(Be.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):R.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(R.resumeToken,a)),u=u.insert(I,H),function(tt,Z,At){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=PS?!0:At.addedDocuments.size+At.modifiedDocuments.size+At.removedDocuments.size>0}(P,H,R)&&g.push(i.Hr.updateTargetData(h,H))});let _=xi(),v=Nt();if(e.documentUpdates.forEach(R=>{e.resolvedLimboDocuments.has(R)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,R))}),g.push(HS(h,d,e.documentUpdates).next(R=>{_=R.Vs,v=R.fs})),!a.isEqual(pt.min())){const R=i.Hr.getLastRemoteSnapshotVersion(h).next(I=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(R)}return Q.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=u,h))}function HS(s,e,i){let a=Nt(),u=Nt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=xi();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(pt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):it(fd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:u}})}function GS(s,e){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=td),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function QS(s,e){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Hr.getTargetData(a,e).next(h=>h?(u=h,Q.resolve(u)):i.Hr.allocateTargetId(a).next(d=>(u=new _r(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.Ts.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(e,a.targetId)),a})}async function Gf(s,e,i){const a=vt(s),u=a.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!bs(d))throw d;it(fd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(u.target)}function wy(s,e,i){const a=vt(s);let u=pt.min(),h=Nt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,R){const I=vt(_),P=I.Is.get(R);return P!==void 0?Q.resolve(I.Ts.get(P)):I.Hr.getTargetData(v,R)}(a,d,ti(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,i?u:pt.min(),i?h:Nt())).next(g=>(FS(a,OA(e),g),{documents:g,gs:h})))}function FS(s,e,i){let a=s.Es.get(e)||pt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Es.set(e,a)}class Dy{constructor(){this.activeTargetIds=LA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KS{constructor(){this.ho=new Dy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Dy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="ConnectivityMonitor";class Vy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){it(Cy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){it(Cy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo=null;function Qf(){return wo===null?wo=function(){return 268435456+Math.round(2147483648*Math.random())}():wo++,"0x"+wo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="RestConnection",XS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZS{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${u}`,this.wo=this.databaseId.database===jo?`project_id=${a}`:`project_id=${a}&database_id=${u}`}bo(e,i,a,u,h){const d=Qf(),g=this.So(e,i.toUriEncodedString());it(Rf,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,u,h),this.vo(e,g,_,a).then(v=>(it(Rf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw ms(Rf,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",a),v})}Co(e,i,a,u,h,d){return this.bo(e,i,a,u,h)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+As}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}So(e,i){const a=XS[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class JS extends ZS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,u){const h=Qf();return new Promise((d,g)=>{const _=new a_;_.setWithCredentials(!0),_.listenOnce(s_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Vo.NO_ERROR:const R=_.getResponseJson();it(He,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(R)),d(R);break;case Vo.TIMEOUT:it(He,`RPC '${e}' ${h} timed out`),g(new ct(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Vo.HTTP_ERROR:const I=_.getStatus();if(it(He,`RPC '${e}' ${h} failed with status:`,I,"response text:",_.getResponseText()),I>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const H=P==null?void 0:P.error;if(H&&H.status&&H.message){const $=function(Z){const At=Z.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(At)>=0?At:Y.UNKNOWN}(H.status);g(new ct($,H.message))}else g(new ct(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ct(Y.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{it(He,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(u);it(He,`RPC '${e}' ${h} sending request:`,u),_.send(i,"POST",v,a,15)})}Wo(e,i,a){const u=Qf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=o_(),g=u_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const R=h.join("");it(He,`Creating RPC '${e}' stream ${u}: ${R}`,_);const I=d.createWebChannel(R,_);let P=!1,H=!1;const $=new $S({Fo:Z=>{H?it(He,`Not sending because RPC '${e}' stream ${u} is closed:`,Z):(P||(it(He,`Opening RPC '${e}' stream ${u} transport.`),I.open(),P=!0),it(He,`RPC '${e}' stream ${u} sending:`,Z),I.send(Z))},Mo:()=>I.close()}),tt=(Z,At,gt)=>{Z.listen(At,Et=>{try{gt(Et)}catch(Ct){setTimeout(()=>{throw Ct},0)}})};return tt(I,Ul.EventType.OPEN,()=>{H||(it(He,`RPC '${e}' stream ${u} transport opened.`),$.Qo())}),tt(I,Ul.EventType.CLOSE,()=>{H||(H=!0,it(He,`RPC '${e}' stream ${u} transport closed`),$.Ko())}),tt(I,Ul.EventType.ERROR,Z=>{H||(H=!0,ms(He,`RPC '${e}' stream ${u} transport errored:`,Z),$.Ko(new ct(Y.UNAVAILABLE,"The operation could not be completed")))}),tt(I,Ul.EventType.MESSAGE,Z=>{var At;if(!H){const gt=Z.data[0];Qt(!!gt);const Et=gt,Ct=(Et==null?void 0:Et.error)||((At=Et[0])===null||At===void 0?void 0:At.error);if(Ct){it(He,`RPC '${e}' stream ${u} received error:`,Ct);const yt=Ct.status;let It=function(S){const C=ge[S];if(C!==void 0)return q_(C)}(yt),x=Ct.message;It===void 0&&(It=Y.INTERNAL,x="Unknown error status: "+yt+" with message "+Ct.message),H=!0,$.Ko(new ct(It,x)),I.close()}else it(He,`RPC '${e}' stream ${u} received:`,gt),$.Uo(gt)}}),tt(g,l_.STAT_EVENT,Z=>{Z.stat===xf.PROXY?it(He,`RPC '${e}' stream ${u} detected buffering proxy`):Z.stat===xf.NOPROXY&&it(He,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{$.$o()},0),$}}function wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(s){return new nS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-a);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="PersistentStream";class iv{constructor(e,i,a,u,h,d,g,_){this.Ti=e,this.n_=a,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new nv(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Ii(i.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.i_===i&&this.V_(a,u)},a=>{e(()=>{const u=new ct(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(u)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{a(()=>this.m_(u))}),this.stream.onMessage(u=>{a(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return it(Ny,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(it(Ny,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WS extends iv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=aS(this.serializer,e),a=function(h){if(!("targetChange"in h))return pt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?ni(d.readTime):pt.min()}(e);return this.listener.p_(i,a)}y_(e){const i={};i.database=Hf(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Pf(_)?{documents:uS(h,_)}:{query:oS(h,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Q_(h,d.resumeToken);const v=jf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(pt.min())>0){g.readTime=Fo(h,d.snapshotVersion.toTimestamp());const v=jf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=hS(this.serializer,e);a&&(i.labels=a),this.I_(i)}w_(e){const i={};i.database=Hf(this.serializer),i.removeTarget=e,this.I_(i)}}class t1 extends iv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Qt(!!e.streamToken),this.lastStreamToken=e.streamToken,Qt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=lS(e.writeResults,e.commitTime),a=ni(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=Hf(this.serializer),this.I_(e)}S_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>sS(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{}class n1 extends e1{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new ct(Y.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,i,a,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.bo(e,kf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct(Y.UNKNOWN,h.toString())})}Co(e,i,a,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,kf(i,a),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(Y.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class i1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ii(i),this.N_=!1):it("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="RemoteStore";class r1{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{ya(this)&&(it(ma,"Restarting streams for network reachability change."),await async function(_){const v=vt(_);v.W_.add(4),await Jl(v),v.j_.set("Unknown"),v.W_.delete(4),await lc(v)}(this))})}),this.j_=new i1(a,u)}}async function lc(s){if(ya(s))for(const e of s.G_)await e(!0)}async function Jl(s){for(const e of s.G_)await e(!1)}function rv(s,e){const i=vt(s);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),pd(i)?gd(i):Rs(i).c_()&&md(i,e))}function dd(s,e){const i=vt(s),a=Rs(i);i.U_.delete(e),a.c_()&&av(i,e),i.U_.size===0&&(a.c_()?a.P_():ya(i)&&i.j_.set("Unknown"))}function md(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Rs(s).y_(e)}function av(s,e){s.H_.Ne(e),Rs(s).w_(e)}function gd(s){s.H_=new JA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Rs(s).start(),s.j_.B_()}function pd(s){return ya(s)&&!Rs(s).u_()&&s.U_.size>0}function ya(s){return vt(s).W_.size===0}function sv(s){s.H_=void 0}async function a1(s){s.j_.set("Online")}async function s1(s){s.U_.forEach((e,i)=>{md(s,e)})}async function l1(s,e){sv(s),pd(s)?(s.j_.q_(e),gd(s)):s.j_.set("Unknown")}async function u1(s,e,i){if(s.j_.set("Online"),e instanceof G_&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.U_.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.U_.delete(g),u.H_.removeTarget(g))}(s,e)}catch(a){it(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Yo(s,a)}else if(e instanceof Io?s.H_.We(e):e instanceof H_?s.H_.Ze(e):s.H_.je(e),!i.isEqual(pt.min()))try{const a=await ev(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const R=h.U_.get(v);R&&h.U_.set(v,R.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const R=h.U_.get(_);if(!R)return;h.U_.set(_,R.withResumeToken(Be.EMPTY_BYTE_STRING,R.snapshotVersion)),av(h,_);const I=new _r(R.target,_,v,R.sequenceNumber);md(h,I)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){it(ma,"Failed to raise snapshot:",a),await Yo(s,a)}}async function Yo(s,e,i){if(!bs(e))throw e;s.W_.add(1),await Jl(s),s.j_.set("Offline"),i||(i=()=>ev(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(ma,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await lc(s)})}function lv(s,e){return e().catch(i=>Yo(s,i,e))}async function uc(s){const e=vt(s),i=Vr(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:td;for(;o1(e);)try{const u=await GS(e.localStore,a);if(u===null){e.K_.length===0&&i.P_();break}a=u.batchId,c1(e,u)}catch(u){await Yo(e,u)}uv(e)&&ov(e)}function o1(s){return ya(s)&&s.K_.length<10}function c1(s,e){s.K_.push(e);const i=Vr(s);i.c_()&&i.b_&&i.S_(e.mutations)}function uv(s){return ya(s)&&!Vr(s).u_()&&s.K_.length>0}function ov(s){Vr(s).start()}async function h1(s){Vr(s).C_()}async function f1(s){const e=Vr(s);for(const i of s.K_)e.S_(i.mutations)}async function d1(s,e,i){const a=s.K_.shift(),u=sd.from(a,e,i);await lv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await uc(s)}async function m1(s,e){e&&Vr(s).b_&&await async function(a,u){if(function(d){return XA(d)&&d!==Y.ABORTED}(u.code)){const h=a.K_.shift();Vr(a).h_(),await lv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await uc(a)}}(s,e),uv(s)&&ov(s)}async function Oy(s,e){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),it(ma,"RemoteStore received new credentials");const a=ya(i);i.W_.add(3),await Jl(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await lc(i)}async function g1(s,e){const i=vt(s);e?(i.W_.delete(2),await lc(i)):e||(i.W_.add(2),await Jl(i),i.j_.set("Unknown"))}function Rs(s){return s.J_||(s.J_=function(i,a,u){const h=vt(i);return h.M_(),new WS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:a1.bind(null,s),No:s1.bind(null,s),Lo:l1.bind(null,s),p_:u1.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),pd(s)?gd(s):s.j_.set("Unknown")):(await s.J_.stop(),sv(s))})),s.J_}function Vr(s){return s.Y_||(s.Y_=function(i,a,u){const h=vt(i);return h.M_(),new t1(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:h1.bind(null,s),Lo:m1.bind(null,s),D_:f1.bind(null,s),v_:d1.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await uc(s)):(await s.Y_.stop(),s.K_.length>0&&(it(ma,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,g=new yd(e,i,d,u,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _d(s,e){if(Ii("AsyncQueue",`${e}: ${s}`),bs(s))return new ct(Y.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{static emptySet(e){return new ds(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=zl(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ds)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ds;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this.Z_=new ne(ft.comparator)}track(e){const i=e.doc.key,a=this.Z_.get(i);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(i):e.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):mt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class vs{constructor(e,i,a,u,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new vs(e,i,ds.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class y1{constructor(){this.queries=Iy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const u=vt(i),h=u.queries;u.queries=Iy(),h.forEach((d,g)=>{for(const _ of g.ta)_.onError(a)})})(this,new ct(Y.ABORTED,"Firestore shutting down"))}}function Iy(){return new pa(s=>V_(s),ec)}async function _1(s,e){const i=vt(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(a=2):(h=new p1,a=e.ra()?0:1);try{switch(a){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=_d(d,`Initialization of query '${os(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&vd(i)}async function v1(s,e){const i=vt(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function E1(s,e){const i=vt(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(u)&&(a=!0);d.ea=u}}a&&vd(i)}function T1(s,e,i){const a=vt(s),u=a.queries.get(e);if(u)for(const h of u.ta)h.onError(i);a.queries.delete(e)}function vd(s){s.ia.forEach(e=>{e.next()})}var Ff,xy;(xy=Ff||(Ff={}))._a="default",xy.Cache="cache";class A1{constructor(e,i,a){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new vs(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ff.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this.key=e}}class hv{constructor(e){this.key=e}}class S1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=N_(e),this.wa=new ds(this.ya)}get ba(){return this.fa}Sa(e,i){const a=i?i.Da:new My,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((R,I)=>{const P=u.get(R),H=nc(this.query,I)?I:null,$=!!P&&this.mutatedKeys.has(P.key),tt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Z=!1;P&&H?P.data.isEqual(H.data)?$!==tt&&(a.track({type:3,doc:H}),Z=!0):this.va(P,H)||(a.track({type:2,doc:H}),Z=!0,(_&&this.ya(H,_)>0||v&&this.ya(H,v)<0)&&(g=!0)):!P&&H?(a.track({type:0,doc:H}),Z=!0):P&&!H&&(a.track({type:1,doc:P}),Z=!0,(_||v)&&(g=!0)),Z&&(H?(d=d.add(H),h=tt?h.add(R):h.delete(R)):(d=d.delete(R),h=h.delete(R)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const R=this.query.limitType==="F"?d.last():d.first();d=d.delete(R.key),h=h.delete(R.key),a.track({type:1,doc:R})}return{wa:d,Da:a,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((R,I)=>function(H,$){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return tt(H)-tt($)}(R.type,I.type)||this.ya(R.doc,I.doc)),this.Ca(a),u=u!=null&&u;const g=i&&!u?this.Fa():[],_=this.pa.size===0&&this.current&&!u?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new vs(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new My,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Nt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return e.forEach(a=>{this.pa.has(a)||i.push(new hv(a))}),this.pa.forEach(a=>{e.has(a)||i.push(new cv(a))}),i}Oa(e){this.fa=e.gs,this.pa=Nt();const i=this.Sa(e.documents);return this.applyChanges(i,!0)}Na(){return vs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ed="SyncEngine";class b1{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class R1{constructor(e){this.key=e,this.Ba=!1}}class w1{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new pa(g=>V_(g),ec),this.qa=new Map,this.Qa=new Set,this.$a=new ne(ft.comparator),this.Ka=new Map,this.Ua=new od,this.Wa={},this.Ga=new Map,this.za=_s.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function D1(s,e,i=!0){const a=yv(s);let u;const h=a.ka.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await fv(a,e,i,!0),u}async function C1(s,e){const i=yv(s);await fv(i,e,!0,!1)}async function fv(s,e,i,a){const u=await QS(s.localStore,ti(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await V1(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&rv(s.remoteStore,u),g}async function V1(s,e,i,a,u){s.Ha=(I,P,H)=>async function(tt,Z,At,gt){let Et=Z.view.Sa(At);Et.ls&&(Et=await wy(tt.localStore,Z.query,!1).then(({documents:x})=>Z.view.Sa(x,Et)));const Ct=gt&&gt.targetChanges.get(Z.targetId),yt=gt&&gt.targetMismatches.get(Z.targetId)!=null,It=Z.view.applyChanges(Et,tt.isPrimaryClient,Ct,yt);return zy(tt,Z.targetId,It.Ma),It.snapshot}(s,I,P,H);const h=await wy(s.localStore,e,!0),d=new S1(e,h.gs),g=d.Sa(h.documents),_=$l.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(g,s.isPrimaryClient,_);zy(s,i,v.Ma);const R=new b1(e,i,d);return s.ka.set(e,R),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),v.snapshot}async function N1(s,e,i){const a=vt(s),u=a.ka.get(e),h=a.qa.get(u.targetId);if(h.length>1)return a.qa.set(u.targetId,h.filter(d=>!ec(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await Gf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&dd(a.remoteStore,u.targetId),Kf(a,u.targetId)}).catch(Ss)):(Kf(a,u.targetId),await Gf(a.localStore,u.targetId,!0))}async function O1(s,e){const i=vt(s),a=i.ka.get(e),u=i.qa.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),dd(i.remoteStore,a.targetId))}async function M1(s,e,i){const a=B1(s);try{const u=await function(d,g){const _=vt(d),v=Se.now(),R=g.reduce((H,$)=>H.add($.key),Nt());let I,P;return _.persistence.runTransaction("Locally write mutations","readwrite",H=>{let $=xi(),tt=Nt();return _.ds.getEntries(H,R).next(Z=>{$=Z,$.forEach((At,gt)=>{gt.isValidDocument()||(tt=tt.add(At))})}).next(()=>_.localDocuments.getOverlayedDocuments(H,$)).next(Z=>{I=Z;const At=[];for(const gt of g){const Et=GA(gt,I.get(gt.key).overlayedDocument);Et!=null&&At.push(new Mr(gt.key,Et,T_(Et.value.mapValue),ei.exists(!0)))}return _.mutationQueue.addMutationBatch(H,v,At,g)}).next(Z=>{P=Z;const At=Z.applyToLocalDocumentSet(I,tt);return _.documentOverlayCache.saveOverlays(H,Z.batchId,At)})}).then(()=>({batchId:P.batchId,changes:M_(I)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,g,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new ne(Mt)),v=v.insert(g,_),d.Wa[d.currentUser.toKey()]=v}(a,u.batchId,i),await Wl(a,u.changes),await uc(a.remoteStore)}catch(u){const h=_d(u,"Failed to persist write");i.reject(h)}}async function dv(s,e){const i=vt(s);try{const a=await qS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ka.get(h);d&&(Qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?Qt(d.Ba):u.removedDocuments.size>0&&(Qt(d.Ba),d.Ba=!1))}),await Wl(i,a,e)}catch(a){await Ss(a)}}function Uy(s,e,i){const a=vt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=vt(d);_.onlineState=g;let v=!1;_.queries.forEach((R,I)=>{for(const P of I.ta)P.sa(g)&&(v=!0)}),v&&vd(_)}(a.eventManager,e),u.length&&a.La.p_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function I1(s,e,i){const a=vt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Ka.get(e),h=u&&u.key;if(h){let d=new ne(ft.comparator);d=d.insert(h,Fe.newNoDocument(h,pt.min()));const g=Nt().add(h),_=new ac(pt.min(),new Map,new ne(Mt),d,g);await dv(a,_),a.$a=a.$a.remove(h),a.Ka.delete(e),Td(a)}else await Gf(a.localStore,e,!1).then(()=>Kf(a,e,i)).catch(Ss)}async function x1(s,e){const i=vt(s),a=e.batch.batchId;try{const u=await kS(i.localStore,e);gv(i,a,null),mv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Wl(i,u)}catch(u){await Ss(u)}}async function U1(s,e,i){const a=vt(s);try{const u=await function(d,g){const _=vt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let R;return _.mutationQueue.lookupMutationBatch(v,g).next(I=>(Qt(I!==null),R=I.keys(),_.mutationQueue.removeMutationBatch(v,I))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,R,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,R)).next(()=>_.localDocuments.getDocuments(v,R))})}(a.localStore,e);gv(a,e,i),mv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Wl(a,u)}catch(u){await Ss(u)}}function mv(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function gv(s,e,i){const a=vt(s);let u=a.Wa[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Wa[a.currentUser.toKey()]=u}}function Kf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),i&&s.La.Ja(a,i);s.qa.delete(e),s.isPrimaryClient&&s.Ua.Sr(e).forEach(a=>{s.Ua.containsKey(a)||pv(s,a)})}function pv(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(dd(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ka.delete(i),Td(s))}function zy(s,e,i){for(const a of i)a instanceof cv?(s.Ua.addReference(a.key,e),z1(s,a)):a instanceof hv?(it(Ed,"Document no longer in limbo: "+a.key),s.Ua.removeReference(a.key,e),s.Ua.containsKey(a.key)||pv(s,a.key)):mt()}function z1(s,e){const i=e.key,a=i.path.canonicalString();s.$a.get(i)||s.Qa.has(a)||(it(Ed,"New document in limbo: "+i),s.Qa.add(a),Td(s))}function Td(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new ft(Jt.fromString(e)),a=s.za.next();s.Ka.set(a,new R1(i)),s.$a=s.$a.insert(i,a),rv(s.remoteStore,new _r(ti(C_(i.path)),a,"TargetPurposeLimboResolution",$o.ae))}}async function Wl(s,e,i){const a=vt(s),u=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((g,_)=>{d.push(a.Ha(_,e,i).then(v=>{var R;if((v||i)&&a.isPrimaryClient){const I=v?!v.fromCache:(R=i==null?void 0:i.targetChanges.get(_.targetId))===null||R===void 0?void 0:R.current;a.sharedClientState.updateQueryState(_.targetId,I?"current":"not-current")}if(v){u.push(v);const I=hd.Yi(_.targetId,v);h.push(I)}}))}),await Promise.all(d),a.La.p_(u),await async function(_,v){const R=vt(_);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Q.forEach(v,P=>Q.forEach(P.Hi,H=>R.persistence.referenceDelegate.addReference(I,P.targetId,H)).next(()=>Q.forEach(P.Ji,H=>R.persistence.referenceDelegate.removeReference(I,P.targetId,H)))))}catch(I){if(!bs(I))throw I;it(fd,"Failed to update sequence numbers: "+I)}for(const I of v){const P=I.targetId;if(!I.fromCache){const H=R.Ts.get(P),$=H.snapshotVersion,tt=H.withLastLimboFreeSnapshotVersion($);R.Ts=R.Ts.insert(P,tt)}}}(a.localStore,h))}async function L1(s,e){const i=vt(s);if(!i.currentUser.isEqual(e)){it(Ed,"User change. New user:",e.toKey());const a=await tv(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(_=>{_.reject(new ct(Y.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Wl(i,a.Rs)}}function P1(s,e){const i=vt(s),a=i.Ka.get(e);if(a&&a.Ba)return Nt().add(a.key);{let u=Nt();const h=i.qa.get(e);if(!h)return u;for(const d of h){const g=i.ka.get(d);u=u.unionWith(g.view.ba)}return u}}function yv(s){const e=vt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=dv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I1.bind(null,e),e.La.p_=E1.bind(null,e.eventManager),e.La.Ja=T1.bind(null,e.eventManager),e}function B1(s){const e=vt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U1.bind(null,e),e}class Xo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return jS(this.persistence,new LS,e.initialUser,this.serializer)}Xa(e){return new W_(cd.ri,this.serializer)}Za(e){return new KS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xo.provider={build:()=>new Xo};class j1 extends Xo{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Qt(this.persistence.referenceDelegate instanceof Ko);const a=this.persistence.referenceDelegate.garbageCollector;return new AS(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new W_(a=>Ko.ri(a,i),this.serializer)}}class Yf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Uy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=L1.bind(null,this.syncEngine),await g1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new y1}()}createDatastore(e){const i=sc(e.databaseInfo.databaseId),a=function(h){return new JS(h)}(e.databaseInfo);return function(h,d,g,_){return new n1(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,g){return new r1(a,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>Uy(this.syncEngine,i,0),function(){return Vy.D()?new Vy:new YS}())}createSyncEngine(e,i){return function(u,h,d,g,_,v,R){const I=new w1(u,h,d,g,_,v);return R&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=vt(u);it(ma,"RemoteStore shutting down."),h.W_.add(5),await Jl(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Yf.provider={build:()=>new Yf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="FirestoreClient";class q1{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Qe.UNAUTHENTICATED,this.clientId=h_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{it(Nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(Nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=_d(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Df(s,e){s.asyncQueue.verifyOperationInProgress(),it(Nr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await tv(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Ly(s,e){s.asyncQueue.verifyOperationInProgress();const i=await H1(s);it(Nr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Oy(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>Oy(e.remoteStore,u)),s._onlineComponents=e}async function H1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(Nr,"Using user provided OfflineComponentProvider");try{await Df(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===Y.FAILED_PRECONDITION||u.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;ms("Error using user provided cache. Falling back to memory cache: "+i),await Df(s,new Xo)}}else it(Nr,"Using default OfflineComponentProvider"),await Df(s,new j1(void 0));return s._offlineComponents}async function _v(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(Nr,"Using user provided OnlineComponentProvider"),await Ly(s,s._uninitializedComponentsProvider._online)):(it(Nr,"Using default OnlineComponentProvider"),await Ly(s,new Yf))),s._onlineComponents}function G1(s){return _v(s).then(e=>e.syncEngine)}async function Q1(s){const e=await _v(s),i=e.eventManager;return i.onListen=D1.bind(null,e.syncEngine),i.onUnlisten=N1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=C1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=O1.bind(null,e.syncEngine),i}function F1(s,e,i={}){const a=new Ar;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const R=new k1({next:P=>{R.su(),d.enqueueAndForget(()=>v1(h,I)),P.fromCache&&_.source==="server"?v.reject(new ct(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(P)},error:P=>v.reject(P)}),I=new A1(g,R,{includeMetadataChanges:!0,Ta:!0});return _1(h,I)}(await Q1(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(s,e,i){if(!i)throw new ct(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function K1(s,e,i,a){if(e===!0&&a===!0)throw new ct(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function By(s){if(!ft.isDocumentKey(s))throw new ct(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function jy(s){if(ft.isDocumentKey(s))throw new ct(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Ad(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":mt()}function ga(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ct(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ad(s);throw new ct(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="firestore.googleapis.com",ky=!0;class qy{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ct(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Tv,this.ssl=ky}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:ky;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ES)throw new ct(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ct(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ct(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ct(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new ZT;switch(a.type){case"firstParty":return new tA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Py.get(i);a&&(it("ComponentProvider","Removing Datastore"),Py.delete(i),a.terminate())}(this),Promise.resolve()}}function Y1(s,e,i,a={}){var u;const h=(s=ga(s,oc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==Tv&&h.host!==g&&ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:a});if(!zo(_,d)&&(s._setSettings(_),a.mockUserToken)){let v,R;if(typeof a.mockUserToken=="string")v=a.mockUserToken,R=Qe.MOCK_USER;else{v=D0(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const I=a.mockUserToken.sub||a.mockUserToken.user_id;if(!I)throw new ct(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Qe(I)}s._authCredentials=new $T(new c_(v,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new cc(this.firestore,e,this._query)}}class dn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class Sr extends cc{constructor(e,i,a){super(e,i,C_(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ft(e))}withConverter(e){return new Sr(this.firestore,e,this._path)}}function Av(s,e,...i){if(s=br(s),Ev("collection","path",e),s instanceof oc){const a=Jt.fromString(e,...i);return jy(a),new Sr(s,null,a)}{if(!(s instanceof dn||s instanceof Sr))throw new ct(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return jy(a),new Sr(s.firestore,null,a)}}function Sv(s,e,...i){if(s=br(s),arguments.length===1&&(e=h_.newId()),Ev("doc","path",e),s instanceof oc){const a=Jt.fromString(e,...i);return By(a),new dn(s,null,new ft(a))}{if(!(s instanceof dn||s instanceof Sr))throw new ct(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return By(a),new dn(s.firestore,s instanceof Sr?s.converter:null,new ft(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="AsyncQueue";class Gy{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new nv(this,"async_queue_retry"),this.bu=()=>{const a=wf();a&&it(Hy,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=e;const i=wf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=wf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Ar;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!bs(e))throw e;it(Hy,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.Su.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(a);throw Ii("INTERNAL UNHANDLED ERROR: ",u),a}).then(a=>(this.pu=!1,a))));return this.Su=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=yd.createAndSchedule(this,e,i,a,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&mt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class hc extends oc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new Gy,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gy(e),this._firestoreClient=void 0,await e}}}function X1(s,e){const i=typeof s=="object"?s:LT(),a=typeof s=="string"?s:jo,u=MT(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=R0("firestore");h&&Y1(u,...h)}return u}function bv(s){if(s._terminated)throw new ct(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Z1(s),s._firestoreClient}function Z1(s){var e,i,a;const u=s._freezeSettings(),h=function(g,_,v,R){return new mA(g,_,v,R.host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,vv(R.experimentalLongPollingOptions),R.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new q1(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Es(Be.fromBase64String(e))}catch(i){throw new ct(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Es(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ct(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ct(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ct(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=/^__.*__$/;class J1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Zl(e,this.data,i,this.fieldTransforms)}}class Rv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function wv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class wd{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new wd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.$u(e),u}Ku(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.Bu(),u}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Zo(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(wv(this.Lu)&&$1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class W1{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||sc(e)}ju(e,i,a,u=!1){return new wd({Lu:e,methodName:i,zu:a,path:Pe.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dv(s){const e=s._freezeSettings(),i=sc(s._databaseId);return new W1(s._databaseId,!!e.ignoreUndefinedProperties,i)}function tb(s,e,i,a,u,h={}){const d=s.ju(h.merge||h.mergeFields?2:0,e,i,u);Dd("Data must be an object, but it was:",d,a);const g=Cv(a,d);let _,v;if(h.merge)_=new fn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const R=[];for(const I of h.mergeFields){const P=Xf(e,I,i);if(!d.contains(P))throw new ct(Y.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);Nv(R,P)||R.push(P)}_=new fn(R),v=d.fieldTransforms.filter(I=>_.covers(I.field))}else _=null,v=d.fieldTransforms;return new J1(new rn(g),_,v)}class dc extends Sd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dc}}function eb(s,e,i,a){const u=s.ju(1,e,i);Dd("Data must be an object, but it was:",u,a);const h=[],d=rn.empty();Or(a,(_,v)=>{const R=Cd(e,_,i);v=br(v);const I=u.Ku(R);if(v instanceof dc)h.push(R);else{const P=mc(v,I);P!=null&&(h.push(R),d.set(R,P))}});const g=new fn(h);return new Rv(d,g,u.fieldTransforms)}function nb(s,e,i,a,u,h){const d=s.ju(1,e,i),g=[Xf(e,a,i)],_=[u];if(h.length%2!=0)throw new ct(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<h.length;P+=2)g.push(Xf(e,h[P])),_.push(h[P+1]);const v=[],R=rn.empty();for(let P=g.length-1;P>=0;--P)if(!Nv(v,g[P])){const H=g[P];let $=_[P];$=br($);const tt=d.Ku(H);if($ instanceof dc)v.push(H);else{const Z=mc($,tt);Z!=null&&(v.push(H),R.set(H,Z))}}const I=new fn(v);return new Rv(R,I,d.fieldTransforms)}function mc(s,e){if(Vv(s=br(s)))return Dd("Unsupported field value:",e,s),Cv(s,e);if(s instanceof Sd)return function(a,u){if(!wv(u.Lu))throw u.Wu(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const g of a){let _=mc(g,u.Uu(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=br(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return PA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Se.fromDate(a);return{timestampValue:Fo(u.serializer,h)}}if(a instanceof Se){const h=new Se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Fo(u.serializer,h)}}if(a instanceof bd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Es)return{bytesValue:Q_(u.serializer,a._byteString)};if(a instanceof dn){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:ud(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof Rd)return function(d,g){return{mapValue:{fields:{[v_]:{stringValue:E_},[ko]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return ad(g.serializer,v)})}}}}}}(a,u);throw u.Wu(`Unsupported field value: ${Ad(a)}`)}(s,e)}function Cv(s,e){const i={};return d_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Or(s,(a,u)=>{const h=mc(u,e.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Vv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Se||s instanceof bd||s instanceof Es||s instanceof dn||s instanceof Sd||s instanceof Rd)}function Dd(s,e,i){if(!Vv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=Ad(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function Xf(s,e,i){if((e=br(e))instanceof fc)return e._internalPath;if(typeof e=="string")return Cd(s,e);throw Zo("Field path arguments must be of type string or ",s,!1,void 0,i)}const ib=new RegExp("[~\\*/\\[\\]]");function Cd(s,e,i){if(e.search(ib)>=0)throw Zo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new fc(...e.split("."))._internalPath}catch{throw Zo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Zo(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new ct(Y.INVALID_ARGUMENT,g+s+_)}function Nv(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Mv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class rb extends Ov{data(){return super.data()}}function Mv(s,e){return typeof e=="string"?Cd(s,e):e instanceof fc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ct(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sb{convertValue(e,i="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw mt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Or(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[ko].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>ce(d.doubleValue));return new Rd(h)}convertGeoPoint(e){return new bd(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Wo(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const i=wr(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Jt.fromString(e);Qt($_(a));const u=new Fl(a.get(1),a.get(3)),h=new ft(a.popFirst(5));return u.isEqual(i)||Ii(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ub extends Ov{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new xo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Mv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class xo extends ub{data(e={}){return super.data(e)}}class ob{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Do(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new xo(this._firestore,this._userDataWriter,a.key,a,new Do(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const _=new xo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Do(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new xo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Do(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,R=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),R=d.indexOf(g.doc.key)),{type:cb(g.type),doc:_,oldIndex:v,newIndex:R}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function cb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}class hb extends sb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,i)}}function fb(s){s=ga(s,cc);const e=ga(s.firestore,hc),i=bv(e),a=new hb(e);return ab(s._query),F1(i,s._query).then(u=>new ob(e,a,s,u))}function db(s,e,i){s=ga(s,dn);const a=ga(s.firestore,hc),u=lb(s.converter,e);return Iv(a,[tb(Dv(a),"setDoc",s._key,u,s.converter!==null,i).toMutation(s._key,ei.none())])}function mb(s,e,i,...a){s=ga(s,dn);const u=ga(s.firestore,hc),h=Dv(u);let d;return d=typeof(e=br(e))=="string"||e instanceof fc?nb(h,"updateDoc",s._key,e,i,a):eb(h,"updateDoc",s._key,e),Iv(u,[d.toMutation(s._key,ei.exists(!0))])}function Iv(s,e){return function(a,u){const h=new Ar;return a.asyncQueue.enqueueAndForget(async()=>M1(await G1(a),u,h)),h.promise}(bv(s),e)}(function(e,i=!0){(function(u){As=u})(zT),Po(new ql("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new hc(new JT(a.getProvider("auth-internal")),new eA(d,a.getProvider("app-check-internal")),function(v,R){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ct(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(v.options.projectId,R)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),fs($p,Jp,e),fs($p,Jp,"esm2017")})();const gb={apiKey:"AIzaSyCW1GUYsDhD26rPfi_5kxp7BuJaAVFcXwI",authDomain:"teambuilder-4a75c.firebaseapp.com",projectId:"teambuilder-4a75c",storageBucket:"teambuilder-4a75c.firebasestorage.app",messagingSenderId:"973119314353",appId:"1:973119314353:web:57799fc07c80e055654590"},pb=e_(gb),xv=X1(pb),Co=Av(xv,"users").withConverter({toFirestore:s=>s,fromFirestore:s=>s.data()}),Il=Av(xv,"projects").withConverter({toFirestore:s=>s,fromFirestore:s=>s.data()}),Qy=async s=>(await fb(s)).docs.map(i=>({id:i.id,...i.data()})),Fy=async(s,e)=>{await db(Sv(s,e.id),e)},xl=async(s,e)=>{await mb(Sv(s,e.id),e)};function Ky({title:s,message:e,onClose:i}){return Ge.useEffect(()=>{const a=setTimeout(()=>{i()},5e3);return()=>clearTimeout(a)},[i]),W.jsxs("div",{className:"toast",children:[W.jsx("div",{className:"toast-icon",children:"🎉"}),W.jsxs("div",{className:"toast-content",children:[W.jsx("div",{className:"toast-title",children:s}),W.jsx("div",{className:"toast-message",children:e})]})]})}function Cf({user:s,isEditing:e,onEdit:i}){const[a,u]=Ge.useState(s.name),[h,d]=Ge.useState(s.description);return e?W.jsxs("div",{className:"user-profile editing",children:[W.jsx("input",{type:"text",value:a,onChange:g=>u(g.target.value),placeholder:"Your name"}),W.jsx("textarea",{value:h,onChange:g=>d(g.target.value),placeholder:"Tell us about yourself..."}),W.jsx("button",{onClick:()=>i==null?void 0:i({...s,name:a.trim(),description:h.trim()}),children:"Save Profile"})]}):W.jsxs("div",{className:"user-profile",children:[W.jsx("div",{className:"user-name",children:s.name}),s.description&&W.jsx("div",{className:"user-description",children:s.description})]})}const yb=[{title:"Умный планировщик питания",description:"Приложение, которое анализирует привычки питания, составляет персонализированное меню и автоматически заказывает продукты из ближайших магазинов. Интеграция с популярными службами доставки продуктов."},{title:"Маркетплейс локальных гидов",description:"Платформа для поиска местных гидов и уникальных экскурсий в городах России. Гиды могут создавать свои маршруты, а путешественники - выбирать экскурсии по интересам и бюджету."},{title:"Агрегатор детских кружков",description:"Сервис для поиска и записи детей на развивающие занятия, спортивные секции и творческие кружки. С отзывами родителей, рейтингом преподавателей и онлайн-оплатой."},{title:"Сервис аренды гаражных мастерских",description:"Платформа, где владельцы гаражей и мастерских могут сдавать их в почасовую аренду для ремонта автомобилей, столярных работ или других хобби. С инструментами и оборудованием."},{title:"Marketplace подержанной электроники",description:"Сервис перепродажи б/у электроники с проверкой технического состояния, гарантией и доставкой. Интеграция с сервисными центрами для диагностики и ремонта."}];function _b(){const[s,e]=Ge.useState([]),[i,a]=Ge.useState([]),[u,h]=Ge.useState(null),[d,g]=Ge.useState(""),[_,v]=Ge.useState(""),[R,I]=Ge.useState(""),[P,H]=Ge.useState(!0),[$,tt]=Ge.useState(!1),[Z,At]=Ge.useState([]),[gt,Et]=Ge.useState([]);Ge.useEffect(()=>{(async()=>{try{const A=await Qy(Co),ht=await Qy(Il);e(A),a(ht)}catch(A){console.error("Error loading data:",A),Ct("Error","Failed to load data. Please try again later.")}finally{H(!1)}})()},[]);const Ct=(w,A)=>{const ht=Date.now().toString();At(Tt=>[...Tt,{id:ht,title:w,message:A}])},yt=w=>{At(A=>A.filter(ht=>ht.id!==w))},It=async()=>{if(!d.trim())return;const w={id:Date.now().toString(),name:d.trim(),description:"",celebratedProjects:[]};try{await Fy(Co,w),e(A=>[...A,w]),h(w),g("")}catch(A){console.error("Error creating user:",A),Ct("Error","Failed to create user. Please try again.")}},x=async()=>{if(!u||!_.trim())return;const w={id:Date.now().toString(),authorId:u.id,title:_.trim(),description:R.trim(),createdAt:Date.now(),applications:[],acceptedUsers:[],rejectedUsers:[]};try{await Fy(Il,w),a(A=>[...A,w]),v(""),I("")}catch(A){console.error("Error creating project:",A),Ct("Error","Failed to create project. Please try again.")}},D=async w=>{if(!u)return;const A=i.find(Tt=>Tt.id===w);if(!A)return;const ht={...A,applications:[...A.applications,u.id]};try{await xl(Il,ht),a(Tt=>Tt.map(X=>X.id===w?ht:X))}catch(Tt){console.error("Error applying to project:",Tt),Ct("Error","Failed to apply to project. Please try again.")}},S=async(w,A)=>{const ht=i.find(X=>X.id===w);if(!ht)return;const Tt={...ht,applications:ht.applications.filter(X=>X!==A),acceptedUsers:[...ht.acceptedUsers,A]};try{await xl(Il,Tt),a(X=>X.map(lt=>lt.id===w?Tt:lt))}catch(X){console.error("Error accepting application:",X),Ct("Error","Failed to accept application. Please try again.")}},C=async(w,A)=>{const ht=i.find(X=>X.id===w);if(!ht)return;const Tt={...ht,applications:ht.applications.filter(X=>X!==A),rejectedUsers:[...ht.rejectedUsers,A]};try{await xl(Il,Tt),a(X=>X.map(lt=>lt.id===w?Tt:lt))}catch(X){console.error("Error rejecting application:",X),Ct("Error","Failed to reject application. Please try again.")}},O=async w=>{try{await xl(Co,w),e(A=>A.map(ht=>ht.id===w.id?w:ht)),h(w),tt(!1),Ct("Success","Profile updated successfully!")}catch(A){console.error("Error updating profile:",A),Ct("Error","Failed to update profile. Please try again.")}};return Ge.useEffect(()=>{if(!u||!u.celebratedProjects)return;const w=[];if(i.forEach(A=>{A.acceptedUsers&&A.acceptedUsers.includes(u.id)&&!u.celebratedProjects.includes(A.id)&&!gt.includes(A.id)&&w.push({projectId:A.id,title:A.title})}),w.length>0){Et(ht=>[...ht,...w.map(Tt=>Tt.projectId)]),w.forEach(ht=>{Ct("Поздравляем!",`Вас приняли в проект '${ht.title}'!`)});const A={...u,celebratedProjects:[...u.celebratedProjects,...w.map(ht=>ht.projectId)]};xl(Co,A).then(()=>{e(ht=>ht.map(Tt=>Tt.id===u.id?A:Tt))}).catch(ht=>{console.error("Error updating user celebrations:",ht)})}},[u,i]),P?W.jsx("div",{className:"loading",children:"Loading..."}):u?W.jsxs("div",{className:"App",children:[W.jsx("div",{className:"toast-container",children:Z.map(w=>W.jsx(Ky,{title:w.title,message:w.message,onClose:()=>yt(w.id)},w.id))}),W.jsxs("div",{className:"app",children:[W.jsxs("header",{children:[W.jsx("h1",{children:"Project Marketplace"}),W.jsx("div",{className:"user-info",children:$?W.jsx(Cf,{user:u,isEditing:!0,onEdit:O}):W.jsxs(W.Fragment,{children:[W.jsx(Cf,{user:u}),W.jsx("button",{onClick:()=>tt(!0),children:"Edit Profile"}),W.jsx("button",{onClick:()=>h(null),children:"Logout"})]})})]}),W.jsxs("div",{className:"create-project",children:[W.jsx("h2",{children:"Create New Project"}),W.jsxs("div",{className:"project-templates",children:[W.jsx("h3",{children:"Шаблоны проектов:"}),W.jsx("div",{className:"templates-grid",children:yb.map((w,A)=>W.jsx("button",{className:"template-button",onClick:()=>{v(w.title),I(w.description)},children:w.title},A))})]}),W.jsx("input",{type:"text",value:_,onChange:w=>v(w.target.value),placeholder:"Project Title"}),W.jsx("textarea",{value:R,onChange:w=>I(w.target.value),placeholder:"Project Description"}),W.jsx("button",{onClick:x,children:"Publish Project"})]}),W.jsxs("div",{className:"projects-list",children:[W.jsx("h2",{children:"All Projects"}),i.map(w=>{var A,ht,Tt,X,lt,ut,Bt;return W.jsxs("div",{className:"project-card",children:[W.jsx("h3",{children:w.title}),W.jsx("p",{children:w.description}),W.jsxs("p",{children:["Author: ",(A=s.find(V=>V.id===w.authorId))==null?void 0:A.name]}),w.authorId===u.id?W.jsxs("div",{className:"applications",children:[W.jsx("h4",{children:"Applications:"}),w.applications.map(V=>{const F=s.find(rt=>rt.id===V);return F?W.jsxs("div",{className:"application",children:[W.jsx(Cf,{user:F}),W.jsxs("div",{className:"application-actions",children:[W.jsx("button",{onClick:()=>S(w.id,V),children:"Accept"}),W.jsx("button",{onClick:()=>C(w.id,V),children:"Reject"})]})]},V):null}),(((ht=w.acceptedUsers)==null?void 0:ht.length)>0||((Tt=w.rejectedUsers)==null?void 0:Tt.length)>0)&&W.jsxs("div",{className:"applications-status",children:[((X=w.acceptedUsers)==null?void 0:X.length)>0&&W.jsxs("div",{className:"accepted-users",children:[W.jsx("h4",{children:"Принятые участники:"}),w.acceptedUsers.map(V=>{var F;return W.jsxs("div",{className:"status-item accepted",children:["✅ ",(F=s.find(rt=>rt.id===V))==null?void 0:F.name]},V)})]}),((lt=w.rejectedUsers)==null?void 0:lt.length)>0&&W.jsxs("div",{className:"rejected-users",children:[W.jsx("h4",{children:"Отклоненные заявки:"}),w.rejectedUsers.map(V=>{var F;return W.jsxs("div",{className:"status-item rejected",children:["❌ ",(F=s.find(rt=>rt.id===V))==null?void 0:F.name]},V)})]})]})]}):W.jsx("div",{className:"project-status",children:(ut=w.acceptedUsers)!=null&&ut.includes(u.id)?W.jsx("div",{className:"status-message accepted",children:"✅ Вы приняты в проект!"}):(Bt=w.rejectedUsers)!=null&&Bt.includes(u.id)?W.jsx("div",{className:"status-message rejected",children:"❌ Ваша заявка отклонена"}):W.jsx("button",{onClick:()=>D(w.id),disabled:w.applications.includes(u.id),children:w.applications.includes(u.id)?"Applied":"I Want This!"})})]},w.id)})]})]})]}):W.jsxs("div",{className:"App",children:[W.jsx("div",{className:"toast-container",children:Z.map(w=>W.jsx(Ky,{title:w.title,message:w.message,onClose:()=>yt(w.id)},w.id))}),W.jsxs("div",{className:"welcome-screen",children:[W.jsx("h1",{children:"Welcome to Project Marketplace"}),W.jsxs("div",{className:"login-section",children:[W.jsxs("div",{className:"new-user",children:[W.jsx("input",{type:"text",value:d,onChange:w=>g(w.target.value),placeholder:"Enter new username"}),W.jsx("button",{onClick:It,children:"Create New User"})]}),W.jsxs("div",{className:"existing-users",children:[W.jsx("h2",{children:"Existing Users"}),W.jsx("div",{className:"users-list",children:s.map(w=>W.jsx("button",{onClick:()=>h(w),className:"user-button",children:w.name},w.id))})]})]})]})]})}m0.createRoot(document.getElementById("root")).render(W.jsx(Ge.StrictMode,{children:W.jsx(_b,{})}));
